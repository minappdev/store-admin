(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["setting-shipping"],{"0bf3":function(e,t,i){"use strict";var n=i("c2f2"),s=i.n(n);s.a},"20d6":function(e,t,i){"use strict";var n=i("5ca1"),s=i("0a49")(6),a="findIndex",l=!0;a in[]&&Array(1)[a](function(){l=!1}),n(n.P+n.F*l,"Array",{findIndex:function(e){return s(this,e,arguments.length>1?arguments[1]:void 0)}}),i("9c6c")(a)},"32cd":function(e,t,i){},3399:function(e,t,i){"use strict";var n=i("c2e6"),s=i.n(n);s.a},7196:function(e,t,i){"use strict";t["a"]=["北京市","天津市","河北省","山西省","内蒙古自治区","辽宁省","吉林省","黑龙江省","上海市","江苏省","浙江省","安徽省","福建省","江西省","山东省","河南省","湖北省","湖南省","广东省","广西壮族自治区","海南省","重庆市","四川省","贵州省","云南省","西藏自治区","陕西省","甘肃省","青海省","宁夏回族自治区","新疆维吾尔自治区","台湾省","香港特别行政区","澳门特别行政区"]},"752c":function(e,t,i){"use strict";var n=i("7bbcd"),s=i.n(n);s.a},"77eb":function(e,t,i){"use strict";var n=i("32cd"),s=i.n(n);s.a},"7bbcd":function(e,t,i){},"80bf":function(e,t,i){"use strict";i("96cf");var n=i("1da1"),s=(i("7f7f"),i("a3fb"));t["a"]=function(e){var t=e.name,i=e.components,a=e.map;return{name:t,components:i,data:function(){return{store:{}}},created:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(s["b"])();case 2:this.store=e.sent;case 3:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),render:function(e){return e(a[this.store.kind])}}}},c2e6:function(e,t,i){},c2f2:function(e,t,i){},cb01:function(e,t,i){},dc72:function(e,t,i){"use strict";i.r(t);var n,s,a=i("80bf"),l=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"shipping"},[i("section",{staticClass:"container",staticStyle:{"padding-left":"10px"}},[i("el-switch",{attrs:{"active-text":"外卖配送服务"},model:{value:e.enableShipping,callback:function(t){e.enableShipping=t},expression:"enableShipping"}})],1),e.enableShipping?i("section",{staticClass:"container"},[i("el-form",{staticClass:"form",attrs:{model:e.store,"label-width":"100px"}},[i("el-row",{attrs:{gutter:20}},[i("el-col",{attrs:{span:8}},[i("el-form-item",{attrs:{label:"起送金额"}},[i("el-input",{attrs:{type:"number"},model:{value:e.store.shippingminamount,callback:function(t){e.$set(e.store,"shippingminamount",t)},expression:"store.shippingminamount"}},[i("template",{slot:"append"},[e._v("元")])],2)],1)],1)],1),i("el-row",{attrs:{gutter:20}},[i("el-col",{attrs:{span:8}},[i("el-form-item",{attrs:{label:"最大配送距离"}},[i("el-input",{attrs:{type:"number",placeholder:"0则表示不限制"},model:{value:e.store.distancelimited,callback:function(t){e.$set(e.store,"distancelimited",t)},expression:"store.distancelimited"}},[i("template",{slot:"append"},[e._v("km")])],2)],1)],1)],1),i("el-row",{attrs:{gutter:20}},[i("el-col",{attrs:{span:24}},[i("el-form-item",{attrs:{label:"距离用时"}},e._l(e.store.distancepricelistList,function(t){return i("div",{key:t.distance,staticClass:"shipping-fee-line"},[i("span",{staticClass:"fee-desc-part",staticStyle:{"margin-right":"20px"}},[e._v(e._s(1e4!==t.distance?"小于"+t.distance+"km":"大于10km"))]),i("span",{staticClass:"fee-desc-part",staticStyle:{"margin-right":"20px"}},[e._v("配送费")]),i("el-input",{staticClass:"inline-form-item",model:{value:t.price,callback:function(i){e.$set(t,"price",i)},expression:"item.price"}},[i("template",{slot:"append"},[e._v("元")])],2),i("span",{staticClass:"fee-desc-part",staticStyle:{"margin-right":"20px"}},[e._v("需用时")]),i("el-select",{staticClass:"inline-form-item",attrs:{placeholder:"请选择用时"},model:{value:t.duration,callback:function(i){e.$set(t,"duration",i)},expression:"item.duration"}},[i("el-option",{attrs:{label:"15分钟",value:900}}),i("el-option",{attrs:{label:"30分钟",value:1800}}),i("el-option",{attrs:{label:"45分钟",value:2700}}),i("el-option",{attrs:{label:"1小时",value:3600}}),i("el-option",{attrs:{label:"1.5小时",value:5400}}),i("el-option",{attrs:{label:"2小时",value:7200}}),i("el-option",{attrs:{label:"3小时",value:10800}}),i("el-option",{attrs:{label:"1天",value:86400}})],1)],1)}))],1)],1)],1),i("div",{staticClass:"save-btn-container"},[i("el-button",{attrs:{type:"primary"},on:{click:e.updateStore}},[e._v("\n        保存\n      ")])],1)],1):e._e()])},r=[],o=(i("6762"),i("2fdb"),i("be94")),c=i("8e44"),p=i("e8e1"),d=i("73cd"),u=[{distance:2,price:0,duration:1800},{distance:5,price:0,duration:1800},{distance:10,price:0,duration:7200},{distance:1e4,price:0,duration:86400}],f={name:"shipping",data:function(){return{token:Object(d["e"])(),store:{},enableShipping:!1}},watch:{enableShipping:function(e){this.updateStore()}},mounted:function(){var e=this;Object(c["a"])("StoreAuthService.GetStore",Object(p["a"])("Token",{token:this.token})).then(function(t){t.shippingminamount=t.shippingminamount/100,t.distancelimited=t.distancelimited/1e3,t.distancepricelistList=t.distancepricelistList.map(function(e){return Object(o["a"])({},e,{distance:e.distance/1e3,price:e.price/100})}),t.distancepricelistList=t.distancepricelistList.length?t.distancepricelistList:u,e.store=t,e.enableShipping=e.store.deliverkindlistList.includes(2)})},methods:{updateStore:function(){var e=this,t=JSON.parse(JSON.stringify(this.store));t.shippingminamount=parseInt(100*t.shippingminamount),t.distancelimited=parseInt(1e3*t.distancelimited),t.distancepricelistList=t.distancepricelistList.map(function(e){return Object(o["a"])({},e,{distance:parseInt(1e3*e.distance),price:parseInt(100*e.price)})}),this.enableShipping&&!t.deliverkindlistList.includes(2)&&t.deliverkindlistList.push(2),!this.enableShipping&&t.deliverkindlistList.includes(2)&&(t.deliverkindlistList=t.deliverkindlistList.filter(function(e){return 2!==e})),Object(c["a"])("StoreStoreService.UpdateInfo",Object(p["a"])("StoreWithTokenRequest",{token:Object(p["a"])("Token",{token:this.token}),store:Object(p["a"])("Store",Object(o["a"])({},t,{businesshoursList:t.businesshoursList.map(function(e){return Object(p["a"])("BusinessHours",e)}),distancepricelistList:t.distancepricelistList.map(function(e){return Object(p["a"])("DistancePrice",e)})}))})).then(function(t){t.shippingminamount=t.shippingminamount/100,t.distancelimited=t.distancelimited/1e3,t.distancepricelistList=t.distancepricelistList.map(function(e){return Object(o["a"])({},e,{distance:e.distance/1e3,price:e.price/100})}),e.store=t})}}},m=f,v=(i("fc97"),i("2877")),h=Object(v["a"])(m,l,r,!1,null,"66da1ae6",null),b=h.exports,k=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"shipping"},[i("section",{staticClass:"container",staticStyle:{"padding-left":"10px"}},[i("el-switch",{attrs:{"active-text":"外卖配送服务"},model:{value:e.enableShipping,callback:function(t){e.enableShipping=t},expression:"enableShipping"}})],1),e.enableShipping?i("section",{staticClass:"container"},[i("el-form",{staticClass:"form",attrs:{model:e.store,"label-width":"100px"}},[i("el-row",{attrs:{gutter:20}},[i("el-col",{attrs:{span:8}},[i("el-form-item",{attrs:{label:"起送金额"}},[i("el-input",{attrs:{type:"number"},model:{value:e.store.shippingminamount,callback:function(t){e.$set(e.store,"shippingminamount",t)},expression:"store.shippingminamount"}},[i("template",{slot:"append"},[e._v("元")])],2)],1)],1)],1),i("el-row",{attrs:{gutter:20}},[i("el-col",{attrs:{span:8}},[i("el-form-item",{attrs:{label:"最大配送距离"}},[i("el-input",{attrs:{type:"number",placeholder:"0则表示不限制"},model:{value:e.store.distancelimited,callback:function(t){e.$set(e.store,"distancelimited",t)},expression:"store.distancelimited"}},[i("template",{slot:"append"},[e._v("km")])],2)],1)],1)],1),i("el-row",{attrs:{gutter:20}},[i("el-col",{attrs:{span:24}},[i("el-form-item",{attrs:{label:"距离用时"}},e._l(e.store.distancepricelistList,function(t){return i("div",{key:t.distance,staticClass:"shipping-fee-line"},[i("span",{staticClass:"fee-desc-part",staticStyle:{"margin-right":"20px"}},[e._v(e._s(1e4!==t.distance?"小于"+t.distance+"km":"大于10km"))]),i("span",{staticClass:"fee-desc-part",staticStyle:{"margin-right":"20px"}},[e._v("配送费")]),i("el-input",{staticClass:"inline-form-item",model:{value:t.price,callback:function(i){e.$set(t,"price",i)},expression:"item.price"}},[i("template",{slot:"append"},[e._v("元")])],2),i("span",{staticClass:"fee-desc-part",staticStyle:{"margin-right":"20px"}},[e._v("需用时")]),i("el-select",{staticClass:"inline-form-item",attrs:{placeholder:"请选择用时"},model:{value:t.duration,callback:function(i){e.$set(t,"duration",i)},expression:"item.duration"}},[i("el-option",{attrs:{label:"15分钟",value:900}}),i("el-option",{attrs:{label:"30分钟",value:1800}}),i("el-option",{attrs:{label:"45分钟",value:2700}}),i("el-option",{attrs:{label:"1小时",value:3600}}),i("el-option",{attrs:{label:"1.5小时",value:5400}}),i("el-option",{attrs:{label:"2小时",value:7200}}),i("el-option",{attrs:{label:"3小时",value:10800}}),i("el-option",{attrs:{label:"1天",value:86400}})],1)],1)}))],1)],1)],1),i("div",{staticClass:"save-btn-container"},[i("el-button",{attrs:{type:"primary"},on:{click:e.updateStore}},[e._v("\n        保存\n      ")])],1)],1):e._e()])},y=[],S=[{distance:2,price:0,duration:1800},{distance:5,price:0,duration:1800},{distance:10,price:0,duration:7200},{distance:1e4,price:0,duration:86400}],g={name:"shipping",data:function(){return{token:Object(d["e"])(),store:{},enableShipping:!1}},watch:{enableShipping:function(e){this.updateStore()}},mounted:function(){var e=this;Object(c["a"])("StoreAuthService.GetStore",Object(p["a"])("Token",{token:this.token})).then(function(t){t.shippingminamount=t.shippingminamount/100,t.distancelimited=t.distancelimited/1e3,t.distancepricelistList=t.distancepricelistList.map(function(e){return Object(o["a"])({},e,{distance:e.distance/1e3,price:e.price/100})}),t.distancepricelistList=t.distancepricelistList.length?t.distancepricelistList:S,e.store=t,e.enableShipping=e.store.deliverkindlistList.includes(2)})},methods:{updateStore:function(){var e=this,t=JSON.parse(JSON.stringify(this.store));t.shippingminamount=parseInt(100*t.shippingminamount),t.distancelimited=parseInt(1e3*t.distancelimited),t.distancepricelistList=t.distancepricelistList.map(function(e){return Object(o["a"])({},e,{distance:parseInt(1e3*e.distance),price:parseInt(100*e.price)})}),this.enableShipping&&!t.deliverkindlistList.includes(2)&&t.deliverkindlistList.push(2),!this.enableShipping&&t.deliverkindlistList.includes(2)&&(t.deliverkindlistList=t.deliverkindlistList.filter(function(e){return 2!==e})),Object(c["a"])("StoreStoreService.UpdateInfo",Object(p["a"])("StoreWithTokenRequest",{token:Object(p["a"])("Token",{token:this.token}),store:Object(p["a"])("Store",Object(o["a"])({},t,{businesshoursList:t.businesshoursList.map(function(e){return Object(p["a"])("BusinessHours",e)}),distancepricelistList:t.distancepricelistList.map(function(e){return Object(p["a"])("DistancePrice",e)})}))})).then(function(t){t.shippingminamount=t.shippingminamount/100,t.distancelimited=t.distancelimited/1e3,t.distancepricelistList=t.distancepricelistList.map(function(e){return Object(o["a"])({},e,{distance:e.distance/1e3,price:e.price/100})}),e.store=t})}}},O=g,w=(i("752c"),Object(v["a"])(O,k,y,!1,null,"7ea87a65",null)),j=w.exports,x=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"shipping"},[i("section",{staticClass:"container",staticStyle:{"padding-left":"10px"}},[i("el-switch",{attrs:{"active-text":"外卖配送服务"},model:{value:e.enableShipping,callback:function(t){e.enableShipping=t},expression:"enableShipping"}})],1),e.enableShipping?i("section",{staticClass:"container"},[i("el-form",{staticClass:"form",attrs:{model:e.store,"label-width":"100px"}},[i("el-row",{attrs:{gutter:20}},[i("el-col",{attrs:{span:8}},[i("el-form-item",{attrs:{label:"起送金额"}},[i("el-input",{attrs:{type:"number"},model:{value:e.store.shippingminamount,callback:function(t){e.$set(e.store,"shippingminamount",t)},expression:"store.shippingminamount"}},[i("template",{slot:"append"},[e._v("元")])],2)],1)],1)],1),i("el-row",{attrs:{gutter:20}},[i("el-col",{attrs:{span:8}},[i("el-form-item",{attrs:{label:"最大配送距离"}},[i("el-input",{attrs:{type:"number",placeholder:"0则表示不限制"},model:{value:e.store.distancelimited,callback:function(t){e.$set(e.store,"distancelimited",t)},expression:"store.distancelimited"}},[i("template",{slot:"append"},[e._v("km")])],2)],1)],1)],1),i("el-row",{attrs:{gutter:20}},[i("el-col",{attrs:{span:24}},[i("el-form-item",{attrs:{label:"距离用时"}},e._l(e.store.distancepricelistList,function(t){return i("div",{key:t.distance,staticClass:"shipping-fee-line"},[i("span",{staticClass:"fee-desc-part",staticStyle:{"margin-right":"20px"}},[e._v(e._s(1e4!==t.distance?"小于"+t.distance+"km":"大于10km"))]),i("span",{staticClass:"fee-desc-part",staticStyle:{"margin-right":"20px"}},[e._v("配送费")]),i("el-input",{staticClass:"inline-form-item",model:{value:t.price,callback:function(i){e.$set(t,"price",i)},expression:"item.price"}},[i("template",{slot:"append"},[e._v("元")])],2),i("span",{staticClass:"fee-desc-part",staticStyle:{"margin-right":"20px"}},[e._v("需用时")]),i("el-select",{staticClass:"inline-form-item",attrs:{placeholder:"请选择用时"},model:{value:t.duration,callback:function(i){e.$set(t,"duration",i)},expression:"item.duration"}},[i("el-option",{attrs:{label:"15分钟",value:900}}),i("el-option",{attrs:{label:"30分钟",value:1800}}),i("el-option",{attrs:{label:"45分钟",value:2700}}),i("el-option",{attrs:{label:"1小时",value:3600}}),i("el-option",{attrs:{label:"1.5小时",value:5400}}),i("el-option",{attrs:{label:"2小时",value:7200}}),i("el-option",{attrs:{label:"3小时",value:10800}}),i("el-option",{attrs:{label:"1天",value:86400}})],1)],1)}))],1)],1)],1),i("div",{staticClass:"save-btn-container"},[i("el-button",{attrs:{type:"primary"},on:{click:e.updateStore}},[e._v("\n        保存\n      ")])],1)],1):e._e()])},L=[],_=[{distance:2,price:0,duration:1800},{distance:5,price:0,duration:1800},{distance:10,price:0,duration:7200},{distance:1e4,price:0,duration:86400}],C={name:"shipping",data:function(){return{token:Object(d["e"])(),store:{},enableShipping:!1}},watch:{enableShipping:function(e){this.updateStore()}},mounted:function(){var e=this;Object(c["a"])("StoreAuthService.GetStore",Object(p["a"])("Token",{token:this.token})).then(function(t){t.shippingminamount=t.shippingminamount/100,t.distancelimited=t.distancelimited/1e3,t.distancepricelistList=t.distancepricelistList.map(function(e){return Object(o["a"])({},e,{distance:e.distance/1e3,price:e.price/100})}),t.distancepricelistList=t.distancepricelistList.length?t.distancepricelistList:_,e.store=t,e.enableShipping=e.store.deliverkindlistList.includes(2)})},methods:{isDistancePriceAvailiable:function(e){return e/=1e3,!this.store.distancelimited||e<=this.store.distancelimited||this.store.distancelimited>10},updateStore:function(){var e=this,t=JSON.parse(JSON.stringify(this.store));t.shippingminamount=parseInt(100*t.shippingminamount),t.distancelimited=parseInt(1e3*t.distancelimited),t.distancepricelistList=t.distancepricelistList.map(function(e){return Object(o["a"])({},e,{distance:parseInt(1e3*e.distance),price:parseInt(100*e.price)})}),this.enableShipping&&!t.deliverkindlistList.includes(2)&&t.deliverkindlistList.push(2),!this.enableShipping&&t.deliverkindlistList.includes(2)&&(t.deliverkindlistList=t.deliverkindlistList.filter(function(e){return 2!==e})),Object(c["a"])("StoreStoreService.UpdateInfo",Object(p["a"])("StoreWithTokenRequest",{token:Object(p["a"])("Token",{token:this.token}),store:Object(p["a"])("Store",Object(o["a"])({},t,{businesshoursList:t.businesshoursList.map(function(e){return Object(p["a"])("BusinessHours",e)}),distancepricelistList:t.distancepricelistList.map(function(e){return Object(p["a"])("DistancePrice",e)})}))})).then(function(t){t.shippingminamount=t.shippingminamount/100,t.distancelimited=t.distancelimited/1e3,t.distancepricelistList=t.distancepricelistList.map(function(e){return Object(o["a"])({},e,{distance:e.distance/1e3,price:e.price/100})}),e.store=t})}}},D=C,T=(i("77eb"),Object(v["a"])(D,x,L,!1,null,"471eb34c",null)),z=T.exports,E=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("el-form",{ref:"form",attrs:{"label-position":"left","label-width":"110px",size:"small"},model:{value:e.form,callback:function(t){e.form=t},expression:"form"}},[i("div",{staticClass:"container"},[i("el-form-item",{attrs:{label:"统一配送费"}},[i("el-row",[i("el-col",{attrs:{span:"4"}},[i("el-input",{attrs:{placeholder:"请输入配送费"},model:{value:e.defaultrow.fee,callback:function(t){e.$set(e.defaultrow,"fee",t)},expression:"defaultrow.fee"}},[i("template",{slot:"append"},[e._v("元")])],2)],1),i("el-col",{staticStyle:{"margin-left":"10px"},attrs:{span:"4"}},[i("el-button",{attrs:{type:"primary"},on:{click:e.onUpdateDefault}},[e._v("保存")])],1)],1)],1),i("el-form-item",{attrs:{label:"特殊地区配送费"}},[e._l(e.list,function(t){return i("el-row",{key:t.id,staticStyle:{"margin-bottom":"5px"}},[i("el-col",{attrs:{span:"3"}},[i("el-input",{attrs:{disabled:"",value:t.province}})],1),i("el-col",{staticStyle:{"margin-left":"10px","margin-top":"-0.9px"},attrs:{span:"3"}},[i("el-input",{attrs:{disabled:"",value:t.fee/100}},[i("template",{slot:"append"},[e._v("元")])],2)],1),i("el-col",{staticClass:"c",attrs:{span:"1"}},[i("i",{staticClass:"el-icon-edit",on:{click:function(i){e.onClickUpdate(t)}}})]),i("el-col",{staticClass:"c",attrs:{span:"1"}},[i("i",{staticClass:"el-icon-delete",on:{click:function(i){e.onClickDelete(t)}}})])],1)}),i("el-col",{attrs:{span:"2"}},[i("el-button",{attrs:{type:"text"},on:{click:e.onClickAdd}},[e._v("添加新地区")])],1)],2),i("el-dialog",{attrs:{title:e.row.id?"修改":"添加",visible:e.showEdit,width:"30%","before-close":e.handleClose},on:{"update:visible":function(t){e.showEdit=t}}},[i("el-row",[i("el-col",{attrs:{span:"10"}},[i("el-select",{attrs:{disabled:e.row.id,placeholder:"选择省份",size:"small"},model:{value:e.row.province,callback:function(t){e.$set(e.row,"province",t)},expression:"row.province"}},e._l(e.province,function(e){return i("el-option",{key:e,attrs:{label:e,value:e}})}))],1),i("el-col",{staticStyle:{"margin-left":"10px"},attrs:{span:"10"}},[i("el-input",{attrs:{placeholder:"配送费",size:"small"},model:{value:e.row.fee,callback:function(t){e.$set(e.row,"fee",t)},expression:"row.fee"}},[i("template",{slot:"append"},[e._v("元")])],2)],1)],1),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(t){e.showEdit=!1}}},[e._v("取 消")]),e.row.id?e._e():i("el-button",{attrs:{type:"primary"},on:{click:e.onAdd}},[e._v("添加")]),e.row.id?i("el-button",{attrs:{type:"primary"},on:{click:e.onUpdate}},[e._v("更新")]):e._e()],1)],1),i("div",{staticClass:"button-wrap"})],1)]),i("el-form",{ref:"form",attrs:{"label-position":"left","label-width":"110px",size:"small"},model:{value:e.form,callback:function(t){e.form=t},expression:"form"}},[i("div",{staticClass:"container"},[i("el-form-item",{attrs:{label:"签约物流公司"}},[e._l(e.deliveryList,function(t){return i("el-row",{key:t.id,staticStyle:{"margin-bottom":"5px"}},[i("el-col",{attrs:{span:"3"}},[i("el-input",{attrs:{disabled:"",value:t.deliveryname}})],1),i("el-col",{staticStyle:{"margin-left":"10px"},attrs:{span:"3"}},[i("el-input",{attrs:{disabled:"",value:t.bizid}})],1),i("el-col",{staticClass:"c",attrs:{span:"1"}},[i("i",{staticClass:"el-icon-delete",on:{click:function(i){e.onClickDeleteDelivery(t)}}})])],1)}),i("el-row",[i("el-col",{attrs:{span:"2"}},[i("el-button",{attrs:{type:"text"},on:{click:e.onClickAddDelivery}},[e._v("添加电子面单账号")])],1)],1),i("div",{staticStyle:{color:"#999","font-size":"10px"}},[i("i",{staticClass:"el-icon-warning-outline",staticStyle:{color:"#ff4f4f","font-size":"10px"}}),e._v("\n          此操作是可选的, 仅当您已经签约了物流公司才需添加. 即使不添加, 仍可以在发货时自动呼叫快递员.\n        ")]),i("div",{staticStyle:{color:"#999","font-size":"10px"}},[i("i",{staticClass:"el-icon-warning-outline",staticStyle:{color:"#ff4f4f","font-size":"10px"}}),e._v("\n          您必须先将电子面单账号和密钥添加进\n          "),i("a",{staticStyle:{color:"#ff4f4f","margin-left":"3px"},attrs:{href:"https://mp.weixin.qq.com",targe:"_blank"}},[e._v("微信小程序后台")])])],2),i("el-dialog",{attrs:{title:"添加",visible:e.showEditDelivery,width:"30%","before-close":e.handleClose},on:{"update:visible":function(t){e.showEditDelivery=t}}},[i("el-row",[i("el-col",{attrs:{span:"10"}},[i("el-select",{attrs:{placeholder:"选择快递公司",size:"small"},model:{value:e.deliveryid,callback:function(t){e.deliveryid=t},expression:"deliveryid"}},e._l(e.wxdeliverylist,function(e){return i("el-option",{key:e,attrs:{label:e.deliveryname,value:e.deliveryid}})}))],1),i("el-col",{staticStyle:{"margin-left":"10px"},attrs:{span:"10"}},[i("el-input",{attrs:{placeholder:"电子面单账号",size:"small"},model:{value:e.bizid,callback:function(t){e.bizid=t},expression:"bizid"}})],1)],1),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(t){e.showEditDelivery=!1}}},[e._v("取 消")]),i("el-button",{attrs:{type:"primary"},on:{click:e.onAddDelivery}},[e._v("添加")])],1)],1),i("div",{staticClass:"button-wrap"})],1)]),i("el-form",{ref:"form",attrs:{"label-position":"left","label-width":"110px",size:"small"},model:{value:e.form,callback:function(t){e.form=t},expression:"form"}},[i("div",{staticClass:"container"},[i("el-form-item",{attrs:{label:"发件人名称"}},[i("el-row",[i("el-col",{attrs:{span:"4"}},[i("el-input",{attrs:{placeholder:"请输入名称"},model:{value:e.store.sendername,callback:function(t){e.$set(e.store,"sendername",t)},expression:"store.sendername"}})],1)],1)],1),i("el-form-item",{attrs:{label:"手机号"}},[i("el-row",[i("el-col",{attrs:{span:"4"}},[i("el-input",{attrs:{placeholder:"请输入手机号"},model:{value:e.store.sendermobile,callback:function(t){e.$set(e.store,"sendermobile",t)},expression:"store.sendermobile"}})],1)],1)],1),i("el-form-item",{attrs:{label:"地址"}},[i("el-row",[i("el-col",{attrs:{span:"8"}},[i("el-cascader",{staticStyle:{width:"100%"},attrs:{options:e.ssx},model:{value:e.pcd,callback:function(t){e.pcd=t},expression:"pcd"}})],1)],1)],1),i("el-form-item",{attrs:{label:"详细地址"}},[i("el-row",[i("el-col",{attrs:{span:"8"}},[i("el-input",{attrs:{placeholder:"请输入详细地址"},model:{value:e.store.senderaddress,callback:function(t){e.$set(e.store,"senderaddress",t)},expression:"store.senderaddress"}})],1)],1)],1),i("el-form-item",{attrs:{label:""}},[i("el-row",[i("el-col",{attrs:{span:"4"}},[i("el-button",{attrs:{type:"primary"},on:{click:e.onUpdateStore}},[e._v("保存")])],1)],1)],1),i("div",{staticClass:"button-wrap"})],1)])],1)},I=[],$=(i("20d6"),i("7514"),i("96cf"),i("1da1")),R=i("7196"),U=i("16de"),A=i("a3fb"),J=[{deliveryid:"BEST",deliveryname:"百世快递"},{deliveryid:"DB",deliveryname:"德邦快递"},{deliveryid:"EMS",deliveryname:"中国邮政速递物流"},{deliveryid:"OTP",deliveryname:"承诺达特快"},{deliveryid:"PJ",deliveryname:"品骏快递"},{deliveryid:"SF",deliveryname:"顺丰速运"},{deliveryid:"STO",deliveryname:"申通快递"},{deliveryid:"YTO",deliveryname:"圆通速递"},{deliveryid:"YUNDA",deliveryname:"韵达快递"},{deliveryid:"ZTO",deliveryname:"中通快递"}],q={components:{},data:function(){return{showProDialog:!1,token:"",defaultrow:{},row:{},list:[],showEdit:!1,province:R["a"],ssx:U["a"],pcd:[],wxdeliverylist:J,deliveryList:[],deliveryid:"",bizid:"",showEditDelivery:!1,store:{}}},created:function(){var e=Object($["a"])(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return this.token=Object(d["e"])(),e.next=3,Object(A["b"])();case 3:e.sent,Object(c["a"])("StoreShippingService.GetShippingList",Object(p["a"])("ShippingListQueryRequest",{token:Object(p["a"])("Token",{token:this.token}),count:100})).then(function(e){var i=e.shippinglistList.find(function(e){return"默认"==e.province});i.fee=i.fee/100,t.defaultrow=i,t.list=e.shippinglistList.filter(function(e){return"默认"!=e.province})}),Object(c["a"])("StoreDeliveryService.GetDeliveryList",Object(p["a"])("DeliveryListQueryRequest",{token:Object(p["a"])("Token",{token:this.token}),count:100})).then(function(e){t.deliveryList=e.deliverylistList}),Object(c["a"])("StoreAuthService.GetStore",Object(p["a"])("Token",{token:this.token})).then(function(e){e.senderprovince&&e.sendercity&&e.senderdistrict&&(t.pcd=[e.senderprovince,e.sendercity,e.senderdistrict]),t.store=e});case 7:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),methods:{onUpdateDefault:function(){var e=this,t=JSON.parse(JSON.stringify(this.defaultrow));t.fee=parseInt(100*t.fee),Object(c["a"])("StoreShippingService.UpdateShipping",Object(p["a"])("ShippingWithTokenRequest",{token:Object(p["a"])("Token",{token:this.token}),shipping:Object(p["a"])("Shipping",t)})).then(function(t){t.fee=t.fee/100,e.defaultrow=t})},onClickAdd:function(){this.row={},this.showEdit=!0},onClickUpdate:function(e){e=JSON.parse(JSON.stringify(e)),e.fee=e.fee/100,this.row=e,this.showEdit=!0},onClickDelete:function(e){var t=this;Object(c["a"])("StoreShippingService.DeleteShipping",Object(p["a"])("IDWithTokenRequest",{token:Object(p["a"])("Token",{token:this.token}),id:e.id})).then(function(i){t.list.splice(t.list.findIndex(function(t){return t.id===e.id}),1)})},onAdd:function(){var e=this,t=JSON.parse(JSON.stringify(this.row));t.fee=parseInt(100*t.fee),Object(c["a"])("StoreShippingService.CreateShipping",Object(p["a"])("ShippingWithTokenRequest",{token:Object(p["a"])("Token",{token:this.token}),shipping:Object(p["a"])("Shipping",t)})).then(function(t){e.list.splice(0,0,t),e.showEdit=!1})},onUpdate:function(){var e=this,t=JSON.parse(JSON.stringify(this.row));t.fee=parseInt(100*t.fee),Object(c["a"])("StoreShippingService.UpdateShipping",Object(p["a"])("ShippingWithTokenRequest",{token:Object(p["a"])("Token",{token:this.token}),shipping:Object(p["a"])("Shipping",t)})).then(function(i){e.list.splice(e.list.findIndex(function(e){return e.id===t.id}),1,i),e.showEdit=!1})},onClickAddDelivery:function(){this.showEditDelivery=!0,this.bizid=""},onClickDeleteDelivery:function(e){var t=this;Object(c["a"])("StoreDeliveryService.DeleteDelivery",Object(p["a"])("IDWithTokenRequest",{token:Object(p["a"])("Token",{token:this.token}),id:e.id})).then(function(i){t.deliveryList.splice(t.deliveryList.findIndex(function(t){return t.id===e.id}),1)})},onAddDelivery:function(){var e=this;Object(c["a"])("StoreDeliveryService.CreateDelivery",Object(p["a"])("DeliveryWithTokenRequest",{token:Object(p["a"])("Token",{token:this.token}),delivery:Object(p["a"])("Delivery",{deliveryid:this.deliveryid,deliveryname:J.find(function(t){return t.deliveryid===e.deliveryid}).deliveryname,bizid:this.bizid})})).then(function(t){e.deliveryList.splice(0,0,t),e.showEditDelivery=!1})},onUpdateStore:function(){var e=this;this.pcd.length?(this.store.senderprovince=this.pcd[0],this.store.sendercity=this.pcd[1],this.store.senderdistrict=this.pcd[2],Object(c["a"])("StoreStoreService.UpdateInfo",Object(p["a"])("StoreWithTokenRequest",{token:Object(p["a"])("Token",{token:this.token}),store:Object(p["a"])("Store",Object(o["a"])({},this.store,{businesshoursList:this.store.businesshoursList.map(function(e){return Object(p["a"])("BusinessHours",e)}),distancepricelistList:this.store.distancepricelistList.map(function(e){return Object(p["a"])("DistancePrice",e)})}))})).then(function(t){e.$message({message:"保存成功",type:"success"})})):this.$message({message:"请选择地址"})}}},N=q,W=(i("3399"),Object(v["a"])(N,E,I,!1,null,"350b0bc0",null)),P=W.exports,B=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("el-form",{ref:"form",attrs:{"label-position":"left","label-width":"110px",size:"small"},model:{value:e.form,callback:function(t){e.form=t},expression:"form"}},[i("div",{staticClass:"container"},[i("el-form-item",{attrs:{label:"统一配送费"}},[i("el-row",[i("el-col",{attrs:{span:"4"}},[i("el-input",{attrs:{placeholder:"请输入配送费"},model:{value:e.defaultrow.fee,callback:function(t){e.$set(e.defaultrow,"fee",t)},expression:"defaultrow.fee"}},[i("template",{slot:"append"},[e._v("元")])],2)],1),i("el-col",{staticStyle:{"margin-left":"10px"},attrs:{span:"4"}},[i("el-button",{attrs:{type:"primary"},on:{click:e.onUpdateDefault}},[e._v("保存")])],1)],1)],1),i("el-form-item",{attrs:{label:"特殊地区配送费"}},[e._l(e.list,function(t){return i("el-row",{key:t.id,staticStyle:{"margin-bottom":"5px"}},[i("el-col",{attrs:{span:"3"}},[i("el-input",{attrs:{disabled:"",value:t.province}})],1),i("el-col",{staticStyle:{"margin-left":"10px","margin-top":"-0.9px"},attrs:{span:"3"}},[i("el-input",{attrs:{disabled:"",value:t.fee/100}},[i("template",{slot:"append"},[e._v("元")])],2)],1),i("el-col",{staticClass:"c",attrs:{span:"1"}},[i("i",{staticClass:"el-icon-edit",on:{click:function(i){e.onClickUpdate(t)}}})]),i("el-col",{staticClass:"c",attrs:{span:"1"}},[i("i",{staticClass:"el-icon-delete",on:{click:function(i){e.onClickDelete(t)}}})])],1)}),i("el-col",{attrs:{span:"2"}},[i("el-button",{attrs:{type:"text"},on:{click:e.onClickAdd}},[e._v("添加新地区")])],1)],2),i("el-dialog",{attrs:{title:e.row.id?"修改":"添加",visible:e.showEdit,width:"30%","before-close":e.handleClose},on:{"update:visible":function(t){e.showEdit=t}}},[i("el-row",[i("el-col",{attrs:{span:"10"}},[i("el-select",{attrs:{disabled:e.row.id,placeholder:"选择省份",size:"small"},model:{value:e.row.province,callback:function(t){e.$set(e.row,"province",t)},expression:"row.province"}},e._l(e.province,function(e){return i("el-option",{key:e,attrs:{label:e,value:e}})}))],1),i("el-col",{staticStyle:{"margin-left":"10px"},attrs:{span:"10"}},[i("el-input",{attrs:{placeholder:"配送费",size:"small"},model:{value:e.row.fee,callback:function(t){e.$set(e.row,"fee",t)},expression:"row.fee"}},[i("template",{slot:"append"},[e._v("元")])],2)],1)],1),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(t){e.showEdit=!1}}},[e._v("取 消")]),e.row.id?e._e():i("el-button",{attrs:{type:"primary"},on:{click:e.onAdd}},[e._v("添加")]),e.row.id?i("el-button",{attrs:{type:"primary"},on:{click:e.onUpdate}},[e._v("更新")]):e._e()],1)],1),i("div",{staticClass:"button-wrap"})],1)]),i("el-form",{ref:"form",attrs:{"label-position":"left","label-width":"110px",size:"small"},model:{value:e.form,callback:function(t){e.form=t},expression:"form"}},[i("div",{staticClass:"container"},[i("el-form-item",{attrs:{label:"签约物流公司"}},[e._l(e.deliveryList,function(t){return i("el-row",{key:t.id,staticStyle:{"margin-bottom":"5px"}},[i("el-col",{attrs:{span:"3"}},[i("el-input",{attrs:{disabled:"",value:t.deliveryname}})],1),i("el-col",{staticStyle:{"margin-left":"10px"},attrs:{span:"3"}},[i("el-input",{attrs:{disabled:"",value:t.bizid}})],1),i("el-col",{staticClass:"c",attrs:{span:"1"}},[i("i",{staticClass:"el-icon-delete",on:{click:function(i){e.onClickDeleteDelivery(t)}}})])],1)}),i("el-row",[i("el-col",{attrs:{span:"2"}},[i("el-button",{attrs:{type:"text"},on:{click:e.onClickAddDelivery}},[e._v("添加电子面单账号")])],1)],1),i("div",{staticStyle:{color:"#999","font-size":"10px"}},[i("i",{staticClass:"el-icon-warning-outline",staticStyle:{color:"#ff4f4f","font-size":"10px"}}),e._v("\n          此操作是可选的, 仅当您已经签约了物流公司才需添加. 即使不添加, 仍可以在发货时自动呼叫快递员.\n        ")]),i("div",{staticStyle:{color:"#999","font-size":"10px"}},[i("i",{staticClass:"el-icon-warning-outline",staticStyle:{color:"#ff4f4f","font-size":"10px"}}),e._v("\n          您必须先将电子面单账号和密钥添加进\n          "),i("a",{staticStyle:{color:"#ff4f4f","margin-left":"3px"},attrs:{href:"https://mp.weixin.qq.com",targe:"_blank"}},[e._v("微信小程序后台")])])],2),i("el-dialog",{attrs:{title:"添加",visible:e.showEditDelivery,width:"30%","before-close":e.handleClose},on:{"update:visible":function(t){e.showEditDelivery=t}}},[i("el-row",[i("el-col",{attrs:{span:"10"}},[i("el-select",{attrs:{placeholder:"选择快递公司",size:"small"},model:{value:e.deliveryid,callback:function(t){e.deliveryid=t},expression:"deliveryid"}},e._l(e.wxdeliverylist,function(e){return i("el-option",{key:e,attrs:{label:e.deliveryname,value:e.deliveryid}})}))],1),i("el-col",{staticStyle:{"margin-left":"10px"},attrs:{span:"10"}},[i("el-input",{attrs:{placeholder:"电子面单账号",size:"small"},model:{value:e.bizid,callback:function(t){e.bizid=t},expression:"bizid"}})],1)],1),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(t){e.showEditDelivery=!1}}},[e._v("取 消")]),i("el-button",{attrs:{type:"primary"},on:{click:e.onAddDelivery}},[e._v("添加")])],1)],1),i("div",{staticClass:"button-wrap"})],1)]),i("el-form",{ref:"form",attrs:{"label-position":"left","label-width":"110px",size:"small"},model:{value:e.form,callback:function(t){e.form=t},expression:"form"}},[i("div",{staticClass:"container"},[i("el-form-item",{attrs:{label:"发件人名称"}},[i("el-row",[i("el-col",{attrs:{span:"4"}},[i("el-input",{attrs:{placeholder:"请输入名称"},model:{value:e.store.sendername,callback:function(t){e.$set(e.store,"sendername",t)},expression:"store.sendername"}})],1)],1)],1),i("el-form-item",{attrs:{label:"手机号"}},[i("el-row",[i("el-col",{attrs:{span:"4"}},[i("el-input",{attrs:{placeholder:"请输入手机号"},model:{value:e.store.sendermobile,callback:function(t){e.$set(e.store,"sendermobile",t)},expression:"store.sendermobile"}})],1)],1)],1),i("el-form-item",{attrs:{label:"地址"}},[i("el-row",[i("el-col",{attrs:{span:"8"}},[i("el-cascader",{staticStyle:{width:"100%"},attrs:{options:e.ssx},model:{value:e.pcd,callback:function(t){e.pcd=t},expression:"pcd"}})],1)],1)],1),i("el-form-item",{attrs:{label:"详细地址"}},[i("el-row",[i("el-col",{attrs:{span:"8"}},[i("el-input",{attrs:{placeholder:"请输入详细地址"},model:{value:e.store.senderaddress,callback:function(t){e.$set(e.store,"senderaddress",t)},expression:"store.senderaddress"}})],1)],1)],1),i("el-form-item",{attrs:{label:""}},[i("el-row",[i("el-col",{attrs:{span:"4"}},[i("el-button",{attrs:{type:"primary"},on:{click:e.onUpdateStore}},[e._v("保存")])],1)],1)],1),i("div",{staticClass:"button-wrap"})],1)])],1)},G=[],H=[{deliveryid:"BEST",deliveryname:"百世快递"},{deliveryid:"DB",deliveryname:"德邦快递"},{deliveryid:"EMS",deliveryname:"中国邮政速递物流"},{deliveryid:"OTP",deliveryname:"承诺达特快"},{deliveryid:"PJ",deliveryname:"品骏快递"},{deliveryid:"SF",deliveryname:"顺丰速运"},{deliveryid:"STO",deliveryname:"申通快递"},{deliveryid:"YTO",deliveryname:"圆通速递"},{deliveryid:"YUNDA",deliveryname:"韵达快递"},{deliveryid:"ZTO",deliveryname:"中通快递"}],Q={components:{},data:function(){return{showProDialog:!1,token:"",defaultrow:{},row:{},list:[],showEdit:!1,province:R["a"],ssx:U["a"],pcd:[],wxdeliverylist:H,deliveryList:[],deliveryid:"",bizid:"",showEditDelivery:!1,store:{}}},created:function(){var e=Object($["a"])(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return this.token=Object(d["e"])(),e.next=3,Object(A["b"])();case 3:e.sent,Object(c["a"])("StoreShippingService.GetShippingList",Object(p["a"])("ShippingListQueryRequest",{token:Object(p["a"])("Token",{token:this.token}),count:100})).then(function(e){var i=e.shippinglistList.find(function(e){return"默认"==e.province});i.fee=i.fee/100,t.defaultrow=i,t.list=e.shippinglistList.filter(function(e){return"默认"!=e.province})}),Object(c["a"])("StoreDeliveryService.GetDeliveryList",Object(p["a"])("DeliveryListQueryRequest",{token:Object(p["a"])("Token",{token:this.token}),count:100})).then(function(e){t.deliveryList=e.deliverylistList}),Object(c["a"])("StoreAuthService.GetStore",Object(p["a"])("Token",{token:this.token})).then(function(e){e.senderprovince&&e.sendercity&&e.senderdistrict&&(t.pcd=[e.senderprovince,e.sendercity,e.senderdistrict]),t.store=e});case 7:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),methods:{onUpdateDefault:function(){var e=this,t=JSON.parse(JSON.stringify(this.defaultrow));t.fee=parseInt(100*t.fee),Object(c["a"])("StoreShippingService.UpdateShipping",Object(p["a"])("ShippingWithTokenRequest",{token:Object(p["a"])("Token",{token:this.token}),shipping:Object(p["a"])("Shipping",t)})).then(function(t){t.fee=t.fee/100,e.defaultrow=t})},onClickAdd:function(){this.row={},this.showEdit=!0},onClickUpdate:function(e){e=JSON.parse(JSON.stringify(e)),e.fee=e.fee/100,this.row=e,this.showEdit=!0},onClickDelete:function(e){var t=this;Object(c["a"])("StoreShippingService.DeleteShipping",Object(p["a"])("IDWithTokenRequest",{token:Object(p["a"])("Token",{token:this.token}),id:e.id})).then(function(i){t.list.splice(t.list.findIndex(function(t){return t.id===e.id}),1)})},onAdd:function(){var e=this,t=JSON.parse(JSON.stringify(this.row));t.fee=parseInt(100*t.fee),Object(c["a"])("StoreShippingService.CreateShipping",Object(p["a"])("ShippingWithTokenRequest",{token:Object(p["a"])("Token",{token:this.token}),shipping:Object(p["a"])("Shipping",t)})).then(function(t){e.list.splice(0,0,t),e.showEdit=!1})},onUpdate:function(){var e=this,t=JSON.parse(JSON.stringify(this.row));t.fee=parseInt(100*t.fee),Object(c["a"])("StoreShippingService.UpdateShipping",Object(p["a"])("ShippingWithTokenRequest",{token:Object(p["a"])("Token",{token:this.token}),shipping:Object(p["a"])("Shipping",t)})).then(function(i){e.list.splice(e.list.findIndex(function(e){return e.id===t.id}),1,i),e.showEdit=!1})},onClickAddDelivery:function(){this.showEditDelivery=!0,this.bizid=""},onClickDeleteDelivery:function(e){var t=this;Object(c["a"])("StoreDeliveryService.DeleteDelivery",Object(p["a"])("IDWithTokenRequest",{token:Object(p["a"])("Token",{token:this.token}),id:e.id})).then(function(i){t.deliveryList.splice(t.deliveryList.findIndex(function(t){return t.id===e.id}),1)})},onAddDelivery:function(){var e=this;Object(c["a"])("StoreDeliveryService.CreateDelivery",Object(p["a"])("DeliveryWithTokenRequest",{token:Object(p["a"])("Token",{token:this.token}),delivery:Object(p["a"])("Delivery",{deliveryid:this.deliveryid,deliveryname:H.find(function(t){return t.deliveryid===e.deliveryid}).deliveryname,bizid:this.bizid})})).then(function(t){e.deliveryList.splice(0,0,t),e.showEditDelivery=!1})},onUpdateStore:function(){var e=this;this.pcd.length?(this.store.senderprovince=this.pcd[0],this.store.sendercity=this.pcd[1],this.store.senderdistrict=this.pcd[2],Object(c["a"])("StoreStoreService.UpdateInfo",Object(p["a"])("StoreWithTokenRequest",{token:Object(p["a"])("Token",{token:this.token}),store:Object(p["a"])("Store",Object(o["a"])({},this.store,{businesshoursList:this.store.businesshoursList.map(function(e){return Object(p["a"])("BusinessHours",e)}),distancepricelistList:this.store.distancepricelistList.map(function(e){return Object(p["a"])("DistancePrice",e)})}))})).then(function(t){e.$message({message:"保存成功",type:"success"})})):this.$message({message:"请选择地址"})}}},Y=Q,F=(i("0bf3"),Object(v["a"])(Y,B,G,!1,null,"e39124c4",null)),M=F.exports,Z=Object(a["a"])({name:"setting-shopinfo-entry",components:{_0:M,_2:P,_7:b,_6:j,_4:z},map:{0:"_0",2:"_2",7:"_7",6:"_6",4:"_4"}}),K=Z,V=Object(v["a"])(K,n,s,!1,null,null,null);t["default"]=V.exports},fc97:function(e,t,i){"use strict";var n=i("cb01"),s=i.n(n);s.a}}]);
//# sourceMappingURL=setting-shipping.49371687.js.map