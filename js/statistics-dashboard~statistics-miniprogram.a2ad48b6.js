(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["statistics-dashboard~statistics-miniprogram"],{"17b8":function(e,t,a){var r=a("3014"),i=r.extend({type:"series.bar",dependencies:["grid","polar"],brushSelector:"rect",getProgressive:function(){return!!this.get("large")&&this.get("progressive")},getProgressiveThreshold:function(){var e=this.get("progressiveThreshold"),t=this.get("largeThreshold");return t>e&&(e=t),e}});e.exports=i},3014:function(e,t,a){var r=a("4f85"),i=a("3301"),n=r.extend({type:"series.__base_bar__",getInitialData:function(e,t){return i(this.getSource(),this)},getMarkerPosition:function(e){var t=this.coordinateSystem;if(t){var a=t.dataToPoint(t.clampData(e)),r=this.getData(),i=r.getLayout("offset"),n=r.getLayout("size"),o=t.getBaseAxis().isHorizontal()?0:1;return a[o]+=i+n/2,a}return[NaN,NaN]},defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,barMinHeight:0,barMinAngle:0,large:!1,largeThreshold:400,progressive:5e3,progressiveChunkMode:"mod",itemStyle:{},emphasis:{}}});e.exports=n},"67ccc":function(e,t,a){var r=a("4e08"),i=(r.__DEV__,a("3eba")),n=a("6d8b"),o=a("2306"),s=a("e7aa"),l=s.setLabel,u=a("4319"),d=a("b5c7"),c=a("cbe5"),p=["itemStyle","barBorderWidth"];n.extend(u.prototype,d);var h=i.extendChartView({type:"bar",render:function(e,t,a){this._updateDrawMode(e);var r=e.get("coordinateSystem");return"cartesian2d"!==r&&"polar"!==r||(this._isLargeDraw?this._renderLarge(e,t,a):this._renderNormal(e,t,a)),this.group},incrementalPrepareRender:function(e,t,a){this._clear(),this._updateDrawMode(e)},incrementalRender:function(e,t,a,r){this._incrementalRenderLarge(e,t)},_updateDrawMode:function(e){var t=e.pipelineContext.large;(null==this._isLargeDraw||t^this._isLargeDraw)&&(this._isLargeDraw=t,this._clear())},_renderNormal:function(e,t,a){var r,i=this.group,n=e.getData(),s=this._data,l=e.coordinateSystem,u=l.getBaseAxis();"cartesian2d"===l.type?r=u.isHorizontal():"polar"===l.type&&(r="angle"===u.dim);var d=e.isAnimationEnabled()?e:null;n.diff(s).add(function(t){if(n.hasValue(t)){var a=n.getItemModel(t),o=v[l.type](n,t,a),s=m[l.type](n,t,a,o,r,d);n.setItemGraphicEl(t,s),i.add(s),y(s,n,t,a,o,e,r,"polar"===l.type)}}).update(function(t,a){var u=s.getItemGraphicEl(a);if(n.hasValue(t)){var c=n.getItemModel(t),p=v[l.type](n,t,c);u?o.updateProps(u,{shape:p},d,t):u=m[l.type](n,t,c,p,r,d,!0),n.setItemGraphicEl(t,u),i.add(u),y(u,n,t,c,p,e,r,"polar"===l.type)}else i.remove(u)}).remove(function(e){var t=s.getItemGraphicEl(e);"cartesian2d"===l.type?t&&g(e,d,t):t&&f(e,d,t)}).execute(),this._data=n},_renderLarge:function(e,t,a){this._clear(),w(e,this.group)},_incrementalRenderLarge:function(e,t){w(t,this.group,!0)},dispose:n.noop,remove:function(e){this._clear(e)},_clear:function(e){var t=this.group,a=this._data;e&&e.get("animation")&&a&&!this._isLargeDraw?a.eachItemGraphicEl(function(t){"sector"===t.type?f(t.dataIndex,e,t):g(t.dataIndex,e,t)}):t.removeAll(),this._data=null}}),m={cartesian2d:function(e,t,a,r,i,s,l){var u=new o.Rect({shape:n.extend({},r)});if(s){var d=u.shape,c=i?"height":"width",p={};d[c]=0,p[c]=r[c],o[l?"updateProps":"initProps"](u,{shape:p},s,t)}return u},polar:function(e,t,a,r,i,s,l){var u=r.startAngle<r.endAngle,d=new o.Sector({shape:n.defaults({clockwise:u},r)});if(s){var c=d.shape,p=i?"r":"endAngle",h={};c[p]=i?0:r.startAngle,h[p]=r[p],o[l?"updateProps":"initProps"](d,{shape:h},s,t)}return d}};function g(e,t,a){a.style.text=null,o.updateProps(a,{shape:{width:0}},t,e,function(){a.parent&&a.parent.remove(a)})}function f(e,t,a){a.style.text=null,o.updateProps(a,{shape:{r:a.shape.r0}},t,e,function(){a.parent&&a.parent.remove(a)})}var v={cartesian2d:function(e,t,a){var r=e.getItemLayout(t),i=b(a,r),n=r.width>0?1:-1,o=r.height>0?1:-1;return{x:r.x+n*i/2,y:r.y+o*i/2,width:r.width-n*i,height:r.height-o*i}},polar:function(e,t,a){var r=e.getItemLayout(t);return{cx:r.cx,cy:r.cy,r0:r.r0,r:r.r,startAngle:r.startAngle,endAngle:r.endAngle}}};function y(e,t,a,r,i,s,u,d){var c=t.getItemVisual(a,"color"),p=t.getItemVisual(a,"opacity"),h=r.getModel("itemStyle"),m=r.getModel("emphasis.itemStyle").getBarItemStyle();d||e.setShape("r",h.get("barBorderRadius")||0),e.useStyle(n.defaults({fill:c,opacity:p},h.getBarItemStyle()));var g=r.getShallow("cursor");g&&e.attr("cursor",g);var f=u?i.height>0?"bottom":"top":i.width>0?"left":"right";d||l(e.style,m,r,c,s,a,f),o.setHoverStyle(e,m)}function b(e,t){var a=e.get(p)||0;return Math.min(a,Math.abs(t.width),Math.abs(t.height))}var x=c.extend({type:"largeBar",shape:{points:[]},buildPath:function(e,t){for(var a=t.points,r=this.__startPoint,i=this.__valueIdx,n=0;n<a.length;n+=2)r[this.__valueIdx]=a[n+i],e.moveTo(r[0],r[1]),e.lineTo(a[n],a[n+1])}});function w(e,t,a){var r=e.getData(),i=[],n=r.getLayout("valueAxisHorizontal")?1:0;i[1-n]=r.getLayout("valueAxisStart");var o=new x({shape:{points:r.getLayout("largePoints")},incremental:!!a,__startPoint:i,__valueIdx:n});t.add(o),_(o,e,r)}function _(e,t,a){var r=a.getVisual("borderColor")||a.getVisual("color"),i=t.getModel("itemStyle").getItemStyle(["color","borderColor"]);e.useStyle(i),e.style.fill=null,e.style.stroke=r,e.style.lineWidth=a.getLayout("barWidth")}e.exports=h},"94b1":function(e,t,a){var r=a("3eba"),i=a("6d8b"),n=a("9d57"),o=n.layout,s=n.largeLayout;a("5aa9"),a("17b8"),a("67ccc"),a("01ed"),r.registerLayout(i.curry(o,"bar")),r.registerLayout(s),r.registerVisual({seriesType:"bar",reset:function(e){e.getData().setVisual("legendSymbol","roundRect")}})},b5c7:function(e,t,a){var r=a("282b"),i=r([["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["stroke","barBorderColor"],["lineWidth","barBorderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]),n={getBarItemStyle:function(e){var t=i(this,e);if(this.getBorderLineDash){var a=this.getBorderLineDash();a&&(t.lineDash=a)}return t}};e.exports=n},e7aa:function(e,t,a){var r=a("2306"),i=a("c775"),n=i.getDefaultLabel;function o(e,t,a,i,o,l,u){var d=a.getModel("label"),c=a.getModel("emphasis.label");r.setLabelStyle(e,t,d,c,{labelFetcher:o,labelDataIndex:l,defaultText:n(o.getData(),l),isRectText:!0,autoColor:i}),s(e),s(t)}function s(e,t){"outside"===e.textPosition&&(e.textPosition=t)}t.setLabel=o},e8cc:function(e,t,a){"use strict";function r(e){return e&&"object"===typeof e&&"default"in e?e["default"]:e}var i=a("89d6"),n=a("6f0c"),o=a("4cbb");a("94b1");var s=r(a("6521")),l=function(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e},u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},d=.5;function c(e){var t=e.innerRows,a=e.dimAxisName,r=e.dimension,i=e.axisVisible,n=e.dimAxisType,o=e.dims;return r.map(function(e){return{type:"category",name:a,nameLocation:"middle",nameGap:22,data:"value"===n?p(o):t.map(function(t){return t[e]}),axisLabel:{formatter:function(e){return String(e)}},show:i}})}function p(e){for(var t=Math.max.apply(null,e),a=Math.min.apply(null,e),r=[],i=a;i<=t;i++)r.push(i);return r}function h(e){for(var t=e.meaAxisName,a=e.meaAxisType,r=e.axisVisible,i=e.digit,o=e.scale,s=e.min,l=e.max,d={type:"value",axisTick:{show:!1},show:r},c=[],p=function(e){a[e]?c[e]=u({},d,{axisLabel:{formatter:function(t){return n.getFormated(t,a[e],i)}}}):c[e]=u({},d),c[e].name=t[e]||"",c[e].scale=o[e]||!1,c[e].min=s[e]||null,c[e].max=l[e]||null},h=0;h<2;h++)p(h);return c}function m(e){var t=e.axisSite,a=e.isHistogram,r=e.meaAxisType,o=e.digit,s=e.labelMap,l=a?t.right||[]:t.top||[];return s&&(l=l.map(function(e){return void 0===s[e]?e:s[e]})),{trigger:"axis",formatter:function(e){var t=[];return t.push(e[0].name+"<br>"),e.forEach(function(e){var a=e.seriesName,s=~l.indexOf(a)?r[1]:r[0];t.push(i.itemPoint(e.color)),t.push(a+": "),t.push(n.getFormated(e.value,s,o)),t.push("<br>")}),t.join("")}}}function g(e,t){for(var a=Math.max.apply(null,t),r=Math.min.apply(null,t),i=[],n=r;n<=a;n++){var o=t.indexOf(n);~o?i.push(e[o]):i.push(null)}return i}function f(e){var t=e.innerRows,a=e.metrics,r=e.stack,i=e.axisSite,s=e.isHistogram,u=e.labelMap,c=e.itemStyle,p=e.label,h=e.showLine,m=void 0===h?[]:h,f=e.dimAxisType,v=e.barGap,y=e.opacity,b=e.dims,x=[],w={},_=s?i.right||[]:i.top||[],S=s?"yAxisIndex":"xAxisIndex",A=r&&n.getStackMap(r);return a.forEach(function(e){w[e]=[]}),t.forEach(function(e){a.forEach(function(t){w[t].push(e[t])})}),x=Object.keys(w).map(function(e,t){var a="value"===f?g(w[e],b):w[e],i=l({name:null!=u[e]?u[e]:e,type:~m.indexOf(e)?"line":"bar",data:a},S,~_.indexOf(e)?"1":"0");r&&A[e]&&(i.stack=A[e]),p&&(i.label=p),c&&(i.itemStyle=c);var n=y||o.get(i,"itemStyle.normal.opacity");return"value"===f&&(i.barGap=v,i.barCategoryGap="1%",null==n&&(n=d)),null!=n&&o.set(i,"itemStyle.normal.opacity",n),i}),!!x.length&&x}function v(e){var t=e.metrics,a=e.labelMap,r=e.legendName;if(!r&&!a)return{data:t};var i=a?t.map(function(e){return null==a[e]?e:a[e]}):t;return{data:i,formatter:function(e){return null!=r[e]?r[e]:e}}}function y(e,t){return e.map(function(e){return e[t[0]]})}var b=function(e,t,a,r){var i=o.cloneDeep(t),n=a.axisSite,s=void 0===n?{}:n,l=a.dimension,u=void 0===l?[e[0]]:l,d=a.stack,p=void 0===d?{}:d,g=a.axisVisible,b=void 0===g||g,x=a.digit,w=void 0===x?2:x,_=a.dataOrder,S=void 0!==_&&_,A=a.scale,L=void 0===A?[!1,!1]:A,M=a.min,I=void 0===M?[null,null]:M,D=a.max,P=void 0===D?[null,null]:D,T=a.legendName,V=void 0===T?{}:T,N=a.labelMap,k=void 0===N?{}:N,B=a.label,O=a.itemStyle,R=a.showLine,E=a.barGap,G=void 0===E?"-100%":E,H=a.opacity,C=r.tooltipVisible,W=r.legendVisible,j=e.slice();s.top&&s.bottom?j=s.top.concat(s.bottom):s.bottom&&!s.right?j=s.bottom:a.metrics?j=a.metrics:j.splice(e.indexOf(u[0]),1);var z=a.xAxisType||["normal","normal"],F=a.yAxisType||"category",J=a.xAxisName||[],X=a.yAxisName||"",Y=!1;if(S){var q=S.label,K=S.order;q&&K?i.sort(function(e,t){return"desc"===K?e[q]-t[q]:t[q]-e[q]}):console.warn("Need to provide name and order parameters")}var Q=y(i,u),U=W&&v({metrics:j,labelMap:k,legendName:V}),Z=c({innerRows:i,dimAxisName:X,dimension:u,axisVisible:b,dimAxisType:F,dims:Q}),$=h({meaAxisName:J,meaAxisType:z,axisVisible:b,digit:w,scale:L,min:I,max:P}),ee=f({innerRows:i,metrics:j,stack:p,axisSite:s,isHistogram:Y,labelMap:k,itemStyle:O,label:B,showLine:R,dimAxisType:F,dimension:u,barGap:G,opacity:H,dims:Q}),te={axisSite:s,isHistogram:Y,meaAxisType:z,digit:w,labelMap:k},ae=C&&m(te),re={legend:U,yAxis:Z,series:ee,xAxis:$,tooltip:ae};return re},x=u({},s,{name:"VeBar",data:function(){return this.chartHandler=b,{}}});e.exports=x}}]);
//# sourceMappingURL=statistics-dashboard~statistics-miniprogram.a2ad48b6.js.map