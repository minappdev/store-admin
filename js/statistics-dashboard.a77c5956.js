(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["statistics-dashboard"],{"0045":function(t,e,s){"use strict";var a=s("fe87"),i=s.n(a);i.a},"0a7a":function(t,e,s){"use strict";var a=s("cef5"),i=s.n(a);i.a},"0e30":function(t,e,s){"use strict";var a=s("2344"),i=s.n(a);i.a},1585:function(t,e,s){},2344:function(t,e,s){},"26c5":function(t,e,s){},"27eb":function(t,e,s){},"3eb6":function(t,e,s){"use strict";var a=s("1585"),i=s.n(a);i.a},"47b3":function(t,e,s){"use strict";var a=s("e05a"),i=s.n(a);i.a},5159:function(t,e,s){"use strict";var a=s("26c5"),i=s.n(a);i.a},"75f8":function(t,e,s){"use strict";var a=s("27eb"),i=s.n(a);i.a},"80bf":function(t,e,s){"use strict";s("96cf");var a=s("1da1"),i=(s("7f7f"),s("a3fb"));e["a"]=function(t){var e=t.name,s=t.components,n=t.map;return{name:e,components:s,data:function(){return{store:{}}},created:function(){var t=Object(a["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(i["b"])();case 2:this.store=t.sent;case 3:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),render:function(t){return t(n[this.store.kind])}}}},a1f8:function(t,e,s){"use strict";s.r(e);var a,i,n=s("80bf"),r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"container section"},[s("div",{staticClass:"section-title-bar"},[t._v("交易统计")]),s("div",{staticClass:"section-primary"},[s("div",{staticClass:"section-item"},[s("div",{staticClass:"section-item-label"},[t._v("累计订单")]),s("div",{staticClass:"section-item-digit",staticStyle:{color:"#ff4f4f"}},[t._v("\n          "+t._s(t.orderTotal)+"\n          "),s("span",{staticClass:"unit"},[t._v("单")])])]),s("div",{staticClass:"section-item"},[s("div",{staticClass:"section-item-label"},[t._v("累计支付金额")]),s("div",{staticClass:"section-item-digit",staticStyle:{color:"#ff4f4f"}},[t._v("\n          "+t._s(t.paidTotal/100)+"\n          "),s("span",{staticClass:"unit"},[t._v("元")])])]),s("div",{staticClass:"section-item"},[s("div",{staticClass:"section-item-label"},[t._v("累计利润")]),s("div",{staticClass:"section-item-digit",staticStyle:{color:"#037FFF"}},[t._v("\n          "+t._s(t.profitTotal/100)+"\n          "),s("span",{staticClass:"unit"},[t._v("元")])])])]),s("div",{staticClass:"section-chart-title"},[t._v("\n      交易走势\n      "),s("div",{staticClass:"section-chart-op"},[s("el-date-picker",{attrs:{type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:t.dateOrder,callback:function(e){t.dateOrder=e},expression:"dateOrder"}}),s("span",{staticClass:"date-shortcut",class:{active:7===t.isActiveOrder},on:{click:function(){t.dateOrder=[t.yesterday().add(-7,"days"),t.yesterday()],t.isActiveOrder=7}}},[t._v("最近7天")]),s("span",{staticClass:"date-shortcut",class:{active:30===t.isActiveOrder},on:{click:function(){t.dateOrder=[t.yesterday().add(-30,"days"),t.yesterday()],t.isActiveOrder=30}}},[t._v("最近30天")])],1)]),s("div",{staticClass:"section-secondary"},[s("div",{staticClass:"section-item"},[s("div",{staticClass:"section-item-digit"},[t._v(t._s(t.orderTrend))]),s("div",{staticClass:"section-item-label"},[t._v("合计订单（单）")])]),s("div",{staticClass:"section-item"},[s("div",{staticClass:"section-item-digit"},[t._v(t._s(t.paidTrend/100))]),s("div",{staticClass:"section-item-label"},[t._v("合计支付金额（元）")])]),s("div",{staticClass:"section-item"},[s("div",{staticClass:"section-item-digit"},[t._v(t._s(t.profitTrend/100))]),s("div",{staticClass:"section-item-label"},[t._v("合计收益（元）")])])]),s("div",{staticClass:"chart-main"},[s("ve-line",{attrs:{height:"360px",colors:["#FBF2E7","#DCEBFA"],data:t.chartDataOrder,settings:{area:!0},legend:{left:0,bottom:0}}})],1)]),s("div",{staticClass:"container section"},[s("div",{staticClass:"section-chart-title"},[t._v("\n      营销走势\n      "),s("div",{staticClass:"section-chart-op"},[s("el-date-picker",{attrs:{type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:t.dateCoupon,callback:function(e){t.dateCoupon=e},expression:"dateCoupon"}}),s("span",{staticClass:"date-shortcut",class:{active:7===t.isActiveCoupon},on:{click:function(){t.dateCoupon=[t.yesterday().add(-7,"days"),t.yesterday()],t.isActiveCoupon=7}}},[t._v("最近7天")]),s("span",{staticClass:"date-shortcut",class:{active:30===t.isActiveCoupon},on:{click:function(){t.dateCoupon=[t.yesterday().add(-30,"days"),t.yesterday()],t.isActiveCoupon=30}}},[t._v("最近30天")])],1)]),s("div",{staticClass:"section-secondary"},[s("div",{staticClass:"section-item"},[s("div",{staticClass:"section-item-digit"},[t._v(t._s(t.sentCouponTrend))]),s("div",{staticClass:"section-item-label"},[t._v("发放券数")])]),s("div",{staticClass:"section-item"},[s("div",{staticClass:"section-item-digit"},[t._v(t._s(t.usedCouponTrend))]),s("div",{staticClass:"section-item-label"},[t._v("使用券数")])]),s("div",{staticClass:"section-item"},[s("div",{staticClass:"section-item-digit"},[t._v(t._s(t.rateCouponTrend)+"%")]),s("div",{staticClass:"section-item-label"},[t._v("优惠券使用率")])])]),s("div",{staticClass:"chart-main"},[s("ve-line",{attrs:{height:"360px",colors:["#FBF2E7","#DCEBFA"],data:t.chartDataCoupon,settings:{area:!0},legend:{left:0,bottom:0}}})],1)]),s("div",{staticClass:"container section section-two-col"},[s("div",{staticClass:"section-left"},[s("div",{staticClass:"section-chart-title"},[t._v("\n        用户分析\n        "),s("div",{staticClass:"section-chart-op"},[s("el-date-picker",{attrs:{type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:t.dateUser,callback:function(e){t.dateUser=e},expression:"dateUser"}}),s("span",{staticClass:"date-shortcut",class:{active:7===t.isActiveUser},on:{click:function(){t.dateUser=[t.yesterday().add(-7,"days"),t.yesterday()],t.isActiveUser=7}}},[t._v("最近7天")]),s("span",{staticClass:"date-shortcut",class:{active:30===t.isActiveUser},on:{click:function(){t.dateUser=[t.yesterday().add(-30,"days"),t.yesterday()],t.isActiveUser=30}}},[t._v("最近30天")])],1)]),s("div",{staticClass:"section-secondary"},[s("div",{staticClass:"section-item"},[s("div",{staticClass:"section-item-digit"},[t._v(t._s(t.todayUserTrend))]),s("div",{staticClass:"section-item-label"},[t._v("今日新增用户")])]),s("div",{staticClass:"section-item"},[s("div",{staticClass:"section-item-digit"},[t._v(t._s(t.userTrend))]),s("div",{staticClass:"section-item-label"},[t._v("新增用户总计")])])]),s("div",{staticClass:"chart-main"},[s("ve-line",{attrs:{height:"360px",colors:["#FBF2E7","#DCEBFA"],data:t.chartDataUser,settings:{area:!0},legend:{left:0,bottom:0}}})],1)]),s("div",{staticClass:"section-right"},[s("div",{staticClass:"seciont-right-title"},[t._v("热销地区TOP5")]),s("div",{staticStyle:{"margin-bottom":"28px"}},[s("ve-bar",{attrs:{height:"200px",grid:{top:0,bottom:0},settings:{dataOrder:{label:"用户数",order:"desc"}},"legend-visible":!1,data:t.chartDataUserTop5,xAxis:{show:!1}}})],1),s("div",{staticClass:"seciont-right-title"},[t._v("性别分布")]),s("div",{staticClass:"chart-gender"},[t.genderMan>0?s("div",{staticClass:"chart-gender-item man",style:{width:t.genderManW+"%"}},[s("span",[t._v("男 "+t._s(t.genderMan)+"%")])]):t._e(),t.genderWoman>0?s("div",{staticClass:"chart-gender-item woman",style:{width:t.genderWomanW+"%"}},[s("span",[t._v("女 "+t._s(t.genderWoman)+"%")])]):t._e(),t.genderUnkown>0?s("div",{staticClass:"chart-gender-item unknown",style:{width:t.genderUnkownW+"%"}},[s("span",[t._v("未知 "+t._s(t.genderUnkown)+"%")])]):t._e()])])])])},o=[],c=(s("7514"),s("ac6a"),s("96cf"),s("1da1")),d=s("e8e1"),l=s("8e44"),u=s("73cd"),v=s("c3da"),p=s.n(v),h=s("e8cc"),m=s.n(h),C=s("c1df"),f=s.n(C),g=function(){var t=f()(new Date).add(-1,"days");return f()([t.year(),t.month(),t.date()])},y={name:"Statistics",components:{VeLine:p.a,VeBar:m.a},data:function(){return{token:Object(u["e"])(),orderTotal:0,paidTotal:0,profitTotal:0,dateOrder:[g().add(-7,"days"),g()],orderTrend:0,paidTrend:0,profitTrend:0,chartDataOrder:{columns:["日期","支付金额","有效订单数"],rows:[]},isActiveOrder:7,dateCoupon:[g().add(-7,"days"),g()],sentCouponTrend:0,usedCouponTrend:0,rateCouponTrend:0,chartDataCoupon:{columns:["日期","优惠券发放","优惠券使用"],rows:[]},isActiveCoupon:7,dateUser:[g().add(-7,"days"),g()],todayUserTrend:0,userTrend:0,chartDataUser:{columns:["日期","新增用户"],rows:[]},isActiveUser:7,chartDataUserTop5:{columns:["地区","用户数"],rows:[]},genderMan:0,genderUnkown:0,genderWoman:0,genderManW:0,genderUnkownW:0,genderWomanW:0}},watch:{dateOrder:function(){this.order()},dateCoupon:function(){this.coupon()},dateUser:function(){this.user()}},mounted:function(){var t=Object(c["a"])(regeneratorRuntime.mark(function t(){var e=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:Object(l["a"])("StoreStatisticsService.GetOrderStatistics",Object(d["a"])("StatusListTimeWithToken",{token:Object(d["a"])("Token",{token:this.token}),statuslistList:[1,2,3,4,7,9,10,11,12]})).then(function(t){e.orderTotal=t.count,e.paidTotal=t.paidamount,e.profitTotal=t.profit}),Object(l["a"])("StoreStatisticsService.GetUserStatistics",Object(d["a"])("TimeWithToken",{token:Object(d["a"])("Token",{token:this.token}),createdatgreaterthan:g().add(1,"days").unix()})).then(function(t){e.todayUserTrend=t.count}),Object(l["a"])("StoreStatisticsService.GetUserProvinceStatisticsList",Object(d["a"])("TimeWithToken",{token:Object(d["a"])("Token",{token:this.token})})).then(function(t){e.chartDataUserTop5.rows=t.userprovincestatisticslistList.map(function(t){return{"地区":t.province,"用户数":t.count}}).slice(0,5)}),Object(l["a"])("StoreStatisticsService.GetUserGenderStatisticsList",Object(d["a"])("TimeWithToken",{token:Object(d["a"])("Token",{token:this.token})})).then(function(t){t.usergenderstatisticslistList.forEach(function(t){0===t.gender&&(e.genderUnkown=t.count),1===t.gender&&(e.genderMan=t.count),2===t.gender&&(e.genderWoman=t.count)}),e.genderManW=e.genderUnkown+e.genderMan+e.genderWoman?parseInt(e.genderMan/(e.genderUnkown+e.genderMan+e.genderWoman)*100):0,e.genderWomanW=e.genderUnkown+e.genderMan+e.genderWoman?parseInt(e.genderWoman/(e.genderUnkown+e.genderMan+e.genderWoman)*100):0,e.genderUnknownW=100-e.genderManW-e.genderWomanW}),this.order(),this.coupon(),this.user();case 7:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),methods:{order:function(){var t=this,e=f()(this.dateOrder[0]),s=f()(this.dateOrder[1]);Object(l["a"])("StoreStatisticsService.GetOrderDayStatisticsList",Object(d["a"])("TimeWithToken",{token:Object(d["a"])("Token",{token:this.token}),createdatgreaterthan:e.unix(),createdatlessthan:s.add(1,"days").unix()})).then(function(a){var i=0,n=0,r=0;a.orderdaystatisticslistList.forEach(function(t){i+=t.count,n+=t.paidamount,r+=t.profit}),t.orderTrend=i,t.paidTrend=n,t.profitTrend=r;for(var o=a.orderdaystatisticslistList.map(function(t){return{"日期":t.day,"支付金额":t.paidamount/100,"有效订单数":t.count}}),c=[],d=function(t){c.push(o.find(function(e){return e["日期"]==t.format("YYYY-MM-DD")})||{"日期":t.format("YYYY-MM-DD"),"支付金额":0,"有效订单数":0})},l=e;l.isBefore(s);l.add(1,"days"))d(l);t.chartDataOrder.rows=c})},coupon:function(){var t=this,e=f()(this.dateCoupon[0]),s=f()(this.dateCoupon[1]);Object(l["a"])("StoreStatisticsService.GetCouponDayStatisticsList",Object(d["a"])("TimeWithToken",{token:Object(d["a"])("Token",{token:this.token}),createdatgreaterthan:e.unix(),createdatlessthan:s.add(1,"days").unix()})).then(function(a){var i=0,n=0;a.coupondaystatisticslistList.forEach(function(t){i+=t.sentcount,n+=t.usedcount}),t.sentCouponTrend=i,t.usedCouponTrend=n,t.rateCouponTrend=i?parseInt(n/i*1e4)/100:0;for(var r=a.coupondaystatisticslistList.map(function(t){return{"日期":t.day,"优惠券发放":t.sentcount,"优惠券使用":t.usedcount}}),o=[],c=function(t){o.push(r.find(function(e){return e["日期"]==t.format("YYYY-MM-DD")})||{"日期":t.format("YYYY-MM-DD"),"优惠券发放":0,"优惠券使用":0})},d=e;d.isBefore(s);d.add(1,"days"))c(d);t.chartDataCoupon.rows=o})},user:function(){var t=this,e=f()(this.dateUser[0]),s=f()(this.dateUser[1]);Object(l["a"])("StoreStatisticsService.GetUserDayStatisticsList",Object(d["a"])("TimeWithToken",{token:Object(d["a"])("Token",{token:this.token}),createdatgreaterthan:e.unix(),createdatlessthan:s.add(1,"days").unix()})).then(function(a){var i=0;a.userdaystatisticslistList.forEach(function(t){i+=t.count}),t.userTrend=i;for(var n=a.userdaystatisticslistList.map(function(t){return{"日期":t.day,"新增用户":t.count}}),r=[],o=function(t){r.push(n.find(function(e){return e["日期"]==t.format("YYYY-MM-DD")})||{"日期":t.format("YYYY-MM-DD"),"新增用户":0})},c=e;c.isBefore(s);c.add(1,"days"))o(c);t.chartDataUser.rows=r})},yesterday:g}},k=y,_=(s("75f8"),s("2877")),T=Object(_["a"])(k,r,o,!1,null,"6219e09c",null),b=T.exports,O=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"container section"},[s("div",{staticClass:"section-title-bar"},[t._v("交易统计")]),s("div",{staticClass:"section-primary"},[s("div",{staticClass:"section-item"},[s("div",{staticClass:"section-item-label"},[t._v("累计订单")]),s("div",{staticClass:"section-item-digit",staticStyle:{color:"#ff4f4f"}},[t._v("\n          "+t._s(t.orderTotal)+"\n          "),s("span",{staticClass:"unit"},[t._v("单")])])]),s("div",{staticClass:"section-item"},[s("div",{staticClass:"section-item-label"},[t._v("累计支付金额")]),s("div",{staticClass:"section-item-digit",staticStyle:{color:"#ff4f4f"}},[t._v("\n          "+t._s(t.paidTotal/100)+"\n          "),s("span",{staticClass:"unit"},[t._v("元")])])]),s("div",{staticClass:"section-item"},[s("div",{staticClass:"section-item-label"},[t._v("累计利润")]),s("div",{staticClass:"section-item-digit",staticStyle:{color:"#037FFF"}},[t._v("\n          "+t._s(t.profitTotal/100)+"\n          "),s("span",{staticClass:"unit"},[t._v("元")])])])]),s("div",{staticClass:"section-chart-title"},[t._v("\n      交易走势\n      "),s("div",{staticClass:"section-chart-op"},[s("el-date-picker",{attrs:{type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:t.dateOrder,callback:function(e){t.dateOrder=e},expression:"dateOrder"}}),s("span",{staticClass:"date-shortcut",class:{active:7===t.isActiveOrder},on:{click:function(){t.dateOrder=[t.yesterday().add(-7,"days"),t.yesterday()],t.isActiveOrder=7}}},[t._v("最近7天")]),s("span",{staticClass:"date-shortcut",class:{active:30===t.isActiveOrder},on:{click:function(){t.dateOrder=[t.yesterday().add(-30,"days"),t.yesterday()],t.isActiveOrder=30}}},[t._v("最近30天")])],1)]),s("div",{staticClass:"section-secondary"},[s("div",{staticClass:"section-item"},[s("div",{staticClass:"section-item-digit"},[t._v(t._s(t.orderTrend))]),s("div",{staticClass:"section-item-label"},[t._v("合计订单（单）")])]),s("div",{staticClass:"section-item"},[s("div",{staticClass:"section-item-digit"},[t._v(t._s(t.paidTrend/100))]),s("div",{staticClass:"section-item-label"},[t._v("合计支付金额（元）")])]),s("div",{staticClass:"section-item"},[s("div",{staticClass:"section-item-digit"},[t._v(t._s(t.profitTrend/100))]),s("div",{staticClass:"section-item-label"},[t._v("合计收益（元）")])])]),s("div",{staticClass:"chart-main"},[s("ve-line",{attrs:{height:"360px",colors:["#FBF2E7","#DCEBFA"],data:t.chartDataOrder,settings:{area:!0},legend:{left:0,bottom:0}}})],1)]),s("div",{staticClass:"container section"},[s("div",{staticClass:"section-chart-title"},[t._v("\n      营销走势\n      "),s("div",{staticClass:"section-chart-op"},[s("el-date-picker",{attrs:{type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:t.dateCoupon,callback:function(e){t.dateCoupon=e},expression:"dateCoupon"}}),s("span",{staticClass:"date-shortcut",class:{active:7===t.isActiveCoupon},on:{click:function(){t.dateCoupon=[t.yesterday().add(-7,"days"),t.yesterday()],t.isActiveCoupon=7}}},[t._v("最近7天")]),s("span",{staticClass:"date-shortcut",class:{active:30===t.isActiveCoupon},on:{click:function(){t.dateCoupon=[t.yesterday().add(-30,"days"),t.yesterday()],t.isActiveCoupon=30}}},[t._v("最近30天")])],1)]),s("div",{staticClass:"section-secondary"},[s("div",{staticClass:"section-item"},[s("div",{staticClass:"section-item-digit"},[t._v(t._s(t.sentCouponTrend))]),s("div",{staticClass:"section-item-label"},[t._v("发放券数")])]),s("div",{staticClass:"section-item"},[s("div",{staticClass:"section-item-digit"},[t._v(t._s(t.usedCouponTrend))]),s("div",{staticClass:"section-item-label"},[t._v("使用券数")])]),s("div",{staticClass:"section-item"},[s("div",{staticClass:"section-item-digit"},[t._v(t._s(t.rateCouponTrend)+"%")]),s("div",{staticClass:"section-item-label"},[t._v("优惠券使用率")])])]),s("div",{staticClass:"chart-main"},[s("ve-line",{attrs:{height:"360px",colors:["#FBF2E7","#DCEBFA"],data:t.chartDataCoupon,settings:{area:!0},legend:{left:0,bottom:0}}})],1)]),s("div",{staticClass:"container section section-two-col"},[s("div",{staticClass:"section-left"},[s("div",{staticClass:"section-chart-title"},[t._v("\n        用户分析\n        "),s("div",{staticClass:"section-chart-op"},[s("el-date-picker",{attrs:{type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:t.dateUser,callback:function(e){t.dateUser=e},expression:"dateUser"}}),s("span",{staticClass:"date-shortcut",class:{active:7===t.isActiveUser},on:{click:function(){t.dateUser=[t.yesterday().add(-7,"days"),t.yesterday()],t.isActiveUser=7}}},[t._v("最近7天")]),s("span",{staticClass:"date-shortcut",class:{active:30===t.isActiveUser},on:{click:function(){t.dateUser=[t.yesterday().add(-30,"days"),t.yesterday()],t.isActiveUser=30}}},[t._v("最近30天")])],1)]),s("div",{staticClass:"section-secondary"},[s("div",{staticClass:"section-item"},[s("div",{staticClass:"section-item-digit"},[t._v(t._s(t.todayUserTrend))]),s("div",{staticClass:"section-item-label"},[t._v("今日新增用户")])]),s("div",{staticClass:"section-item"},[s("div",{staticClass:"section-item-digit"},[t._v(t._s(t.userTrend))]),s("div",{staticClass:"section-item-label"},[t._v("新增用户总计")])])]),s("div",{staticClass:"chart-main"},[s("ve-line",{attrs:{height:"360px",colors:["#FBF2E7","#DCEBFA"],data:t.chartDataUser,settings:{area:!0},legend:{left:0,bottom:0}}})],1)]),s("div",{staticClass:"section-right"},[s("div",{staticClass:"seciont-right-title"},[t._v("热销地区TOP5")]),s("div",{staticStyle:{"margin-bottom":"28px"}},[s("ve-bar",{attrs:{height:"200px",grid:{top:0,bottom:0},settings:{dataOrder:{label:"用户数",order:"desc"}},"legend-visible":!1,data:t.chartDataUserTop5,xAxis:{show:!1}}})],1),s("div",{staticClass:"seciont-right-title"},[t._v("性别分布")]),s("div",{staticClass:"chart-gender"},[t.genderMan>0?s("div",{staticClass:"chart-gender-item man",style:{width:t.genderManW+"%"}},[s("span",[t._v("男 "+t._s(t.genderMan)+"%")])]):t._e(),t.genderUnkown>0?s("div",{staticClass:"chart-gender-item unknown",style:{width:t.genderUnkownW+"%"}},[s("span",[t._v("未知 "+t._s(t.genderUnkown)+"%")])]):t._e(),t.genderWoman>0?s("div",{staticClass:"chart-gender-item woman",style:{width:t.genderWomanW+"%"}},[s("span",[t._v("女 "+t._s(t.genderWoman)+"%")])]):t._e()])])])])},U=[],S=function(){var t=f()(new Date).add(-1,"days");return f()([t.year(),t.month(),t.date()])},w={name:"Statistics",components:{VeLine:p.a,VeBar:m.a},data:function(){return{token:Object(u["e"])(),orderTotal:0,paidTotal:0,profitTotal:0,dateOrder:[S().add(-7,"days"),S()],orderTrend:0,paidTrend:0,profitTrend:0,chartDataOrder:{columns:["日期","支付金额","有效订单数"],rows:[]},isActiveOrder:7,dateCoupon:[S().add(-7,"days"),S()],sentCouponTrend:0,usedCouponTrend:0,rateCouponTrend:0,chartDataCoupon:{columns:["日期","优惠券发放","优惠券使用"],rows:[]},isActiveCoupon:7,dateUser:[S().add(-7,"days"),S()],todayUserTrend:0,userTrend:0,chartDataUser:{columns:["日期","新增用户"],rows:[]},isActiveUser:7,chartDataUserTop5:{columns:["地区","用户数"],rows:[]},genderMan:0,genderUnkown:0,genderWoman:0,genderManW:0,genderUnkownW:0,genderWomanW:0}},watch:{dateOrder:function(){this.order()},dateCoupon:function(){this.coupon()},dateUser:function(){this.user()}},mounted:function(){var t=Object(c["a"])(regeneratorRuntime.mark(function t(){var e=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:Object(l["a"])("StoreStatisticsService.GetOrderStatistics",Object(d["a"])("StatusListTimeWithToken",{token:Object(d["a"])("Token",{token:this.token}),statuslistList:[1,2,3,4,12]})).then(function(t){e.orderTotal=t.count,e.paidTotal=t.paidamount,e.profitTotal=t.profit}),Object(l["a"])("StoreStatisticsService.GetUserStatistics",Object(d["a"])("TimeWithToken",{token:Object(d["a"])("Token",{token:this.token}),createdatgreaterthan:S().add(1,"days").unix()})).then(function(t){e.todayUserTrend=t.count}),Object(l["a"])("StoreStatisticsService.GetUserProvinceStatisticsList",Object(d["a"])("TimeWithToken",{token:Object(d["a"])("Token",{token:this.token})})).then(function(t){e.chartDataUserTop5.rows=t.userprovincestatisticslistList.map(function(t){return{"地区":t.province,"用户数":t.count}}).slice(0,5)}),Object(l["a"])("StoreStatisticsService.GetUserGenderStatisticsList",Object(d["a"])("TimeWithToken",{token:Object(d["a"])("Token",{token:this.token})})).then(function(t){t.usergenderstatisticslistList.forEach(function(t){0===t.gender&&(e.genderUnkown=t.count),1===t.gender&&(e.genderMan=t.count),2===t.gender&&(e.genderWoman=t.count)}),e.genderManW=e.genderUnkown+e.genderMan+e.genderWoman?parseInt(e.genderMan/(e.genderUnkown+e.genderMan+e.genderWoman)*100):0,e.genderWomanW=e.genderUnkown+e.genderMan+e.genderWoman?parseInt(e.genderWoman/(e.genderUnkown+e.genderMan+e.genderWoman)*100):0,e.genderUnknownW=100-e.genderManW-e.genderWomanW}),this.order(),this.coupon(),this.user();case 7:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),methods:{order:function(){var t=this,e=f()(this.dateOrder[0]),s=f()(this.dateOrder[1]);Object(l["a"])("StoreStatisticsService.GetOrderDayStatisticsList",Object(d["a"])("TimeWithToken",{token:Object(d["a"])("Token",{token:this.token}),createdatgreaterthan:e.unix(),createdatlessthan:s.add(1,"days").unix()})).then(function(a){var i=0,n=0,r=0;a.orderdaystatisticslistList.forEach(function(t){i+=t.count,n+=t.paidamount,r+=t.profit}),t.orderTrend=i,t.paidTrend=n,t.profitTrend=r;for(var o=a.orderdaystatisticslistList.map(function(t){return{"日期":t.day,"支付金额":t.paidamount/100,"有效订单数":t.count}}),c=[],d=function(t){c.push(o.find(function(e){return e["日期"]==t.format("YYYY-MM-DD")})||{"日期":t.format("YYYY-MM-DD"),"支付金额":0,"有效订单数":0})},l=e;l.isBefore(s);l.add(1,"days"))d(l);t.chartDataOrder.rows=c})},coupon:function(){var t=this,e=f()(this.dateCoupon[0]),s=f()(this.dateCoupon[1]);Object(l["a"])("StoreStatisticsService.GetCouponDayStatisticsList",Object(d["a"])("TimeWithToken",{token:Object(d["a"])("Token",{token:this.token}),createdatgreaterthan:e.unix(),createdatlessthan:s.add(1,"days").unix()})).then(function(a){var i=0,n=0;a.coupondaystatisticslistList.forEach(function(t){i+=t.sentcount,n+=t.usedcount}),t.sentCouponTrend=i,t.usedCouponTrend=n,t.rateCouponTrend=i?parseInt(n/i*1e4)/100:0;for(var r=a.coupondaystatisticslistList.map(function(t){return{"日期":t.day,"优惠券发放":t.sentcount,"优惠券使用":t.usedcount}}),o=[],c=function(t){o.push(r.find(function(e){return e["日期"]==t.format("YYYY-MM-DD")})||{"日期":t.format("YYYY-MM-DD"),"优惠券发放":0,"优惠券使用":0})},d=e;d.isBefore(s);d.add(1,"days"))c(d);t.chartDataCoupon.rows=o})},user:function(){var t=this,e=f()(this.dateUser[0]),s=f()(this.dateUser[1]);Object(l["a"])("StoreStatisticsService.GetUserDayStatisticsList",Object(d["a"])("TimeWithToken",{token:Object(d["a"])("Token",{token:this.token}),createdatgreaterthan:e.unix(),createdatlessthan:s.add(1,"days").unix()})).then(function(a){var i=0;a.userdaystatisticslistList.forEach(function(t){i+=t.count}),t.userTrend=i;for(var n=a.userdaystatisticslistList.map(function(t){return{"日期":t.day,"新增用户":t.count}}),r=[],o=function(t){r.push(n.find(function(e){return e["日期"]==t.format("YYYY-MM-DD")})||{"日期":t.format("YYYY-MM-DD"),"新增用户":0})},c=e;c.isBefore(s);c.add(1,"days"))o(c);t.chartDataUser.rows=r})},yesterday:S}},D=w,W=(s("0a7a"),Object(_["a"])(D,O,U,!1,null,"0eb67766",null)),M=W.exports,j=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"container section"},[s("div",{staticClass:"section-title-bar"},[t._v("交易统计")]),s("div",{staticClass:"section-primary"},[s("div",{staticClass:"section-item"},[s("div",{staticClass:"section-item-label"},[t._v("累计订单")]),s("div",{staticClass:"section-item-digit",staticStyle:{color:"#ff4f4f"}},[t._v("\n          "+t._s(t.orderTotal)+"\n          "),s("span",{staticClass:"unit"},[t._v("单")])])]),s("div",{staticClass:"section-item"},[s("div",{staticClass:"section-item-label"},[t._v("累计支付金额")]),s("div",{staticClass:"section-item-digit",staticStyle:{color:"#ff4f4f"}},[t._v("\n          "+t._s(t.paidTotal/100)+"\n          "),s("span",{staticClass:"unit"},[t._v("元")])])]),s("div",{staticClass:"section-item"},[s("div",{staticClass:"section-item-label"},[t._v("累计利润")]),s("div",{staticClass:"section-item-digit",staticStyle:{color:"#037FFF"}},[t._v("\n          "+t._s(t.profitTotal/100)+"\n          "),s("span",{staticClass:"unit"},[t._v("元")])])])]),s("div",{staticClass:"section-chart-title"},[t._v("\n      交易走势\n      "),s("div",{staticClass:"section-chart-op"},[s("el-date-picker",{attrs:{type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:t.dateOrder,callback:function(e){t.dateOrder=e},expression:"dateOrder"}}),s("span",{staticClass:"date-shortcut",class:{active:7===t.isActiveOrder},on:{click:function(){t.dateOrder=[t.yesterday().add(-7,"days"),t.yesterday()],t.isActiveOrder=7}}},[t._v("最近7天")]),s("span",{staticClass:"date-shortcut",class:{active:30===t.isActiveOrder},on:{click:function(){t.dateOrder=[t.yesterday().add(-30,"days"),t.yesterday()],t.isActiveOrder=30}}},[t._v("最近30天")])],1)]),s("div",{staticClass:"section-secondary"},[s("div",{staticClass:"section-item"},[s("div",{staticClass:"section-item-digit"},[t._v(t._s(t.orderTrend))]),s("div",{staticClass:"section-item-label"},[t._v("合计订单（单）")])]),s("div",{staticClass:"section-item"},[s("div",{staticClass:"section-item-digit"},[t._v(t._s(t.paidTrend/100))]),s("div",{staticClass:"section-item-label"},[t._v("合计支付金额（元）")])]),s("div",{staticClass:"section-item"},[s("div",{staticClass:"section-item-digit"},[t._v(t._s(t.profitTrend/100))]),s("div",{staticClass:"section-item-label"},[t._v("合计收益（元）")])])]),s("div",{staticClass:"chart-main"},[s("ve-line",{attrs:{height:"360px",colors:["#FBF2E7","#DCEBFA"],data:t.chartDataOrder,settings:{area:!0},legend:{left:0,bottom:0}}})],1)]),s("div",{staticClass:"container section"},[s("div",{staticClass:"section-chart-title"},[t._v("\n      营销走势\n      "),s("div",{staticClass:"section-chart-op"},[s("el-date-picker",{attrs:{type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:t.dateCoupon,callback:function(e){t.dateCoupon=e},expression:"dateCoupon"}}),s("span",{staticClass:"date-shortcut",class:{active:7===t.isActiveCoupon},on:{click:function(){t.dateCoupon=[t.yesterday().add(-7,"days"),t.yesterday()],t.isActiveCoupon=7}}},[t._v("最近7天")]),s("span",{staticClass:"date-shortcut",class:{active:30===t.isActiveCoupon},on:{click:function(){t.dateCoupon=[t.yesterday().add(-30,"days"),t.yesterday()],t.isActiveCoupon=30}}},[t._v("最近30天")])],1)]),s("div",{staticClass:"section-secondary"},[s("div",{staticClass:"section-item"},[s("div",{staticClass:"section-item-digit"},[t._v(t._s(t.sentCouponTrend))]),s("div",{staticClass:"section-item-label"},[t._v("发放券数")])]),s("div",{staticClass:"section-item"},[s("div",{staticClass:"section-item-digit"},[t._v(t._s(t.usedCouponTrend))]),s("div",{staticClass:"section-item-label"},[t._v("使用券数")])]),s("div",{staticClass:"section-item"},[s("div",{staticClass:"section-item-digit"},[t._v(t._s(t.rateCouponTrend)+"%")]),s("div",{staticClass:"section-item-label"},[t._v("优惠券使用率")])])]),s("div",{staticClass:"chart-main"},[s("ve-line",{attrs:{height:"360px",colors:["#FBF2E7","#DCEBFA"],data:t.chartDataCoupon,settings:{area:!0},legend:{left:0,bottom:0}}})],1)]),s("div",{staticClass:"container section section-two-col"},[s("div",{staticClass:"section-left"},[s("div",{staticClass:"section-chart-title"},[t._v("\n        用户分析\n        "),s("div",{staticClass:"section-chart-op"},[s("el-date-picker",{attrs:{type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:t.dateUser,callback:function(e){t.dateUser=e},expression:"dateUser"}}),s("span",{staticClass:"date-shortcut",class:{active:7===t.isActiveUser},on:{click:function(){t.dateUser=[t.yesterday().add(-7,"days"),t.yesterday()],t.isActiveUser=7}}},[t._v("最近7天")]),s("span",{staticClass:"date-shortcut",class:{active:30===t.isActiveUser},on:{click:function(){t.dateUser=[t.yesterday().add(-30,"days"),t.yesterday()],t.isActiveUser=30}}},[t._v("最近30天")])],1)]),s("div",{staticClass:"section-secondary"},[s("div",{staticClass:"section-item"},[s("div",{staticClass:"section-item-digit"},[t._v(t._s(t.todayUserTrend))]),s("div",{staticClass:"section-item-label"},[t._v("今日新增用户")])]),s("div",{staticClass:"section-item"},[s("div",{staticClass:"section-item-digit"},[t._v(t._s(t.userTrend))]),s("div",{staticClass:"section-item-label"},[t._v("新增用户总计")])])]),s("div",{staticClass:"chart-main"},[s("ve-line",{attrs:{height:"360px",colors:["#FBF2E7","#DCEBFA"],data:t.chartDataUser,settings:{area:!0},legend:{left:0,bottom:0}}})],1)]),s("div",{staticClass:"section-right"},[s("div",{staticClass:"seciont-right-title"},[t._v("热销地区TOP5")]),s("div",{staticStyle:{"margin-bottom":"28px"}},[s("ve-bar",{attrs:{height:"200px",grid:{top:0,bottom:0},settings:{dataOrder:{label:"用户数",order:"desc"}},"legend-visible":!1,data:t.chartDataUserTop5,xAxis:{show:!1}}})],1),s("div",{staticClass:"seciont-right-title"},[t._v("性别分布")]),s("div",{staticClass:"chart-gender"},[t.genderMan>0?s("div",{staticClass:"chart-gender-item man",style:{width:t.genderManW+"%"}},[s("span",[t._v("男 "+t._s(t.genderMan)+"%")])]):t._e(),t.genderUnkown>0?s("div",{staticClass:"chart-gender-item unknown",style:{width:t.genderUnkownW+"%"}},[s("span",[t._v("未知 "+t._s(t.genderUnkown)+"%")])]):t._e(),t.genderWoman>0?s("div",{staticClass:"chart-gender-item woman",style:{width:t.genderWomanW+"%"}},[s("span",[t._v("女 "+t._s(t.genderWoman)+"%")])]):t._e()])])])])},Y=[],x=function(){var t=f()(new Date).add(-1,"days");return f()([t.year(),t.month(),t.date()])},A={name:"Statistics",components:{VeLine:p.a,VeBar:m.a},data:function(){return{token:Object(u["e"])(),orderTotal:0,paidTotal:0,profitTotal:0,dateOrder:[x().add(-7,"days"),x()],orderTrend:0,paidTrend:0,profitTrend:0,chartDataOrder:{columns:["日期","支付金额","有效订单数"],rows:[]},isActiveOrder:7,dateCoupon:[x().add(-7,"days"),x()],sentCouponTrend:0,usedCouponTrend:0,rateCouponTrend:0,chartDataCoupon:{columns:["日期","优惠券发放","优惠券使用"],rows:[]},isActiveCoupon:7,dateUser:[x().add(-7,"days"),x()],todayUserTrend:0,userTrend:0,chartDataUser:{columns:["日期","新增用户"],rows:[]},isActiveUser:7,chartDataUserTop5:{columns:["地区","用户数"],rows:[]},genderMan:0,genderUnkown:0,genderWoman:0,genderManW:0,genderUnkownW:0,genderWomanW:0}},watch:{dateOrder:function(){this.order()},dateCoupon:function(){this.coupon()},dateUser:function(){this.user()}},mounted:function(){var t=Object(c["a"])(regeneratorRuntime.mark(function t(){var e=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:Object(l["a"])("StoreStatisticsService.GetOrderStatistics",Object(d["a"])("StatusListTimeWithToken",{token:Object(d["a"])("Token",{token:this.token}),statuslistList:[1,2,3,4,7,9,10,11,12]})).then(function(t){e.orderTotal=t.count,e.paidTotal=t.paidamount,e.profitTotal=t.profit}),Object(l["a"])("StoreStatisticsService.GetUserStatistics",Object(d["a"])("TimeWithToken",{token:Object(d["a"])("Token",{token:this.token}),createdatgreaterthan:x().add(1,"days").unix()})).then(function(t){e.todayUserTrend=t.count}),Object(l["a"])("StoreStatisticsService.GetUserProvinceStatisticsList",Object(d["a"])("TimeWithToken",{token:Object(d["a"])("Token",{token:this.token})})).then(function(t){e.chartDataUserTop5.rows=t.userprovincestatisticslistList.map(function(t){return{"地区":t.province,"用户数":t.count}}).slice(0,5)}),Object(l["a"])("StoreStatisticsService.GetUserGenderStatisticsList",Object(d["a"])("TimeWithToken",{token:Object(d["a"])("Token",{token:this.token})})).then(function(t){t.usergenderstatisticslistList.forEach(function(t){0===t.gender&&(e.genderUnkown=t.count),1===t.gender&&(e.genderMan=t.count),2===t.gender&&(e.genderWoman=t.count)}),e.genderManW=e.genderUnkown+e.genderMan+e.genderWoman?parseInt(e.genderMan/(e.genderUnkown+e.genderMan+e.genderWoman)*100):0,e.genderWomanW=e.genderUnkown+e.genderMan+e.genderWoman?parseInt(e.genderWoman/(e.genderUnkown+e.genderMan+e.genderWoman)*100):0,e.genderUnknownW=100-e.genderManW-e.genderWomanW}),this.order(),this.coupon(),this.user();case 7:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),methods:{order:function(){var t=this,e=f()(this.dateOrder[0]),s=f()(this.dateOrder[1]);Object(l["a"])("StoreStatisticsService.GetOrderDayStatisticsList",Object(d["a"])("TimeWithToken",{token:Object(d["a"])("Token",{token:this.token}),createdatgreaterthan:e.unix(),createdatlessthan:s.add(1,"days").unix()})).then(function(a){var i=0,n=0,r=0;a.orderdaystatisticslistList.forEach(function(t){i+=t.count,n+=t.paidamount,r+=t.profit}),t.orderTrend=i,t.paidTrend=n,t.profitTrend=r;for(var o=a.orderdaystatisticslistList.map(function(t){return{"日期":t.day,"支付金额":t.paidamount/100,"有效订单数":t.count}}),c=[],d=function(t){c.push(o.find(function(e){return e["日期"]==t.format("YYYY-MM-DD")})||{"日期":t.format("YYYY-MM-DD"),"支付金额":0,"有效订单数":0})},l=e;l.isBefore(s);l.add(1,"days"))d(l);t.chartDataOrder.rows=c})},coupon:function(){var t=this,e=f()(this.dateCoupon[0]),s=f()(this.dateCoupon[1]);Object(l["a"])("StoreStatisticsService.GetCouponDayStatisticsList",Object(d["a"])("TimeWithToken",{token:Object(d["a"])("Token",{token:this.token}),createdatgreaterthan:e.unix(),createdatlessthan:s.add(1,"days").unix()})).then(function(a){var i=0,n=0;a.coupondaystatisticslistList.forEach(function(t){i+=t.sentcount,n+=t.usedcount}),t.sentCouponTrend=i,t.usedCouponTrend=n,t.rateCouponTrend=i?parseInt(n/i*1e4)/100:0;for(var r=a.coupondaystatisticslistList.map(function(t){return{"日期":t.day,"优惠券发放":t.sentcount,"优惠券使用":t.usedcount}}),o=[],c=function(t){o.push(r.find(function(e){return e["日期"]==t.format("YYYY-MM-DD")})||{"日期":t.format("YYYY-MM-DD"),"优惠券发放":0,"优惠券使用":0})},d=e;d.isBefore(s);d.add(1,"days"))c(d);t.chartDataCoupon.rows=o})},user:function(){var t=this,e=f()(this.dateUser[0]),s=f()(this.dateUser[1]);Object(l["a"])("StoreStatisticsService.GetUserDayStatisticsList",Object(d["a"])("TimeWithToken",{token:Object(d["a"])("Token",{token:this.token}),createdatgreaterthan:e.unix(),createdatlessthan:s.add(1,"days").unix()})).then(function(a){var i=0;a.userdaystatisticslistList.forEach(function(t){i+=t.count}),t.userTrend=i;for(var n=a.userdaystatisticslistList.map(function(t){return{"日期":t.day,"新增用户":t.count}}),r=[],o=function(t){r.push(n.find(function(e){return e["日期"]==t.format("YYYY-MM-DD")})||{"日期":t.format("YYYY-MM-DD"),"新增用户":0})},c=e;c.isBefore(s);c.add(1,"days"))o(c);t.chartDataUser.rows=r})},yesterday:x}},L=A,F=(s("0045"),Object(_["a"])(L,j,Y,!1,null,"87bbc720",null)),E=F.exports,B=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"container section"},[s("div",{staticClass:"section-title-bar"},[t._v("交易统计")]),s("div",{staticClass:"section-primary"},[s("div",{staticClass:"section-item"},[s("div",{staticClass:"section-item-label"},[t._v("累计订单")]),s("div",{staticClass:"section-item-digit",staticStyle:{color:"#ff4f4f"}},[t._v("\n          "+t._s(t.orderTotal)+"\n          "),s("span",{staticClass:"unit"},[t._v("单")])])]),s("div",{staticClass:"section-item"},[s("div",{staticClass:"section-item-label"},[t._v("累计支付金额")]),s("div",{staticClass:"section-item-digit",staticStyle:{color:"#ff4f4f"}},[t._v("\n          "+t._s(t.paidTotal/100)+"\n          "),s("span",{staticClass:"unit"},[t._v("元")])])]),s("div",{staticClass:"section-item"},[s("div",{staticClass:"section-item-label"},[t._v("累计利润")]),s("div",{staticClass:"section-item-digit",staticStyle:{color:"#037FFF"}},[t._v("\n          "+t._s(t.profitTotal/100)+"\n          "),s("span",{staticClass:"unit"},[t._v("元")])])])]),s("div",{staticClass:"section-chart-title"},[t._v("\n      交易走势\n      "),s("div",{staticClass:"section-chart-op"},[s("el-date-picker",{attrs:{type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:t.dateOrder,callback:function(e){t.dateOrder=e},expression:"dateOrder"}}),s("span",{staticClass:"date-shortcut",class:{active:7===t.isActiveOrder},on:{click:function(){t.dateOrder=[t.yesterday().add(-7,"days"),t.yesterday()],t.isActiveOrder=7}}},[t._v("最近7天")]),s("span",{staticClass:"date-shortcut",class:{active:30===t.isActiveOrder},on:{click:function(){t.dateOrder=[t.yesterday().add(-30,"days"),t.yesterday()],t.isActiveOrder=30}}},[t._v("最近30天")])],1)]),s("div",{staticClass:"section-secondary"},[s("div",{staticClass:"section-item"},[s("div",{staticClass:"section-item-digit"},[t._v(t._s(t.orderTrend))]),s("div",{staticClass:"section-item-label"},[t._v("合计订单（单）")])]),s("div",{staticClass:"section-item"},[s("div",{staticClass:"section-item-digit"},[t._v(t._s(t.paidTrend/100))]),s("div",{staticClass:"section-item-label"},[t._v("合计支付金额（元）")])]),s("div",{staticClass:"section-item"},[s("div",{staticClass:"section-item-digit"},[t._v(t._s(t.profitTrend/100))]),s("div",{staticClass:"section-item-label"},[t._v("合计收益（元）")])])]),s("div",{staticClass:"chart-main"},[s("ve-line",{attrs:{height:"360px",colors:["#FBF2E7","#DCEBFA"],data:t.chartDataOrder,settings:{area:!0},legend:{left:0,bottom:0}}})],1)]),s("div",{staticClass:"container section"},[s("div",{staticClass:"section-chart-title"},[t._v("\n      营销走势\n      "),s("div",{staticClass:"section-chart-op"},[s("el-date-picker",{attrs:{type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:t.dateCoupon,callback:function(e){t.dateCoupon=e},expression:"dateCoupon"}}),s("span",{staticClass:"date-shortcut",class:{active:7===t.isActiveCoupon},on:{click:function(){t.dateCoupon=[t.yesterday().add(-7,"days"),t.yesterday()],t.isActiveCoupon=7}}},[t._v("最近7天")]),s("span",{staticClass:"date-shortcut",class:{active:30===t.isActiveCoupon},on:{click:function(){t.dateCoupon=[t.yesterday().add(-30,"days"),t.yesterday()],t.isActiveCoupon=30}}},[t._v("最近30天")])],1)]),s("div",{staticClass:"section-secondary"},[s("div",{staticClass:"section-item"},[s("div",{staticClass:"section-item-digit"},[t._v(t._s(t.sentCouponTrend))]),s("div",{staticClass:"section-item-label"},[t._v("发放券数")])]),s("div",{staticClass:"section-item"},[s("div",{staticClass:"section-item-digit"},[t._v(t._s(t.usedCouponTrend))]),s("div",{staticClass:"section-item-label"},[t._v("使用券数")])]),s("div",{staticClass:"section-item"},[s("div",{staticClass:"section-item-digit"},[t._v(t._s(t.rateCouponTrend)+"%")]),s("div",{staticClass:"section-item-label"},[t._v("优惠券使用率")])])]),s("div",{staticClass:"chart-main"},[s("ve-line",{attrs:{height:"360px",colors:["#FBF2E7","#DCEBFA"],data:t.chartDataCoupon,settings:{area:!0},legend:{left:0,bottom:0}}})],1)]),s("div",{staticClass:"container section section-two-col"},[s("div",{staticClass:"section-left"},[s("div",{staticClass:"section-chart-title"},[t._v("\n        用户分析\n        "),s("div",{staticClass:"section-chart-op"},[s("el-date-picker",{attrs:{type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:t.dateUser,callback:function(e){t.dateUser=e},expression:"dateUser"}}),s("span",{staticClass:"date-shortcut",class:{active:7===t.isActiveUser},on:{click:function(){t.dateUser=[t.yesterday().add(-7,"days"),t.yesterday()],t.isActiveUser=7}}},[t._v("最近7天")]),s("span",{staticClass:"date-shortcut",class:{active:30===t.isActiveUser},on:{click:function(){t.dateUser=[t.yesterday().add(-30,"days"),t.yesterday()],t.isActiveUser=30}}},[t._v("最近30天")])],1)]),s("div",{staticClass:"section-secondary"},[s("div",{staticClass:"section-item"},[s("div",{staticClass:"section-item-digit"},[t._v(t._s(t.todayUserTrend))]),s("div",{staticClass:"section-item-label"},[t._v("今日新增用户")])]),s("div",{staticClass:"section-item"},[s("div",{staticClass:"section-item-digit"},[t._v(t._s(t.userTrend))]),s("div",{staticClass:"section-item-label"},[t._v("新增用户总计")])])]),s("div",{staticClass:"chart-main"},[s("ve-line",{attrs:{height:"360px",colors:["#FBF2E7","#DCEBFA"],data:t.chartDataUser,settings:{area:!0},legend:{left:0,bottom:0}}})],1)]),s("div",{staticClass:"section-right"},[s("div",{staticClass:"seciont-right-title"},[t._v("热销地区TOP5")]),s("div",{staticStyle:{"margin-bottom":"28px"}},[s("ve-bar",{attrs:{height:"200px",grid:{top:0,bottom:0},settings:{dataOrder:{label:"用户数",order:"desc"}},"legend-visible":!1,data:t.chartDataUserTop5,xAxis:{show:!1}}})],1),s("div",{staticClass:"seciont-right-title"},[t._v("性别分布")]),s("div",{staticClass:"chart-gender"},[t.genderMan>0?s("div",{staticClass:"chart-gender-item man",style:{width:t.genderManW+"%"}},[s("span",[t._v("男 "+t._s(t.genderMan)+"%")])]):t._e(),t.genderUnkown>0?s("div",{staticClass:"chart-gender-item unknown",style:{width:t.genderUnkownW+"%"}},[s("span",[t._v("未知 "+t._s(t.genderUnkown)+"%")])]):t._e(),t.genderWoman>0?s("div",{staticClass:"chart-gender-item woman",style:{width:t.genderWomanW+"%"}},[s("span",[t._v("女 "+t._s(t.genderWoman)+"%")])]):t._e()])])])])},G=[],I=function(){var t=f()(new Date).add(-1,"days");return f()([t.year(),t.month(),t.date()])},R={name:"Statistics",components:{VeLine:p.a,VeBar:m.a},data:function(){return{token:Object(u["e"])(),orderTotal:0,paidTotal:0,profitTotal:0,dateOrder:[I().add(-7,"days"),I()],orderTrend:0,paidTrend:0,profitTrend:0,chartDataOrder:{columns:["日期","支付金额","有效订单数"],rows:[]},isActiveOrder:7,dateCoupon:[I().add(-7,"days"),I()],sentCouponTrend:0,usedCouponTrend:0,rateCouponTrend:0,chartDataCoupon:{columns:["日期","优惠券发放","优惠券使用"],rows:[]},isActiveCoupon:7,dateUser:[I().add(-7,"days"),I()],todayUserTrend:0,userTrend:0,chartDataUser:{columns:["日期","新增用户"],rows:[]},isActiveUser:7,chartDataUserTop5:{columns:["地区","用户数"],rows:[]},genderMan:0,genderUnkown:0,genderWoman:0,genderManW:0,genderUnkownW:0,genderWomanW:0}},watch:{dateOrder:function(){this.order()},dateCoupon:function(){this.coupon()},dateUser:function(){this.user()}},mounted:function(){var t=Object(c["a"])(regeneratorRuntime.mark(function t(){var e=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:Object(l["a"])("StoreStatisticsService.GetOrderStatistics",Object(d["a"])("StatusListTimeWithToken",{token:Object(d["a"])("Token",{token:this.token}),statuslistList:[1,2,3,4,12]})).then(function(t){e.orderTotal=t.count,e.paidTotal=t.paidamount,e.profitTotal=t.profit}),Object(l["a"])("StoreStatisticsService.GetUserStatistics",Object(d["a"])("TimeWithToken",{token:Object(d["a"])("Token",{token:this.token}),createdatgreaterthan:I().add(1,"days").unix()})).then(function(t){e.todayUserTrend=t.count}),Object(l["a"])("StoreStatisticsService.GetUserProvinceStatisticsList",Object(d["a"])("TimeWithToken",{token:Object(d["a"])("Token",{token:this.token})})).then(function(t){e.chartDataUserTop5.rows=t.userprovincestatisticslistList.map(function(t){return{"地区":t.province,"用户数":t.count}}).slice(0,5)}),Object(l["a"])("StoreStatisticsService.GetUserGenderStatisticsList",Object(d["a"])("TimeWithToken",{token:Object(d["a"])("Token",{token:this.token})})).then(function(t){t.usergenderstatisticslistList.forEach(function(t){0===t.gender&&(e.genderUnkown=t.count),1===t.gender&&(e.genderMan=t.count),2===t.gender&&(e.genderWoman=t.count)}),e.genderManW=e.genderUnkown+e.genderMan+e.genderWoman?parseInt(e.genderMan/(e.genderUnkown+e.genderMan+e.genderWoman)*100):0,e.genderWomanW=e.genderUnkown+e.genderMan+e.genderWoman?parseInt(e.genderWoman/(e.genderUnkown+e.genderMan+e.genderWoman)*100):0,e.genderUnknownW=100-e.genderManW-e.genderWomanW}),this.order(),this.coupon(),this.user();case 7:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),methods:{order:function(){var t=this,e=f()(this.dateOrder[0]),s=f()(this.dateOrder[1]);Object(l["a"])("StoreStatisticsService.GetOrderDayStatisticsList",Object(d["a"])("TimeWithToken",{token:Object(d["a"])("Token",{token:this.token}),createdatgreaterthan:e.unix(),createdatlessthan:s.add(1,"days").unix()})).then(function(a){var i=0,n=0,r=0;a.orderdaystatisticslistList.forEach(function(t){i+=t.count,n+=t.paidamount,r+=t.profit}),t.orderTrend=i,t.paidTrend=n,t.profitTrend=r;for(var o=a.orderdaystatisticslistList.map(function(t){return{"日期":t.day,"支付金额":t.paidamount/100,"有效订单数":t.count}}),c=[],d=function(t){c.push(o.find(function(e){return e["日期"]==t.format("YYYY-MM-DD")})||{"日期":t.format("YYYY-MM-DD"),"支付金额":0,"有效订单数":0})},l=e;l.isBefore(s);l.add(1,"days"))d(l);t.chartDataOrder.rows=c})},coupon:function(){var t=this,e=f()(this.dateCoupon[0]),s=f()(this.dateCoupon[1]);Object(l["a"])("StoreStatisticsService.GetCouponDayStatisticsList",Object(d["a"])("TimeWithToken",{token:Object(d["a"])("Token",{token:this.token}),createdatgreaterthan:e.unix(),createdatlessthan:s.add(1,"days").unix()})).then(function(a){var i=0,n=0;a.coupondaystatisticslistList.forEach(function(t){i+=t.sentcount,n+=t.usedcount}),t.sentCouponTrend=i,t.usedCouponTrend=n,t.rateCouponTrend=i?parseInt(n/i*1e4)/100:0;for(var r=a.coupondaystatisticslistList.map(function(t){return{"日期":t.day,"优惠券发放":t.sentcount,"优惠券使用":t.usedcount}}),o=[],c=function(t){o.push(r.find(function(e){return e["日期"]==t.format("YYYY-MM-DD")})||{"日期":t.format("YYYY-MM-DD"),"优惠券发放":0,"优惠券使用":0})},d=e;d.isBefore(s);d.add(1,"days"))c(d);t.chartDataCoupon.rows=o})},user:function(){var t=this,e=f()(this.dateUser[0]),s=f()(this.dateUser[1]);Object(l["a"])("StoreStatisticsService.GetUserDayStatisticsList",Object(d["a"])("TimeWithToken",{token:Object(d["a"])("Token",{token:this.token}),createdatgreaterthan:e.unix(),createdatlessthan:s.add(1,"days").unix()})).then(function(a){var i=0;a.userdaystatisticslistList.forEach(function(t){i+=t.count}),t.userTrend=i;for(var n=a.userdaystatisticslistList.map(function(t){return{"日期":t.day,"新增用户":t.count}}),r=[],o=function(t){r.push(n.find(function(e){return e["日期"]==t.format("YYYY-MM-DD")})||{"日期":t.format("YYYY-MM-DD"),"新增用户":0})},c=e;c.isBefore(s);c.add(1,"days"))o(c);t.chartDataUser.rows=r})},yesterday:I}},P=R,V=(s("0e30"),Object(_["a"])(P,B,G,!1,null,"5bbdfee8",null)),$=V.exports,J=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"container section"},[s("div",{staticClass:"section-title-bar"},[t._v("交易统计")]),s("div",{staticClass:"section-primary"},[s("div",{staticClass:"section-item"},[s("div",{staticClass:"section-item-label"},[t._v("累计订单")]),s("div",{staticClass:"section-item-digit",staticStyle:{color:"#ff4f4f"}},[t._v("\n          "+t._s(t.orderTotal)+"\n          "),s("span",{staticClass:"unit"},[t._v("单")])])]),s("div",{staticClass:"section-item"},[s("div",{staticClass:"section-item-label"},[t._v("累计支付金额")]),s("div",{staticClass:"section-item-digit",staticStyle:{color:"#ff4f4f"}},[t._v("\n          "+t._s(t.paidTotal/100)+"\n          "),s("span",{staticClass:"unit"},[t._v("元")])])]),s("div",{staticClass:"section-item"},[s("div",{staticClass:"section-item-label"},[t._v("累计利润")]),s("div",{staticClass:"section-item-digit",staticStyle:{color:"#037FFF"}},[t._v("\n          "+t._s(t.profitTotal/100)+"\n          "),s("span",{staticClass:"unit"},[t._v("元")])])])]),s("div",{staticClass:"section-chart-title"},[t._v("\n      交易走势\n      "),s("div",{staticClass:"section-chart-op"},[s("el-date-picker",{attrs:{type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:t.dateOrder,callback:function(e){t.dateOrder=e},expression:"dateOrder"}}),s("span",{staticClass:"date-shortcut",class:{active:7===t.isActiveOrder},on:{click:function(){t.dateOrder=[t.yesterday().add(-7,"days"),t.yesterday()],t.isActiveOrder=7}}},[t._v("最近7天")]),s("span",{staticClass:"date-shortcut",class:{active:30===t.isActiveOrder},on:{click:function(){t.dateOrder=[t.yesterday().add(-30,"days"),t.yesterday()],t.isActiveOrder=30}}},[t._v("最近30天")])],1)]),s("div",{staticClass:"section-secondary"},[s("div",{staticClass:"section-item"},[s("div",{staticClass:"section-item-digit"},[t._v(t._s(t.orderTrend))]),s("div",{staticClass:"section-item-label"},[t._v("合计订单（单）")])]),s("div",{staticClass:"section-item"},[s("div",{staticClass:"section-item-digit"},[t._v(t._s(t.paidTrend/100))]),s("div",{staticClass:"section-item-label"},[t._v("合计支付金额（元）")])]),s("div",{staticClass:"section-item"},[s("div",{staticClass:"section-item-digit"},[t._v(t._s(t.profitTrend/100))]),s("div",{staticClass:"section-item-label"},[t._v("合计收益（元）")])])]),s("div",{staticClass:"chart-main"},[s("ve-line",{attrs:{height:"360px",colors:["#FBF2E7","#DCEBFA"],data:t.chartDataOrder,settings:{area:!0},legend:{left:0,bottom:0}}})],1)]),s("div",{staticClass:"container section"},[s("div",{staticClass:"section-chart-title"},[t._v("\n      营销走势\n      "),s("div",{staticClass:"section-chart-op"},[s("el-date-picker",{attrs:{type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:t.dateCoupon,callback:function(e){t.dateCoupon=e},expression:"dateCoupon"}}),s("span",{staticClass:"date-shortcut",class:{active:7===t.isActiveCoupon},on:{click:function(){t.dateCoupon=[t.yesterday().add(-7,"days"),t.yesterday()],t.isActiveCoupon=7}}},[t._v("最近7天")]),s("span",{staticClass:"date-shortcut",class:{active:30===t.isActiveCoupon},on:{click:function(){t.dateCoupon=[t.yesterday().add(-30,"days"),t.yesterday()],t.isActiveCoupon=30}}},[t._v("最近30天")])],1)]),s("div",{staticClass:"section-secondary"},[s("div",{staticClass:"section-item"},[s("div",{staticClass:"section-item-digit"},[t._v(t._s(t.sentCouponTrend))]),s("div",{staticClass:"section-item-label"},[t._v("发放券数")])]),s("div",{staticClass:"section-item"},[s("div",{staticClass:"section-item-digit"},[t._v(t._s(t.usedCouponTrend))]),s("div",{staticClass:"section-item-label"},[t._v("使用券数")])]),s("div",{staticClass:"section-item"},[s("div",{staticClass:"section-item-digit"},[t._v(t._s(t.rateCouponTrend)+"%")]),s("div",{staticClass:"section-item-label"},[t._v("优惠券使用率")])])]),s("div",{staticClass:"chart-main"},[s("ve-line",{attrs:{height:"360px",colors:["#FBF2E7","#DCEBFA"],data:t.chartDataCoupon,settings:{area:!0},legend:{left:0,bottom:0}}})],1)]),s("div",{staticClass:"container section section-two-col"},[s("div",{staticClass:"section-left"},[s("div",{staticClass:"section-chart-title"},[t._v("\n        用户分析\n        "),s("div",{staticClass:"section-chart-op"},[s("el-date-picker",{attrs:{type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:t.dateUser,callback:function(e){t.dateUser=e},expression:"dateUser"}}),s("span",{staticClass:"date-shortcut",class:{active:7===t.isActiveUser},on:{click:function(){t.dateUser=[t.yesterday().add(-7,"days"),t.yesterday()],t.isActiveUser=7}}},[t._v("最近7天")]),s("span",{staticClass:"date-shortcut",class:{active:30===t.isActiveUser},on:{click:function(){t.dateUser=[t.yesterday().add(-30,"days"),t.yesterday()],t.isActiveUser=30}}},[t._v("最近30天")])],1)]),s("div",{staticClass:"section-secondary"},[s("div",{staticClass:"section-item"},[s("div",{staticClass:"section-item-digit"},[t._v(t._s(t.todayUserTrend))]),s("div",{staticClass:"section-item-label"},[t._v("今日新增用户")])]),s("div",{staticClass:"section-item"},[s("div",{staticClass:"section-item-digit"},[t._v(t._s(t.userTrend))]),s("div",{staticClass:"section-item-label"},[t._v("新增用户总计")])])]),s("div",{staticClass:"chart-main"},[s("ve-line",{attrs:{height:"360px",colors:["#FBF2E7","#DCEBFA"],data:t.chartDataUser,settings:{area:!0},legend:{left:0,bottom:0}}})],1)]),s("div",{staticClass:"section-right"},[s("div",{staticClass:"seciont-right-title"},[t._v("热销地区TOP5")]),s("div",{staticStyle:{"margin-bottom":"28px"}},[s("ve-bar",{attrs:{height:"200px",grid:{top:0,bottom:0},settings:{dataOrder:{label:"用户数",order:"desc"}},"legend-visible":!1,data:t.chartDataUserTop5,xAxis:{show:!1}}})],1),s("div",{staticClass:"seciont-right-title"},[t._v("性别分布")]),s("div",{staticClass:"chart-gender"},[t.genderMan>0?s("div",{staticClass:"chart-gender-item man",style:{width:t.genderManW+"%"}},[s("span",[t._v("男 "+t._s(t.genderMan)+"%")])]):t._e(),t.genderUnkown>0?s("div",{staticClass:"chart-gender-item unknown",style:{width:t.genderUnkownW+"%"}},[s("span",[t._v("未知 "+t._s(t.genderUnkown)+"%")])]):t._e(),t.genderWoman>0?s("div",{staticClass:"chart-gender-item woman",style:{width:t.genderWomanW+"%"}},[s("span",[t._v("女 "+t._s(t.genderWoman)+"%")])]):t._e()])])])])},q=[],z=function(){var t=f()(new Date).add(-1,"days");return f()([t.year(),t.month(),t.date()])},H={name:"Statistics",components:{VeLine:p.a,VeBar:m.a},data:function(){return{token:Object(u["e"])(),orderTotal:0,paidTotal:0,profitTotal:0,dateOrder:[z().add(-7,"days"),z()],orderTrend:0,paidTrend:0,profitTrend:0,chartDataOrder:{columns:["日期","支付金额","有效订单数"],rows:[]},isActiveOrder:7,dateCoupon:[z().add(-7,"days"),z()],sentCouponTrend:0,usedCouponTrend:0,rateCouponTrend:0,chartDataCoupon:{columns:["日期","优惠券发放","优惠券使用"],rows:[]},isActiveCoupon:7,dateUser:[z().add(-7,"days"),z()],todayUserTrend:0,userTrend:0,chartDataUser:{columns:["日期","新增用户"],rows:[]},isActiveUser:7,chartDataUserTop5:{columns:["地区","用户数"],rows:[]},genderMan:0,genderUnkown:0,genderWoman:0,genderManW:0,genderUnkownW:0,genderWomanW:0}},watch:{dateOrder:function(){this.order()},dateCoupon:function(){this.coupon()},dateUser:function(){this.user()}},mounted:function(){var t=Object(c["a"])(regeneratorRuntime.mark(function t(){var e=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:Object(l["a"])("StoreStatisticsService.GetOrderStatistics",Object(d["a"])("StatusListTimeWithToken",{token:Object(d["a"])("Token",{token:this.token}),statuslistList:[1,2,3,4,12]})).then(function(t){e.orderTotal=t.count,e.paidTotal=t.paidamount,e.profitTotal=t.profit}),Object(l["a"])("StoreStatisticsService.GetUserStatistics",Object(d["a"])("TimeWithToken",{token:Object(d["a"])("Token",{token:this.token}),createdatgreaterthan:z().add(1,"days").unix()})).then(function(t){e.todayUserTrend=t.count}),Object(l["a"])("StoreStatisticsService.GetUserProvinceStatisticsList",Object(d["a"])("TimeWithToken",{token:Object(d["a"])("Token",{token:this.token})})).then(function(t){e.chartDataUserTop5.rows=t.userprovincestatisticslistList.map(function(t){return{"地区":t.province,"用户数":t.count}}).slice(0,5)}),Object(l["a"])("StoreStatisticsService.GetUserGenderStatisticsList",Object(d["a"])("TimeWithToken",{token:Object(d["a"])("Token",{token:this.token})})).then(function(t){t.usergenderstatisticslistList.forEach(function(t){0===t.gender&&(e.genderUnkown=t.count),1===t.gender&&(e.genderMan=t.count),2===t.gender&&(e.genderWoman=t.count)}),e.genderManW=e.genderUnkown+e.genderMan+e.genderWoman?parseInt(e.genderMan/(e.genderUnkown+e.genderMan+e.genderWoman)*100):0,e.genderWomanW=e.genderUnkown+e.genderMan+e.genderWoman?parseInt(e.genderWoman/(e.genderUnkown+e.genderMan+e.genderWoman)*100):0,e.genderUnknownW=100-e.genderManW-e.genderWomanW}),this.order(),this.coupon(),this.user();case 7:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),methods:{order:function(){var t=this,e=f()(this.dateOrder[0]),s=f()(this.dateOrder[1]);Object(l["a"])("StoreStatisticsService.GetOrderDayStatisticsList",Object(d["a"])("TimeWithToken",{token:Object(d["a"])("Token",{token:this.token}),createdatgreaterthan:e.unix(),createdatlessthan:s.add(1,"days").unix()})).then(function(a){var i=0,n=0,r=0;a.orderdaystatisticslistList.forEach(function(t){i+=t.count,n+=t.paidamount,r+=t.profit}),t.orderTrend=i,t.paidTrend=n,t.profitTrend=r;for(var o=a.orderdaystatisticslistList.map(function(t){return{"日期":t.day,"支付金额":t.paidamount/100,"有效订单数":t.count}}),c=[],d=function(t){c.push(o.find(function(e){return e["日期"]==t.format("YYYY-MM-DD")})||{"日期":t.format("YYYY-MM-DD"),"支付金额":0,"有效订单数":0})},l=e;l.isBefore(s);l.add(1,"days"))d(l);t.chartDataOrder.rows=c})},coupon:function(){var t=this,e=f()(this.dateCoupon[0]),s=f()(this.dateCoupon[1]);Object(l["a"])("StoreStatisticsService.GetCouponDayStatisticsList",Object(d["a"])("TimeWithToken",{token:Object(d["a"])("Token",{token:this.token}),createdatgreaterthan:e.unix(),createdatlessthan:s.add(1,"days").unix()})).then(function(a){var i=0,n=0;a.coupondaystatisticslistList.forEach(function(t){i+=t.sentcount,n+=t.usedcount}),t.sentCouponTrend=i,t.usedCouponTrend=n,t.rateCouponTrend=i?parseInt(n/i*1e4)/100:0;for(var r=a.coupondaystatisticslistList.map(function(t){return{"日期":t.day,"优惠券发放":t.sentcount,"优惠券使用":t.usedcount}}),o=[],c=function(t){o.push(r.find(function(e){return e["日期"]==t.format("YYYY-MM-DD")})||{"日期":t.format("YYYY-MM-DD"),"优惠券发放":0,"优惠券使用":0})},d=e;d.isBefore(s);d.add(1,"days"))c(d);t.chartDataCoupon.rows=o})},user:function(){var t=this,e=f()(this.dateUser[0]),s=f()(this.dateUser[1]);Object(l["a"])("StoreStatisticsService.GetUserDayStatisticsList",Object(d["a"])("TimeWithToken",{token:Object(d["a"])("Token",{token:this.token}),createdatgreaterthan:e.unix(),createdatlessthan:s.add(1,"days").unix()})).then(function(a){var i=0;a.userdaystatisticslistList.forEach(function(t){i+=t.count}),t.userTrend=i;for(var n=a.userdaystatisticslistList.map(function(t){return{"日期":t.day,"新增用户":t.count}}),r=[],o=function(t){r.push(n.find(function(e){return e["日期"]==t.format("YYYY-MM-DD")})||{"日期":t.format("YYYY-MM-DD"),"新增用户":0})},c=e;c.isBefore(s);c.add(1,"days"))o(c);t.chartDataUser.rows=r})},yesterday:z}},K=H,N=(s("47b3"),Object(_["a"])(K,J,q,!1,null,"0241c2a9",null)),Q=N.exports,X=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"container section"},[s("div",{staticClass:"section-title-bar"},[t._v("交易统计")]),s("div",{staticClass:"section-primary"},[s("div",{staticClass:"section-item"},[s("div",{staticClass:"section-item-label"},[t._v("累计订单")]),s("div",{staticClass:"section-item-digit",staticStyle:{color:"#ff4f4f"}},[t._v("\n          "+t._s(t.orderTotal)+"\n          "),s("span",{staticClass:"unit"},[t._v("单")])])]),s("div",{staticClass:"section-item"},[s("div",{staticClass:"section-item-label"},[t._v("累计支付金额")]),s("div",{staticClass:"section-item-digit",staticStyle:{color:"#ff4f4f"}},[t._v("\n          "+t._s(t.paidTotal/100)+"\n          "),s("span",{staticClass:"unit"},[t._v("元")])])]),s("div",{staticClass:"section-item"},[s("div",{staticClass:"section-item-label"},[t._v("累计利润")]),s("div",{staticClass:"section-item-digit",staticStyle:{color:"#037FFF"}},[t._v("\n          "+t._s(t.profitTotal/100)+"\n          "),s("span",{staticClass:"unit"},[t._v("元")])])])]),s("div",{staticClass:"section-chart-title"},[t._v("\n      交易走势\n      "),s("div",{staticClass:"section-chart-op"},[s("el-date-picker",{attrs:{type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:t.dateOrder,callback:function(e){t.dateOrder=e},expression:"dateOrder"}}),s("span",{staticClass:"date-shortcut",class:{active:7===t.isActiveOrder},on:{click:function(){t.dateOrder=[t.yesterday().add(-7,"days"),t.yesterday()],t.isActiveOrder=7}}},[t._v("最近7天")]),s("span",{staticClass:"date-shortcut",class:{active:30===t.isActiveOrder},on:{click:function(){t.dateOrder=[t.yesterday().add(-30,"days"),t.yesterday()],t.isActiveOrder=30}}},[t._v("最近30天")])],1)]),s("div",{staticClass:"section-secondary"},[s("div",{staticClass:"section-item"},[s("div",{staticClass:"section-item-digit"},[t._v(t._s(t.orderTrend))]),s("div",{staticClass:"section-item-label"},[t._v("合计订单（单）")])]),s("div",{staticClass:"section-item"},[s("div",{staticClass:"section-item-digit"},[t._v(t._s(t.paidTrend/100))]),s("div",{staticClass:"section-item-label"},[t._v("合计支付金额（元）")])]),s("div",{staticClass:"section-item"},[s("div",{staticClass:"section-item-digit"},[t._v(t._s(t.profitTrend/100))]),s("div",{staticClass:"section-item-label"},[t._v("合计收益（元）")])])]),s("div",{staticClass:"chart-main"},[s("ve-line",{attrs:{height:"360px",colors:["#FBF2E7","#DCEBFA"],data:t.chartDataOrder,settings:{area:!0},legend:{left:0,bottom:0}}})],1)]),s("div",{staticClass:"container section"},[s("div",{staticClass:"section-chart-title"},[t._v("\n      营销走势\n      "),s("div",{staticClass:"section-chart-op"},[s("el-date-picker",{attrs:{type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:t.dateCoupon,callback:function(e){t.dateCoupon=e},expression:"dateCoupon"}}),s("span",{staticClass:"date-shortcut",class:{active:7===t.isActiveCoupon},on:{click:function(){t.dateCoupon=[t.yesterday().add(-7,"days"),t.yesterday()],t.isActiveCoupon=7}}},[t._v("最近7天")]),s("span",{staticClass:"date-shortcut",class:{active:30===t.isActiveCoupon},on:{click:function(){t.dateCoupon=[t.yesterday().add(-30,"days"),t.yesterday()],t.isActiveCoupon=30}}},[t._v("最近30天")])],1)]),s("div",{staticClass:"section-secondary"},[s("div",{staticClass:"section-item"},[s("div",{staticClass:"section-item-digit"},[t._v(t._s(t.sentCouponTrend))]),s("div",{staticClass:"section-item-label"},[t._v("发放券数")])]),s("div",{staticClass:"section-item"},[s("div",{staticClass:"section-item-digit"},[t._v(t._s(t.usedCouponTrend))]),s("div",{staticClass:"section-item-label"},[t._v("使用券数")])]),s("div",{staticClass:"section-item"},[s("div",{staticClass:"section-item-digit"},[t._v(t._s(t.rateCouponTrend)+"%")]),s("div",{staticClass:"section-item-label"},[t._v("优惠券使用率")])])]),s("div",{staticClass:"chart-main"},[s("ve-line",{attrs:{height:"360px",colors:["#FBF2E7","#DCEBFA"],data:t.chartDataCoupon,settings:{area:!0},legend:{left:0,bottom:0}}})],1)]),s("div",{staticClass:"container section section-two-col"},[s("div",{staticClass:"section-left"},[s("div",{staticClass:"section-chart-title"},[t._v("\n        用户分析\n        "),s("div",{staticClass:"section-chart-op"},[s("el-date-picker",{attrs:{type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:t.dateUser,callback:function(e){t.dateUser=e},expression:"dateUser"}}),s("span",{staticClass:"date-shortcut",class:{active:7===t.isActiveUser},on:{click:function(){t.dateUser=[t.yesterday().add(-7,"days"),t.yesterday()],t.isActiveUser=7}}},[t._v("最近7天")]),s("span",{staticClass:"date-shortcut",class:{active:30===t.isActiveUser},on:{click:function(){t.dateUser=[t.yesterday().add(-30,"days"),t.yesterday()],t.isActiveUser=30}}},[t._v("最近30天")])],1)]),s("div",{staticClass:"section-secondary"},[s("div",{staticClass:"section-item"},[s("div",{staticClass:"section-item-digit"},[t._v(t._s(t.todayUserTrend))]),s("div",{staticClass:"section-item-label"},[t._v("今日新增用户")])]),s("div",{staticClass:"section-item"},[s("div",{staticClass:"section-item-digit"},[t._v(t._s(t.userTrend))]),s("div",{staticClass:"section-item-label"},[t._v("新增用户总计")])])]),s("div",{staticClass:"chart-main"},[s("ve-line",{attrs:{height:"360px",colors:["#FBF2E7","#DCEBFA"],data:t.chartDataUser,settings:{area:!0},legend:{left:0,bottom:0}}})],1)]),s("div",{staticClass:"section-right"},[s("div",{staticClass:"seciont-right-title"},[t._v("热销地区TOP5")]),s("div",{staticStyle:{"margin-bottom":"28px"}},[s("ve-bar",{attrs:{height:"200px",grid:{top:0,bottom:0},settings:{dataOrder:{label:"用户数",order:"desc"}},"legend-visible":!1,data:t.chartDataUserTop5,xAxis:{show:!1}}})],1),s("div",{staticClass:"seciont-right-title"},[t._v("性别分布")]),s("div",{staticClass:"chart-gender"},[t.genderMan>0?s("div",{staticClass:"chart-gender-item man",style:{width:t.genderManW+"%"}},[s("span",[t._v("男 "+t._s(t.genderMan)+"%")])]):t._e(),t.genderUnkown>0?s("div",{staticClass:"chart-gender-item unknown",style:{width:t.genderUnkownW+"%"}},[s("span",[t._v("未知 "+t._s(t.genderUnkown)+"%")])]):t._e(),t.genderWoman>0?s("div",{staticClass:"chart-gender-item woman",style:{width:t.genderWomanW+"%"}},[s("span",[t._v("女 "+t._s(t.genderWoman)+"%")])]):t._e()])])])])},Z=[],tt=function(){var t=f()(new Date).add(-1,"days");return f()([t.year(),t.month(),t.date()])},et={name:"Statistics",components:{VeLine:p.a,VeBar:m.a},data:function(){return{token:Object(u["e"])(),orderTotal:0,paidTotal:0,profitTotal:0,dateOrder:[tt().add(-7,"days"),tt()],orderTrend:0,paidTrend:0,profitTrend:0,chartDataOrder:{columns:["日期","支付金额","有效订单数"],rows:[]},isActiveOrder:7,dateCoupon:[tt().add(-7,"days"),tt()],sentCouponTrend:0,usedCouponTrend:0,rateCouponTrend:0,chartDataCoupon:{columns:["日期","优惠券发放","优惠券使用"],rows:[]},isActiveCoupon:7,dateUser:[tt().add(-7,"days"),tt()],todayUserTrend:0,userTrend:0,chartDataUser:{columns:["日期","新增用户"],rows:[]},isActiveUser:7,chartDataUserTop5:{columns:["地区","用户数"],rows:[]},genderMan:0,genderUnkown:0,genderWoman:0,genderManW:0,genderUnkownW:0,genderWomanW:0}},watch:{dateOrder:function(){this.order()},dateCoupon:function(){this.coupon()},dateUser:function(){this.user()}},mounted:function(){var t=Object(c["a"])(regeneratorRuntime.mark(function t(){var e=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:Object(l["a"])("StoreStatisticsService.GetOrderStatistics",Object(d["a"])("StatusListTimeWithToken",{token:Object(d["a"])("Token",{token:this.token}),statuslistList:[2,3,4,12]})).then(function(t){e.orderTotal=t.count,e.paidTotal=t.paidamount,e.profitTotal=t.profit}),Object(l["a"])("StoreStatisticsService.GetUserStatistics",Object(d["a"])("TimeWithToken",{token:Object(d["a"])("Token",{token:this.token}),createdatgreaterthan:tt().add(1,"days").unix()})).then(function(t){e.todayUserTrend=t.count}),Object(l["a"])("StoreStatisticsService.GetUserProvinceStatisticsList",Object(d["a"])("TimeWithToken",{token:Object(d["a"])("Token",{token:this.token})})).then(function(t){e.chartDataUserTop5.rows=t.userprovincestatisticslistList.map(function(t){return{"地区":t.province,"用户数":t.count}}).slice(0,5)}),Object(l["a"])("StoreStatisticsService.GetUserGenderStatisticsList",Object(d["a"])("TimeWithToken",{token:Object(d["a"])("Token",{token:this.token})})).then(function(t){t.usergenderstatisticslistList.forEach(function(t){0===t.gender&&(e.genderUnkown=t.count),1===t.gender&&(e.genderMan=t.count),2===t.gender&&(e.genderWoman=t.count)}),e.genderManW=e.genderUnkown+e.genderMan+e.genderWoman?parseInt(e.genderMan/(e.genderUnkown+e.genderMan+e.genderWoman)*100):0,e.genderWomanW=e.genderUnkown+e.genderMan+e.genderWoman?parseInt(e.genderWoman/(e.genderUnkown+e.genderMan+e.genderWoman)*100):0,e.genderUnknownW=100-e.genderManW-e.genderWomanW}),this.order(),this.coupon(),this.user();case 7:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),methods:{order:function(){var t=this,e=f()(this.dateOrder[0]),s=f()(this.dateOrder[1]);Object(l["a"])("StoreStatisticsService.GetOrderDayStatisticsList",Object(d["a"])("TimeWithToken",{token:Object(d["a"])("Token",{token:this.token}),createdatgreaterthan:e.unix(),createdatlessthan:s.add(1,"days").unix()})).then(function(a){var i=0,n=0,r=0;a.orderdaystatisticslistList.forEach(function(t){i+=t.count,n+=t.paidamount,r+=t.profit}),t.orderTrend=i,t.paidTrend=n,t.profitTrend=r;for(var o=a.orderdaystatisticslistList.map(function(t){return{"日期":t.day,"支付金额":t.paidamount/100,"有效订单数":t.count}}),c=[],d=function(t){c.push(o.find(function(e){return e["日期"]==t.format("YYYY-MM-DD")})||{"日期":t.format("YYYY-MM-DD"),"支付金额":0,"有效订单数":0})},l=e;l.isBefore(s);l.add(1,"days"))d(l);t.chartDataOrder.rows=c})},coupon:function(){var t=this,e=f()(this.dateCoupon[0]),s=f()(this.dateCoupon[1]);Object(l["a"])("StoreStatisticsService.GetCouponDayStatisticsList",Object(d["a"])("TimeWithToken",{token:Object(d["a"])("Token",{token:this.token}),createdatgreaterthan:e.unix(),createdatlessthan:s.add(1,"days").unix()})).then(function(a){var i=0,n=0;a.coupondaystatisticslistList.forEach(function(t){i+=t.sentcount,n+=t.usedcount}),t.sentCouponTrend=i,t.usedCouponTrend=n,t.rateCouponTrend=i?parseInt(n/i*1e4)/100:0;for(var r=a.coupondaystatisticslistList.map(function(t){return{"日期":t.day,"优惠券发放":t.sentcount,"优惠券使用":t.usedcount}}),o=[],c=function(t){o.push(r.find(function(e){return e["日期"]==t.format("YYYY-MM-DD")})||{"日期":t.format("YYYY-MM-DD"),"优惠券发放":0,"优惠券使用":0})},d=e;d.isBefore(s);d.add(1,"days"))c(d);t.chartDataCoupon.rows=o})},user:function(){var t=this,e=f()(this.dateUser[0]),s=f()(this.dateUser[1]);Object(l["a"])("StoreStatisticsService.GetUserDayStatisticsList",Object(d["a"])("TimeWithToken",{token:Object(d["a"])("Token",{token:this.token}),createdatgreaterthan:e.unix(),createdatlessthan:s.add(1,"days").unix()})).then(function(a){var i=0;a.userdaystatisticslistList.forEach(function(t){i+=t.count}),t.userTrend=i;for(var n=a.userdaystatisticslistList.map(function(t){return{"日期":t.day,"新增用户":t.count}}),r=[],o=function(t){r.push(n.find(function(e){return e["日期"]==t.format("YYYY-MM-DD")})||{"日期":t.format("YYYY-MM-DD"),"新增用户":0})},c=e;c.isBefore(s);c.add(1,"days"))o(c);t.chartDataUser.rows=r})},yesterday:tt}},st=et,at=(s("3eb6"),Object(_["a"])(st,X,Z,!1,null,"10051e1e",null)),it=at.exports,nt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"container section"},[s("div",{staticClass:"section-title-bar"},[t._v("交易统计")]),s("div",{staticClass:"section-primary"},[s("div",{staticClass:"section-item"},[s("div",{staticClass:"section-item-label"},[t._v("累计订单")]),s("div",{staticClass:"section-item-digit",staticStyle:{color:"#ff4f4f"}},[t._v("\n          "+t._s(t.orderTotal)+"\n          "),s("span",{staticClass:"unit"},[t._v("单")])])]),s("div",{staticClass:"section-item"},[s("div",{staticClass:"section-item-label"},[t._v("累计支付金额")]),s("div",{staticClass:"section-item-digit",staticStyle:{color:"#ff4f4f"}},[t._v("\n          "+t._s(t.paidTotal/100)+"\n          "),s("span",{staticClass:"unit"},[t._v("元")])])]),s("div",{staticClass:"section-item"},[s("div",{staticClass:"section-item-label"},[t._v("累计利润")]),s("div",{staticClass:"section-item-digit",staticStyle:{color:"#037FFF"}},[t._v("\n          "+t._s(t.profitTotal/100)+"\n          "),s("span",{staticClass:"unit"},[t._v("元")])])])]),s("div",{staticClass:"section-chart-title"},[t._v("\n      交易走势\n      "),s("div",{staticClass:"section-chart-op"},[s("el-date-picker",{attrs:{type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:t.dateOrder,callback:function(e){t.dateOrder=e},expression:"dateOrder"}}),s("span",{staticClass:"date-shortcut",class:{active:7===t.isActiveOrder},on:{click:function(){t.dateOrder=[t.yesterday().add(-7,"days"),t.yesterday()],t.isActiveOrder=7}}},[t._v("最近7天")]),s("span",{staticClass:"date-shortcut",class:{active:30===t.isActiveOrder},on:{click:function(){t.dateOrder=[t.yesterday().add(-30,"days"),t.yesterday()],t.isActiveOrder=30}}},[t._v("最近30天")])],1)]),s("div",{staticClass:"section-secondary"},[s("div",{staticClass:"section-item"},[s("div",{staticClass:"section-item-digit"},[t._v(t._s(t.orderTrend))]),s("div",{staticClass:"section-item-label"},[t._v("合计订单（单）")])]),s("div",{staticClass:"section-item"},[s("div",{staticClass:"section-item-digit"},[t._v(t._s(t.paidTrend/100))]),s("div",{staticClass:"section-item-label"},[t._v("合计支付金额（元）")])]),s("div",{staticClass:"section-item"},[s("div",{staticClass:"section-item-digit"},[t._v(t._s(t.profitTrend/100))]),s("div",{staticClass:"section-item-label"},[t._v("合计收益（元）")])])]),s("div",{staticClass:"chart-main"},[s("ve-line",{attrs:{height:"360px",colors:["#FBF2E7","#DCEBFA"],data:t.chartDataOrder,settings:{area:!0},legend:{left:0,bottom:0}}})],1)]),s("div",{staticClass:"container section"},[s("div",{staticClass:"section-chart-title"},[t._v("\n      营销走势\n      "),s("div",{staticClass:"section-chart-op"},[s("el-date-picker",{attrs:{type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:t.dateCoupon,callback:function(e){t.dateCoupon=e},expression:"dateCoupon"}}),s("span",{staticClass:"date-shortcut",class:{active:7===t.isActiveCoupon},on:{click:function(){t.dateCoupon=[t.yesterday().add(-7,"days"),t.yesterday()],t.isActiveCoupon=7}}},[t._v("最近7天")]),s("span",{staticClass:"date-shortcut",class:{active:30===t.isActiveCoupon},on:{click:function(){t.dateCoupon=[t.yesterday().add(-30,"days"),t.yesterday()],t.isActiveCoupon=30}}},[t._v("最近30天")])],1)]),s("div",{staticClass:"section-secondary"},[s("div",{staticClass:"section-item"},[s("div",{staticClass:"section-item-digit"},[t._v(t._s(t.sentCouponTrend))]),s("div",{staticClass:"section-item-label"},[t._v("发放券数")])]),s("div",{staticClass:"section-item"},[s("div",{staticClass:"section-item-digit"},[t._v(t._s(t.usedCouponTrend))]),s("div",{staticClass:"section-item-label"},[t._v("使用券数")])]),s("div",{staticClass:"section-item"},[s("div",{staticClass:"section-item-digit"},[t._v(t._s(t.rateCouponTrend)+"%")]),s("div",{staticClass:"section-item-label"},[t._v("优惠券使用率")])])]),s("div",{staticClass:"chart-main"},[s("ve-line",{attrs:{height:"360px",colors:["#FBF2E7","#DCEBFA"],data:t.chartDataCoupon,settings:{area:!0},legend:{left:0,bottom:0}}})],1)]),s("div",{staticClass:"container section section-two-col"},[s("div",{staticClass:"section-left"},[s("div",{staticClass:"section-chart-title"},[t._v("\n        用户分析\n        "),s("div",{staticClass:"section-chart-op"},[s("el-date-picker",{attrs:{type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:t.dateUser,callback:function(e){t.dateUser=e},expression:"dateUser"}}),s("span",{staticClass:"date-shortcut",class:{active:7===t.isActiveUser},on:{click:function(){t.dateUser=[t.yesterday().add(-7,"days"),t.yesterday()],t.isActiveUser=7}}},[t._v("最近7天")]),s("span",{staticClass:"date-shortcut",class:{active:30===t.isActiveUser},on:{click:function(){t.dateUser=[t.yesterday().add(-30,"days"),t.yesterday()],t.isActiveUser=30}}},[t._v("最近30天")])],1)]),s("div",{staticClass:"section-secondary"},[s("div",{staticClass:"section-item"},[s("div",{staticClass:"section-item-digit"},[t._v(t._s(t.todayUserTrend))]),s("div",{staticClass:"section-item-label"},[t._v("今日新增用户")])]),s("div",{staticClass:"section-item"},[s("div",{staticClass:"section-item-digit"},[t._v(t._s(t.userTrend))]),s("div",{staticClass:"section-item-label"},[t._v("新增用户总计")])])]),s("div",{staticClass:"chart-main"},[s("ve-line",{attrs:{height:"360px",colors:["#FBF2E7","#DCEBFA"],data:t.chartDataUser,settings:{area:!0},legend:{left:0,bottom:0}}})],1)]),s("div",{staticClass:"section-right"},[s("div",{staticClass:"seciont-right-title"},[t._v("热销地区TOP5")]),s("div",{staticStyle:{"margin-bottom":"28px"}},[s("ve-bar",{attrs:{height:"200px",grid:{top:0,bottom:0},settings:{dataOrder:{label:"用户数",order:"desc"}},"legend-visible":!1,data:t.chartDataUserTop5,xAxis:{show:!1}}})],1),s("div",{staticClass:"seciont-right-title"},[t._v("性别分布")]),s("div",{staticClass:"chart-gender"},[t.genderMan>0?s("div",{staticClass:"chart-gender-item man",style:{width:t.genderManW+"%"}},[s("span",[t._v("男 "+t._s(t.genderMan)+"%")])]):t._e(),t.genderUnkown>0?s("div",{staticClass:"chart-gender-item unknown",style:{width:t.genderUnkownW+"%"}},[s("span",[t._v("未知 "+t._s(t.genderUnkown)+"%")])]):t._e(),t.genderWoman>0?s("div",{staticClass:"chart-gender-item woman",style:{width:t.genderWomanW+"%"}},[s("span",[t._v("女 "+t._s(t.genderWoman)+"%")])]):t._e()])])])])},rt=[],ot=function(){var t=f()(new Date).add(-1,"days");return f()([t.year(),t.month(),t.date()])},ct={name:"Statistics",components:{VeLine:p.a,VeBar:m.a},data:function(){return{token:Object(u["e"])(),orderTotal:0,paidTotal:0,profitTotal:0,dateOrder:[ot().add(-7,"days"),ot()],orderTrend:0,paidTrend:0,profitTrend:0,chartDataOrder:{columns:["日期","支付金额","有效订单数"],rows:[]},isActiveOrder:7,dateCoupon:[ot().add(-7,"days"),ot()],sentCouponTrend:0,usedCouponTrend:0,rateCouponTrend:0,chartDataCoupon:{columns:["日期","优惠券发放","优惠券使用"],rows:[]},isActiveCoupon:7,dateUser:[ot().add(-7,"days"),ot()],todayUserTrend:0,userTrend:0,chartDataUser:{columns:["日期","新增用户"],rows:[]},isActiveUser:7,chartDataUserTop5:{columns:["地区","用户数"],rows:[]},genderMan:0,genderUnkown:0,genderWoman:0,genderManW:0,genderUnkownW:0,genderWomanW:0}},watch:{dateOrder:function(){this.order()},dateCoupon:function(){this.coupon()},dateUser:function(){this.user()}},mounted:function(){var t=Object(c["a"])(regeneratorRuntime.mark(function t(){var e=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:Object(l["a"])("StoreStatisticsService.GetOrderStatistics",Object(d["a"])("StatusListTimeWithToken",{token:Object(d["a"])("Token",{token:this.token}),statuslistList:[2,3,4,12]})).then(function(t){e.orderTotal=t.count,e.paidTotal=t.paidamount,e.profitTotal=t.profit}),Object(l["a"])("StoreStatisticsService.GetUserStatistics",Object(d["a"])("TimeWithToken",{token:Object(d["a"])("Token",{token:this.token}),createdatgreaterthan:ot().add(1,"days").unix()})).then(function(t){e.todayUserTrend=t.count}),Object(l["a"])("StoreStatisticsService.GetUserProvinceStatisticsList",Object(d["a"])("TimeWithToken",{token:Object(d["a"])("Token",{token:this.token})})).then(function(t){e.chartDataUserTop5.rows=t.userprovincestatisticslistList.map(function(t){return{"地区":t.province,"用户数":t.count}}).slice(0,5)}),Object(l["a"])("StoreStatisticsService.GetUserGenderStatisticsList",Object(d["a"])("TimeWithToken",{token:Object(d["a"])("Token",{token:this.token})})).then(function(t){t.usergenderstatisticslistList.forEach(function(t){0===t.gender&&(e.genderUnkown=t.count),1===t.gender&&(e.genderMan=t.count),2===t.gender&&(e.genderWoman=t.count)}),e.genderManW=e.genderUnkown+e.genderMan+e.genderWoman?parseInt(e.genderMan/(e.genderUnkown+e.genderMan+e.genderWoman)*100):0,e.genderWomanW=e.genderUnkown+e.genderMan+e.genderWoman?parseInt(e.genderWoman/(e.genderUnkown+e.genderMan+e.genderWoman)*100):0,e.genderUnknownW=100-e.genderManW-e.genderWomanW}),this.order(),this.coupon(),this.user();case 7:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),methods:{order:function(){var t=this,e=f()(this.dateOrder[0]),s=f()(this.dateOrder[1]);Object(l["a"])("StoreStatisticsService.GetOrderDayStatisticsList",Object(d["a"])("TimeWithToken",{token:Object(d["a"])("Token",{token:this.token}),createdatgreaterthan:e.unix(),createdatlessthan:s.add(1,"days").unix()})).then(function(a){var i=0,n=0,r=0;a.orderdaystatisticslistList.forEach(function(t){i+=t.count,n+=t.paidamount,r+=t.profit}),t.orderTrend=i,t.paidTrend=n,t.profitTrend=r;for(var o=a.orderdaystatisticslistList.map(function(t){return{"日期":t.day,"支付金额":t.paidamount/100,"有效订单数":t.count}}),c=[],d=function(t){c.push(o.find(function(e){return e["日期"]==t.format("YYYY-MM-DD")})||{"日期":t.format("YYYY-MM-DD"),"支付金额":0,"有效订单数":0})},l=e;l.isBefore(s);l.add(1,"days"))d(l);t.chartDataOrder.rows=c})},coupon:function(){var t=this,e=f()(this.dateCoupon[0]),s=f()(this.dateCoupon[1]);Object(l["a"])("StoreStatisticsService.GetCouponDayStatisticsList",Object(d["a"])("TimeWithToken",{token:Object(d["a"])("Token",{token:this.token}),createdatgreaterthan:e.unix(),createdatlessthan:s.add(1,"days").unix()})).then(function(a){var i=0,n=0;a.coupondaystatisticslistList.forEach(function(t){i+=t.sentcount,n+=t.usedcount}),t.sentCouponTrend=i,t.usedCouponTrend=n,t.rateCouponTrend=i?parseInt(n/i*1e4)/100:0;for(var r=a.coupondaystatisticslistList.map(function(t){return{"日期":t.day,"优惠券发放":t.sentcount,"优惠券使用":t.usedcount}}),o=[],c=function(t){o.push(r.find(function(e){return e["日期"]==t.format("YYYY-MM-DD")})||{"日期":t.format("YYYY-MM-DD"),"优惠券发放":0,"优惠券使用":0})},d=e;d.isBefore(s);d.add(1,"days"))c(d);t.chartDataCoupon.rows=o})},user:function(){var t=this,e=f()(this.dateUser[0]),s=f()(this.dateUser[1]);Object(l["a"])("StoreStatisticsService.GetUserDayStatisticsList",Object(d["a"])("TimeWithToken",{token:Object(d["a"])("Token",{token:this.token}),createdatgreaterthan:e.unix(),createdatlessthan:s.add(1,"days").unix()})).then(function(a){var i=0;a.userdaystatisticslistList.forEach(function(t){i+=t.count}),t.userTrend=i;for(var n=a.userdaystatisticslistList.map(function(t){return{"日期":t.day,"新增用户":t.count}}),r=[],o=function(t){r.push(n.find(function(e){return e["日期"]==t.format("YYYY-MM-DD")})||{"日期":t.format("YYYY-MM-DD"),"新增用户":0})},c=e;c.isBefore(s);c.add(1,"days"))o(c);t.chartDataUser.rows=r})},yesterday:ot}},dt=ct,lt=(s("5159"),Object(_["a"])(dt,nt,rt,!1,null,"c7ee4c06",null)),ut=lt.exports,vt={_0:b,_1:M,_2:E,_3:$,_4:Q,_6:it,_7:ut},pt={0:"_0",1:"_1",2:"_2",3:"_3",4:"_4",6:"_6",7:"_7"},ht=Object(n["a"])({name:"home-entry",components:vt,map:pt}),mt=ht,Ct=Object(_["a"])(mt,a,i,!1,null,null,null);e["default"]=Ct.exports},cef5:function(t,e,s){},e05a:function(t,e,s){},fe87:function(t,e,s){}}]);
//# sourceMappingURL=statistics-dashboard.a77c5956.js.map