(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["shippingfee"],{"31fd":function(t,e,i){},3926:function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"shipping"},[i("section",{staticClass:"container",staticStyle:{"padding-left":"10px"}},[i("el-button",{attrs:{size:"small"},on:{click:function(e){t.$router.back()}}},[t._v("返回")])],1),i("section",{staticClass:"container"},[i("el-form",{staticClass:"form",attrs:{model:t.store,"label-width":"100px"}},[i("el-row",{attrs:{gutter:20}},[i("el-col",{attrs:{span:8}},[i("el-form-item",{attrs:{label:"起送金额"}},[i("el-input",{attrs:{type:"number"},model:{value:t.store.shippingminamount,callback:function(e){t.$set(t.store,"shippingminamount",e)},expression:"store.shippingminamount"}},[i("template",{slot:"append"},[t._v("元")])],2)],1)],1)],1),i("el-row",{attrs:{gutter:20}},[i("el-col",{attrs:{span:8}},[i("el-form-item",{attrs:{label:"最大配送距离"}},[i("el-input",{attrs:{type:"number",placeholder:"0则表示不限制"},model:{value:t.store.distancelimited,callback:function(e){t.$set(t.store,"distancelimited",e)},expression:"store.distancelimited"}},[i("template",{slot:"append"},[t._v("km")])],2)],1)],1)],1),i("el-row",{attrs:{gutter:20}},[i("el-col",{attrs:{span:24}},[i("el-form-item",{attrs:{label:"距离用时"}},t._l(t.store.distancepricelistList,function(e){return i("div",{key:e.distance,staticClass:"shipping-fee-line"},[i("span",{staticClass:"fee-desc-part",staticStyle:{"margin-right":"20px"}},[t._v(t._s(1e4!==e.distance?"小于"+e.distance+"km":"大于10km"))]),i("span",{staticClass:"fee-desc-part",staticStyle:{"margin-right":"20px"}},[t._v("配送费")]),i("el-input",{staticClass:"inline-form-item",model:{value:e.price,callback:function(i){t.$set(e,"price",i)},expression:"item.price"}},[i("template",{slot:"append"},[t._v("元")])],2),i("span",{staticClass:"fee-desc-part",staticStyle:{"margin-right":"20px"}},[t._v("需用时")]),i("el-select",{staticClass:"inline-form-item",attrs:{placeholder:"请选择用时"},model:{value:e.duration,callback:function(i){t.$set(e,"duration",i)},expression:"item.duration"}},[i("el-option",{attrs:{label:"15分钟",value:900}}),i("el-option",{attrs:{label:"30分钟",value:1800}}),i("el-option",{attrs:{label:"45分钟",value:2700}}),i("el-option",{attrs:{label:"1小时",value:3600}}),i("el-option",{attrs:{label:"1.5小时",value:5400}}),i("el-option",{attrs:{label:"2小时",value:7200}}),i("el-option",{attrs:{label:"3小时",value:10800}}),i("el-option",{attrs:{label:"1天",value:86400}})],1)],1)}))],1)],1)],1),i("div",{staticClass:"save-btn-container"},[i("el-button",{attrs:{type:"primary"},on:{click:t.updateStore}},[t._v("\n        保存\n      ")])],1)],1)])},n=[],a=i("be94"),r=i("8e44"),c=i("e8e1"),l=i("73cd"),o=[{distance:2,price:0,duration:1800},{distance:5,price:0,duration:1800},{distance:10,price:0,duration:7200},{distance:1e4,price:0,duration:86400}],p={name:"shipping",data:function(){return{token:Object(l["e"])(),store:{}}},mounted:function(){var t=this;Object(r["a"])("StoreAuthService.GetStore",Object(c["a"])("Token",{token:this.token})).then(function(e){e.shippingminamount=e.shippingminamount/100,e.distancelimited=e.distancelimited/1e3,e.distancepricelistList=e.distancepricelistList.map(function(t){return Object(a["a"])({},t,{distance:t.distance/1e3,price:t.price/100})}),e.distancepricelistList=e.distancepricelistList.length?e.distancepricelistList:o,t.store=e})},methods:{isDistancePriceAvailiable:function(t){return t/=1e3,!this.store.distancelimited||t<=this.store.distancelimited||this.store.distancelimited>10},updateStore:function(){var t=this,e=JSON.parse(JSON.stringify(this.store));e.shippingminamount=parseInt(100*e.shippingminamount),e.distancelimited=parseInt(1e3*e.distancelimited),e.distancepricelistList=e.distancepricelistList.map(function(t){return Object(a["a"])({},t,{distance:parseInt(1e3*t.distance),price:parseInt(100*t.price)})}),Object(r["a"])("StoreStoreService.UpdateInfo",Object(c["a"])("StoreWithTokenRequest",{token:Object(c["a"])("Token",{token:this.token}),store:Object(c["a"])("Store",Object(a["a"])({},e,{businesshoursList:e.businesshoursList.map(function(t){return Object(c["a"])("BusinessHours",t)}),distancepricelistList:e.distancepricelistList.map(function(t){return Object(c["a"])("DistancePrice",t)})}))})).then(function(e){e.shippingminamount=e.shippingminamount/100,e.distancelimited=e.distancelimited/1e3,e.distancepricelistList=e.distancepricelistList.map(function(t){return Object(a["a"])({},t,{distance:t.distance/1e3,price:t.price/100})}),t.store=e})}}},d=p,u=(i("f920"),i("2877")),m=Object(u["a"])(d,s,n,!1,null,"dff1bf5e",null);e["default"]=m.exports},f920:function(t,e,i){"use strict";var s=i("31fd"),n=i.n(s);n.a}}]);
//# sourceMappingURL=shippingfee.15b838b5.js.map