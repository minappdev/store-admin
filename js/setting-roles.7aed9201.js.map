{"version":3,"sources":["webpack:///./node_modules/core-js/modules/es6.array.find-index.js","webpack:///./src/components/tab/index.vue?a977","webpack:///./node_modules/core-js/modules/es6.string.iterator.js","webpack:///./src/views/setting/roles.vue?d8f5","webpack:///src/views/setting/roles.vue","webpack:///./src/views/setting/roles.vue?c8ad","webpack:///./src/views/setting/roles.vue","webpack:///./node_modules/core-js/modules/es6.regexp.replace.js","webpack:///./src/components/tab/index.vue?5476","webpack:///src/components/tab/index.vue","webpack:///./src/components/tab/index.vue?231e","webpack:///./src/components/tab/index.vue"],"names":["$export","__webpack_require__","$find","KEY","forced","Array","P","F","findIndex","callbackfn","this","arguments","length","undefined","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_index_vue_vue_type_style_index_0_id_5e44c4ee_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_index_vue_vue_type_style_index_0_id_5e44c4ee_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0___default","n","$at","String","iterated","_t","_i","point","O","index","value","done","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","data","label","model","callback","$$v","status","expression","gutter","offset","span","size","type","on","click","addRole","_v","staticStyle","width","list","border","prop","scopedSlots","_u","key","fn","scope","row","name","_l","item","margin-right","_s","_e","color","Date","updatedat","toLocaleString","fixed","disabled","$event","onEdit","onDelete","staticRenderFns","rolesvue_type_script_lang_js_","components","comp-tab","tab","watch","$router","replace","token","mounted","Object","helper","getList","methods","_getList","asyncToGenerator","regeneratorRuntime","mark","_callee","res","ps","reslist","_this","wrap","_context","prev","next","service","grpc","count","sent","storerolelistList","map","v","storeroleid","id","Promise","all","forEach","storeadmincount","storeadminlistList","stop","apply","_ref","push","query","_this2","$confirm","then","splice","$message","message","catch","setting_rolesvue_type_script_lang_js_","component","componentNormalizer","__webpack_exports__","anObject","toObject","toLength","toInteger","advanceStringIndex","regExpExec","max","Math","min","floor","SUBSTITUTION_SYMBOLS","SUBSTITUTION_SYMBOLS_NO_NAMED","maybeToString","it","defined","REPLACE","$replace","maybeCallNative","searchValue","replaceValue","call","regexp","rx","S","functionalReplace","global","fullUnicode","unicode","lastIndex","results","result","matchStr","accumulatedResult","nextSourcePosition","i","matched","position","captures","j","namedCaptures","groups","replacerArgs","concat","replacement","getSubstitution","slice","str","tailPos","m","symbols","match","ch","capture","charAt","f","class","active","onClickItem","tabvue_type_script_lang_js_","props","default","required","$emit","components_tabvue_type_script_lang_js_"],"mappings":"iHAEA,IAAAA,EAAcC,EAAQ,QACtBC,EAAYD,EAAQ,OAARA,CAA0B,GACtCE,EAAA,YACAC,GAAA,EAEAD,IAAA,IAAAE,MAAA,GAAAF,GAAA,WAA0CC,GAAA,IAC1CJ,IAAAM,EAAAN,EAAAO,EAAAH,EAAA,SACAI,UAAA,SAAAC,GACA,OAAAP,EAAAQ,KAAAD,EAAAE,UAAAC,OAAA,EAAAD,UAAA,QAAAE,MAGAZ,EAAQ,OAARA,CAA+BE,wCCb/B,IAAAW,EAAAb,EAAA,QAAAc,EAAAd,EAAAe,EAAAF,GAAsjBC,EAAG,uCCCzjB,IAAAE,EAAUhB,EAAQ,OAARA,EAAsB,GAGhCA,EAAQ,OAARA,CAAwBiB,OAAA,kBAAAC,GACxBT,KAAAU,GAAAF,OAAAC,GACAT,KAAAW,GAAA,GAEC,WACD,IAEAC,EAFAC,EAAAb,KAAAU,GACAI,EAAAd,KAAAW,GAEA,OAAAG,GAAAD,EAAAX,OAAA,CAAiCa,WAAAZ,EAAAa,MAAA,IACjCJ,EAAAL,EAAAM,EAAAC,GACAd,KAAAW,IAAAC,EAAAV,OACA,CAAUa,MAAAH,EAAAI,MAAA,kDCfV,IAAAC,EAAA,WAA0B,IAAAC,EAAAlB,KAAamB,EAAAD,EAAAE,eAA0BC,EAAAH,EAAAI,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAAA,EAAA,OAA2BE,YAAA,aAAwB,CAAAF,EAAA,YAAiBG,MAAA,CAAOC,KAAA,EAASC,MAAA,OAAAX,MAAA,GAA0B,CAAGW,MAAA,OAAAX,MAAA,KAA4BY,MAAA,CAAQZ,MAAAG,EAAA,OAAAU,SAAA,SAAAC,GAA4CX,EAAAY,OAAAD,GAAeE,WAAA,aAAsB,GAAAV,EAAA,OAAgBE,YAAA,aAAwB,CAAAF,EAAA,UAAeG,MAAA,CAAOQ,OAAA,MAAc,CAAAX,EAAA,UAAeE,YAAA,UAAAC,MAAA,CAA6BS,OAAA,KAAAC,KAAA,MAA0B,CAAAb,EAAA,aAAkBG,MAAA,CAAOW,KAAA,QAAAC,KAAA,WAAgCC,GAAA,CAAKC,MAAApB,EAAAqB,UAAqB,CAAArB,EAAAsB,GAAA,sBAAAnB,EAAA,OAAyCE,YAAA,aAAwB,CAAAF,EAAA,YAAiBoB,YAAA,CAAaC,MAAA,QAAelB,MAAA,CAAQC,KAAAP,EAAAyB,KAAAC,OAAA,KAA6B,CAAAvB,EAAA,mBAAwBG,MAAA,CAAOE,MAAA,KAAAmB,KAAA,OAAAH,MAAA,SAA0CrB,EAAA,mBAAwBG,MAAA,CAAOE,MAAA,KAAAgB,MAAA,OAA2BI,YAAA5B,EAAA6B,GAAA,EAAsBC,IAAA,UAAAC,GAAA,SAAAC,GAAiC,gBAAAA,EAAAC,IAAAC,KAAA/B,EAAA,OAAAH,EAAAmC,GAAAH,EAAAC,IAAA,kBAAAG,GAAyF,OAAAjC,EAAA,QAAkB2B,IAAAM,EAAAb,YAAA,CAAsBc,eAAA,QAAsB,CAAArC,EAAAsB,GAAAtB,EAAAsC,GAAAF,SAAyBpC,EAAAuC,KAAA,SAAAP,EAAAC,IAAAC,KAAA/B,EAAA,QAAmDoB,YAAA,CAAac,eAAA,MAAAG,MAAA,YAAwC,CAAAxC,EAAAsB,GAAA,UAAAtB,EAAAuC,YAAiCpC,EAAA,mBAAwBG,MAAA,CAAOE,MAAA,OAAAmB,KAAA,kBAAAH,MAAA,SAAuDrB,EAAA,mBAAwBG,MAAA,CAAOE,MAAA,OAAAgB,MAAA,OAA6BI,YAAA5B,EAAA6B,GAAA,EAAsBC,IAAA,UAAAC,GAAA,SAAAC,GAAiC,OAAA7B,EAAA,QAAAH,EAAAsB,GAAAtB,EAAAsC,GAAA,IAAAG,KAAA,IAAAT,EAAAC,IAAAS,WAAAC,4BAAgGxC,EAAA,mBAAwBG,MAAA,CAAOsC,MAAA,QAAApC,MAAA,MAA6BoB,YAAA5B,EAAA6B,GAAA,EAAsBC,IAAA,UAAAC,GAAA,SAAAC,GAAiC,OAAA7B,EAAA,aAAwBG,MAAA,CAAOuC,SAAA,SAAAb,EAAAC,IAAAC,KAAAjB,KAAA,QAAAC,KAAA,QAAkEC,GAAA,CAAKC,MAAA,SAAA0B,GAAyB9C,EAAA+C,OAAAf,EAAAC,QAAwB,CAAAjC,EAAAsB,GAAA,QAAAnB,EAAA,aAAiCG,MAAA,CAAOuC,SAAA,SAAAb,EAAAC,IAAAC,KAAAjB,KAAA,QAAAC,KAAA,QAAkEC,GAAA,CAAKC,MAAA,SAAA0B,GAAyB9C,EAAAgD,SAAAhB,EAAAC,QAA0B,CAAAjC,EAAAsB,GAAA,gBAAsB,UACr5D2B,EAAA,qHCgDAC,EAAA,CACAhB,KAAA,QACAiB,WAAA,CAAAC,WAAAC,EAAA,MACAC,MAAA,CACA1C,OADA,WAEA9B,KAAAyE,QAAAC,QAAA,uBAGAjD,KARA,WASA,OACAkD,MAAA,GACA7C,OAAA,EACAa,KAAA,KAGAiC,QAfA,WAgBA5E,KAAA2E,MAAAE,OAAAC,EAAA,KAAAD,GACA7E,KAAA+E,WAEAC,QAAA,CACAD,QADA,eAAAE,EAAAJ,OAAAK,EAAA,KAAAL,CAAAM,mBAAAC,KAAA,SAAAC,IAAA,IAAAC,EAAAC,EAAAC,EAAAC,EAAAzF,KAAA,OAAAmF,mBAAAO,KAAA,SAAAC,GAAA,eAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAAAF,EAAAE,KAAA,EAEAhB,OAAAiB,EAAA,KAAAjB,CACA,yCACAA,OAAAkB,EAAA,KAAAlB,CAAA,6BACAF,MAAAE,OAAAkB,EAAA,KAAAlB,CAAA,SAAAF,MAAA3E,KAAA2E,QACAqB,MAAA,OANA,cAEAV,EAFAK,EAAAM,KASAV,EAAAD,EAAAY,kBAAAC,IAAA,SAAAC,GACA,OAAAvB,OAAAiB,EAAA,KAAAjB,CACA,2CACAA,OAAAkB,EAAA,KAAAlB,CAAA,8BACAF,MAAAE,OAAAkB,EAAA,KAAAlB,CAAA,SAAAF,MAAAc,EAAAd,QACA0B,YAAAD,EAAAE,GACAN,MAAA,SAfAL,EAAAE,KAAA,EAmBAU,QAAAC,IAAAjB,GAnBA,OAmBAC,EAnBAG,EAAAM,KAoBAX,EAAAY,kBAAAO,QAAA,SAAAnD,EAAAxC,GAAA,OAAAwC,EAAAoD,gBAAAlB,EAAA1E,GAAA6F,mBAAAzG,SACAF,KAAA2C,KAAA2C,EAAAY,kBArBA,wBAAAP,EAAAiB,SAAAvB,EAAArF,SAAA,SAAA+E,IAAA,OAAAE,EAAA4B,MAAA7G,KAAAC,WAAA,OAAA8E,EAAA,GAuBAd,OAvBA,SAAA6C,GAuBA,IAAAR,EAAAQ,EAAAR,GACAtG,KAAAyE,QAAAsC,KAAA,CAAA3D,KAAA,oBAAA4D,MAAA,CAAAV,SAEApC,SA1BA,SA0BAf,GAAA,IAAA8D,EAAAjH,KACAA,KAAAkH,SAAA,SACAC,KAAA,WACAtC,OAAAiB,EAAA,KAAAjB,CACA,wCACAA,OAAAkB,EAAA,KAAAlB,CAAA,sBACAF,MAAAE,OAAAkB,EAAA,KAAAlB,CAAA,SAAAF,MAAAsC,EAAAtC,QACA2B,GAAAnD,EAAAmD,MAEAa,KAAA,SAAA7B,GACA2B,EAAAtE,KAAAyE,OAAAH,EAAAtE,KAAA7C,UAAA,SAAAsG,GAAA,OAAAA,EAAAE,KAAAnD,EAAAmD,KAAA,GACAW,EAAAI,SAAA,CACAC,QAAA,OACAlF,KAAA,gBAIAmF,MAAA,eAEAhF,QA7CA,WA8CAvC,KAAAyE,QAAAsC,KAAA,CAAA3D,KAAA,yBClH8VoE,EAAA,cCO9VC,EAAgB5C,OAAA6C,EAAA,KAAA7C,CACd2C,EACAvG,EACAkD,GACF,EACA,KACA,KACA,MAIewD,EAAA,WAAAF,6CChBf,IAAAG,EAAerI,EAAQ,QACvBsI,EAAetI,EAAQ,QACvBuI,EAAevI,EAAQ,QACvBwI,EAAgBxI,EAAQ,QACxByI,EAAyBzI,EAAQ,QACjC0I,EAAiB1I,EAAQ,QACzB2I,EAAAC,KAAAD,IACAE,EAAAD,KAAAC,IACAC,EAAAF,KAAAE,MACAC,EAAA,4BACAC,EAAA,oBAEAC,EAAA,SAAAC,GACA,YAAAtI,IAAAsI,IAAAjI,OAAAiI,IAIAlJ,EAAQ,OAARA,CAAuB,qBAAAmJ,EAAAC,EAAAC,EAAAC,GACvB,OAGA,SAAAC,EAAAC,GACA,IAAAlI,EAAA6H,EAAA1I,MACAiD,OAAA9C,GAAA2I,OAAA3I,EAAA2I,EAAAH,GACA,YAAAxI,IAAA8C,EACAA,EAAA+F,KAAAF,EAAAjI,EAAAkI,GACAH,EAAAI,KAAAxI,OAAAK,GAAAiI,EAAAC,IAIA,SAAAE,EAAAF,GACA,IAAAzD,EAAAuD,EAAAD,EAAAK,EAAAjJ,KAAA+I,GACA,GAAAzD,EAAAtE,KAAA,OAAAsE,EAAAvE,MAEA,IAAAmI,EAAAtB,EAAAqB,GACAE,EAAA3I,OAAAR,MACAoJ,EAAA,oBAAAL,EACAK,IAAAL,EAAAvI,OAAAuI,IACA,IAAAM,EAAAH,EAAAG,OACA,GAAAA,EAAA,CACA,IAAAC,EAAAJ,EAAAK,QACAL,EAAAM,UAAA,EAEA,IAAAC,EAAA,GACA,SACA,IAAAC,EAAAzB,EAAAiB,EAAAC,GACA,UAAAO,EAAA,MAEA,GADAD,EAAA1C,KAAA2C,IACAL,EAAA,MACA,IAAAM,EAAAnJ,OAAAkJ,EAAA,IACA,KAAAC,IAAAT,EAAAM,UAAAxB,EAAAmB,EAAArB,EAAAoB,EAAAM,WAAAF,IAIA,IAFA,IAAAM,EAAA,GACAC,EAAA,EACAC,EAAA,EAAqBA,EAAAL,EAAAvJ,OAAoB4J,IAAA,CACzCJ,EAAAD,EAAAK,GASA,IARA,IAAAC,EAAAvJ,OAAAkJ,EAAA,IACAM,EAAA9B,EAAAE,EAAAL,EAAA2B,EAAA5I,OAAAqI,EAAAjJ,QAAA,GACA+J,EAAA,GAMAC,EAAA,EAAuBA,EAAAR,EAAAxJ,OAAmBgK,IAAAD,EAAAlD,KAAAyB,EAAAkB,EAAAQ,KAC1C,IAAAC,EAAAT,EAAAU,OACA,GAAAhB,EAAA,CACA,IAAAiB,EAAA,CAAAN,GAAAO,OAAAL,EAAAD,EAAAb,QACAhJ,IAAAgK,GAAAE,EAAAtD,KAAAoD,GACA,IAAAI,EAAA/J,OAAAuI,EAAAlC,WAAA1G,EAAAkK,SAEAE,EAAAC,EAAAT,EAAAZ,EAAAa,EAAAC,EAAAE,EAAApB,GAEAiB,GAAAH,IACAD,GAAAT,EAAAsB,MAAAZ,EAAAG,GAAAO,EACAV,EAAAG,EAAAD,EAAA7J,QAGA,OAAA0J,EAAAT,EAAAsB,MAAAZ,KAKA,SAAAW,EAAAT,EAAAW,EAAAV,EAAAC,EAAAE,EAAAI,GACA,IAAAI,EAAAX,EAAAD,EAAA7J,OACA0K,EAAAX,EAAA/J,OACA2K,EAAAtC,EAKA,YAJApI,IAAAgK,IACAA,EAAAtC,EAAAsC,GACAU,EAAAvC,GAEAM,EAAAI,KAAAuB,EAAAM,EAAA,SAAAC,EAAAC,GACA,IAAAC,EACA,OAAAD,EAAAE,OAAA,IACA,kBACA,eAAAlB,EACA,eAAAW,EAAAD,MAAA,EAAAT,GACA,eAAAU,EAAAD,MAAAE,GACA,QACAK,EAAAb,EAAAY,EAAAN,MAAA,OACA,MACA,QACA,IAAAnK,GAAAyK,EACA,OAAAzK,EAAA,OAAAyK,EACA,GAAAzK,EAAAsK,EAAA,CACA,IAAAM,EAAA7C,EAAA/H,EAAA,IACA,WAAA4K,EAAAH,EACAG,GAAAN,OAAAzK,IAAA8J,EAAAiB,EAAA,GAAAH,EAAAE,OAAA,GAAAhB,EAAAiB,EAAA,GAAAH,EAAAE,OAAA,GACAF,EAEAC,EAAAf,EAAA3J,EAAA,GAEA,YAAAH,IAAA6K,EAAA,GAAAA,0CClHA,IAAA/J,EAAA,WAA0B,IAAAC,EAAAlB,KAAamB,EAAAD,EAAAE,eAA0BC,EAAAH,EAAAI,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAiBE,YAAA,OAAkBL,EAAAmC,GAAAnC,EAAA,cAAAoC,GAAkC,OAAAjC,EAAA,OAAiB2B,IAAAM,EAAA5B,MAAAyJ,MAAA,aAAmCC,OAAAlK,EAAAH,QAAAuC,EAAAvC,QAAmCsB,GAAA,CAAMC,MAAA,SAAA0B,GAAyB9C,EAAAmK,YAAA/H,EAAAvC,UAA8B,CAAAG,EAAAsB,GAAAtB,EAAAsC,GAAAF,EAAA5B,cAClTyC,EAAA,GCWAmH,EAAA,CACAC,MAAA,CACA9J,KAAA,CACAW,KAAAzC,MACA6L,QAAA,mBAAA9J,MAAA,OAAAX,MAAA,IAAAW,MAAA,QAAAX,MAAA,KACA0K,UAAA,GAEA1K,MAAA,CACAyK,QAAA,GACAC,UAAA,IAGAzG,QAAA,CACAqG,YADA,SACAjF,GACApG,KAAA0L,MAAA,QAAAtF,MC1B8VuF,EAAA,0BCQ9VlE,EAAgB5C,OAAA6C,EAAA,KAAA7C,CACd8G,EACA1K,EACAkD,GACF,EACA,KACA,WACA,MAIewD,EAAA,KAAAF","file":"js/setting-roles.7aed9201.js","sourcesContent":["'use strict';\n// 22.1.3.9 Array.prototype.findIndex(predicate, thisArg = undefined)\nvar $export = require('./_export');\nvar $find = require('./_array-methods')(6);\nvar KEY = 'findIndex';\nvar forced = true;\n// Shouldn't skip holes\nif (KEY in []) Array(1)[KEY](function () { forced = false; });\n$export($export.P + $export.F * forced, 'Array', {\n  findIndex: function findIndex(callbackfn /* , that = undefined */) {\n    return $find(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\nrequire('./_add-to-unscopables')(KEY);\n","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=5e44c4ee&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=5e44c4ee&lang=scss&scoped=true&\"","'use strict';\nvar $at = require('./_string-at')(true);\n\n// 21.1.3.27 String.prototype[@@iterator]()\nrequire('./_iter-define')(String, 'String', function (iterated) {\n  this._t = String(iterated); // target\n  this._i = 0;                // next index\n// 21.1.5.2.1 %StringIteratorPrototype%.next()\n}, function () {\n  var O = this._t;\n  var index = this._i;\n  var point;\n  if (index >= O.length) return { value: undefined, done: true };\n  point = $at(O, index);\n  this._i += point.length;\n  return { value: point, done: false };\n});\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"container\"},[_c('comp-tab',{attrs:{\"data\":[{ label: '人员管理', value: 0 }, { label: '角色管理', value: 1 }]},model:{value:(_vm.status),callback:function ($$v) {_vm.status=$$v},expression:\"status\"}})],1),_c('div',{staticClass:\"container\"},[_c('el-row',{attrs:{\"gutter\":\"8\"}},[_c('el-col',{staticClass:\"fr-jcfe\",attrs:{\"offset\":\"20\",\"span\":\"4\"}},[_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"primary\"},on:{\"click\":_vm.addRole}},[_vm._v(\"添加角色\")])],1)],1)],1),_c('div',{staticClass:\"container\"},[_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.list,\"border\":\"\"}},[_c('el-table-column',{attrs:{\"label\":\"角色\",\"prop\":\"name\",\"width\":\"250\"}}),_c('el-table-column',{attrs:{\"label\":\"权限\",\"width\":\"400\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(scope.row.name != 'Admin')?_c('span',_vm._l((scope.row.cansList),function(item){return _c('span',{key:item,staticStyle:{\"margin-right\":\"8px\"}},[_vm._v(_vm._s(item))])})):_vm._e(),(scope.row.name == 'Admin')?_c('span',{staticStyle:{\"margin-right\":\"8px\",\"color\":\"#ff4f4f\"}},[_vm._v(\"所有权限\")]):_vm._e()]}}])}),_c('el-table-column',{attrs:{\"label\":\"员工数量\",\"prop\":\"storeadmincount\",\"width\":\"100\"}}),_c('el-table-column',{attrs:{\"label\":\"更新时间\",\"width\":\"250\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',[_vm._v(_vm._s(new Date(scope.row.updatedat * 1000).toLocaleString()))])]}}])}),_c('el-table-column',{attrs:{\"fixed\":\"right\",\"label\":\"操作\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"disabled\":scope.row.name == 'Admin',\"size\":\"small\",\"type\":\"text\"},on:{\"click\":function($event){_vm.onEdit(scope.row)}}},[_vm._v(\"修改\")]),_c('el-button',{attrs:{\"disabled\":scope.row.name == 'Admin',\"size\":\"small\",\"type\":\"text\"},on:{\"click\":function($event){_vm.onDelete(scope.row)}}},[_vm._v(\"删除\")])]}}])})],1)],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <div class=\"container\">\n      <comp-tab :data=\"[{ label: '人员管理', value: 0 }, { label: '角色管理', value: 1 }]\" v-model=\"status\" />\n    </div>\n\n    <div class=\"container\">\n      <el-row gutter=\"8\">\n        <el-col class=\"fr-jcfe\" offset=\"20\" span=\"4\">\n          <el-button @click=\"addRole\" size=\"small\" type=\"primary\">添加角色</el-button>\n        </el-col>\n      </el-row>\n    </div>\n\n    <div class=\"container\">\n      <el-table :data=\"list\" border style=\"width: 100%\">\n        <el-table-column label=\"角色\" prop=\"name\" width=\"250\" />\n        <el-table-column label=\"权限\" width=\"400\">\n          <template slot-scope=\"scope\">\n            <span v-if=\"scope.row.name != 'Admin'\">\n              <span style=\"margin-right: 8px;\" v-for=\"item in scope.row.cansList\" :key=\"item\">{{ item }}</span>\n            </span>\n            <span v-if=\"scope.row.name == 'Admin'\" style=\"margin-right: 8px;color:#ff4f4f\">所有权限</span>\n          </template>\n        </el-table-column>\n        <el-table-column label=\"员工数量\" prop=\"storeadmincount\" width=\"100\" />\n        <el-table-column label=\"更新时间\" width=\"250\">\n          <template slot-scope=\"scope\">\n            <span>{{ new Date(scope.row.updatedat * 1000).toLocaleString() }}</span>\n          </template>\n        </el-table-column>\n        <el-table-column fixed=\"right\" label=\"操作\">\n          <template slot-scope=\"scope\">\n            <el-button :disabled=\"scope.row.name == 'Admin'\" @click=\"onEdit(scope.row)\" size=\"small\" type=\"text\">修改</el-button>\n            <el-button :disabled=\"scope.row.name == 'Admin'\" @click=\"onDelete(scope.row)\" size=\"small\" type=\"text\">删除</el-button>\n          </template>\n        </el-table-column>\n      </el-table>\n    </div>\n  </div>\n</template>\n\n<script>\n/* eslint-disable */\nimport Tab from '../../components/tab/index.vue';\nimport { M } from '../../service/grpc.js';\nimport { rpc } from '../../service/index.js';\nimport { getToken } from '../../service/helper.js';\n\nexport default {\n  name: 'Roles',\n  components: { 'comp-tab': Tab },\n  watch: {\n    status() {\n      this.$router.replace('/setting/employee');\n    }\n  },\n  data() {\n    return {\n      token: '',\n      status: 1,\n      list: []\n    };\n  },\n  mounted() {\n    this.token = getToken();\n    this.getList();\n  },\n  methods: {\n    async getList() {\n      const res = await rpc(\n        'StoreStoreRoleService.GetStoreRoleList',\n        M('StoreRoleListQueryRequest', {\n          token: M('Token', { token: this.token }),\n          count: 100\n        })\n      );\n      const ps = res.storerolelistList.map(v => {\n        return rpc(\n          'StoreStoreAdminService.GetStoreAdminList',\n          M('StoreAdminListQueryRequest', {\n            token: M('Token', { token: this.token }),\n            storeroleid: v.id,\n            count: 100\n          })\n        );\n      });\n      const reslist = await Promise.all(ps);\n      res.storerolelistList.forEach((item, index) => (item.storeadmincount = reslist[index].storeadminlistList.length));\n      this.list = res.storerolelistList;\n    },\n    onEdit({ id }) {\n      this.$router.push({ name: 'setting-role-edit', query: { id: id } });\n    },\n    onDelete(row) {\n      this.$confirm('确认删除？')\n        .then(() => {\n          rpc(\n            'StoreStoreRoleService.DeleteStoreRole',\n            M('IDWithTokenRequest', {\n              token: M('Token', { token: this.token }),\n              id: row.id\n            })\n          ).then(res => {\n            this.list.splice(this.list.findIndex(v => v.id === row.id), 1);\n            this.$message({\n              message: '操作成功',\n              type: 'success'\n            });\n          });\n        })\n        .catch(() => {});\n    },\n    addRole() {\n      this.$router.push({ name: 'setting-role-edit' });\n    }\n  }\n};\n</script>\n\n<style></style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./roles.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./roles.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./roles.vue?vue&type=template&id=1b314a69&\"\nimport script from \"./roles.vue?vue&type=script&lang=js&\"\nexport * from \"./roles.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","'use strict';\n\nvar anObject = require('./_an-object');\nvar toObject = require('./_to-object');\nvar toLength = require('./_to-length');\nvar toInteger = require('./_to-integer');\nvar advanceStringIndex = require('./_advance-string-index');\nvar regExpExec = require('./_regexp-exec-abstract');\nvar max = Math.max;\nvar min = Math.min;\nvar floor = Math.floor;\nvar SUBSTITUTION_SYMBOLS = /\\$([$&`']|\\d\\d?|<[^>]*>)/g;\nvar SUBSTITUTION_SYMBOLS_NO_NAMED = /\\$([$&`']|\\d\\d?)/g;\n\nvar maybeToString = function (it) {\n  return it === undefined ? it : String(it);\n};\n\n// @@replace logic\nrequire('./_fix-re-wks')('replace', 2, function (defined, REPLACE, $replace, maybeCallNative) {\n  return [\n    // `String.prototype.replace` method\n    // https://tc39.github.io/ecma262/#sec-string.prototype.replace\n    function replace(searchValue, replaceValue) {\n      var O = defined(this);\n      var fn = searchValue == undefined ? undefined : searchValue[REPLACE];\n      return fn !== undefined\n        ? fn.call(searchValue, O, replaceValue)\n        : $replace.call(String(O), searchValue, replaceValue);\n    },\n    // `RegExp.prototype[@@replace]` method\n    // https://tc39.github.io/ecma262/#sec-regexp.prototype-@@replace\n    function (regexp, replaceValue) {\n      var res = maybeCallNative($replace, regexp, this, replaceValue);\n      if (res.done) return res.value;\n\n      var rx = anObject(regexp);\n      var S = String(this);\n      var functionalReplace = typeof replaceValue === 'function';\n      if (!functionalReplace) replaceValue = String(replaceValue);\n      var global = rx.global;\n      if (global) {\n        var fullUnicode = rx.unicode;\n        rx.lastIndex = 0;\n      }\n      var results = [];\n      while (true) {\n        var result = regExpExec(rx, S);\n        if (result === null) break;\n        results.push(result);\n        if (!global) break;\n        var matchStr = String(result[0]);\n        if (matchStr === '') rx.lastIndex = advanceStringIndex(S, toLength(rx.lastIndex), fullUnicode);\n      }\n      var accumulatedResult = '';\n      var nextSourcePosition = 0;\n      for (var i = 0; i < results.length; i++) {\n        result = results[i];\n        var matched = String(result[0]);\n        var position = max(min(toInteger(result.index), S.length), 0);\n        var captures = [];\n        // NOTE: This is equivalent to\n        //   captures = result.slice(1).map(maybeToString)\n        // but for some reason `nativeSlice.call(result, 1, result.length)` (called in\n        // the slice polyfill when slicing native arrays) \"doesn't work\" in safari 9 and\n        // causes a crash (https://pastebin.com/N21QzeQA) when trying to debug it.\n        for (var j = 1; j < result.length; j++) captures.push(maybeToString(result[j]));\n        var namedCaptures = result.groups;\n        if (functionalReplace) {\n          var replacerArgs = [matched].concat(captures, position, S);\n          if (namedCaptures !== undefined) replacerArgs.push(namedCaptures);\n          var replacement = String(replaceValue.apply(undefined, replacerArgs));\n        } else {\n          replacement = getSubstitution(matched, S, position, captures, namedCaptures, replaceValue);\n        }\n        if (position >= nextSourcePosition) {\n          accumulatedResult += S.slice(nextSourcePosition, position) + replacement;\n          nextSourcePosition = position + matched.length;\n        }\n      }\n      return accumulatedResult + S.slice(nextSourcePosition);\n    }\n  ];\n\n    // https://tc39.github.io/ecma262/#sec-getsubstitution\n  function getSubstitution(matched, str, position, captures, namedCaptures, replacement) {\n    var tailPos = position + matched.length;\n    var m = captures.length;\n    var symbols = SUBSTITUTION_SYMBOLS_NO_NAMED;\n    if (namedCaptures !== undefined) {\n      namedCaptures = toObject(namedCaptures);\n      symbols = SUBSTITUTION_SYMBOLS;\n    }\n    return $replace.call(replacement, symbols, function (match, ch) {\n      var capture;\n      switch (ch.charAt(0)) {\n        case '$': return '$';\n        case '&': return matched;\n        case '`': return str.slice(0, position);\n        case \"'\": return str.slice(tailPos);\n        case '<':\n          capture = namedCaptures[ch.slice(1, -1)];\n          break;\n        default: // \\d\\d?\n          var n = +ch;\n          if (n === 0) return ch;\n          if (n > m) {\n            var f = floor(n / 10);\n            if (f === 0) return ch;\n            if (f <= m) return captures[f - 1] === undefined ? ch.charAt(1) : captures[f - 1] + ch.charAt(1);\n            return ch;\n          }\n          capture = captures[n - 1];\n      }\n      return capture === undefined ? '' : capture;\n    });\n  }\n});\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"tab\"},_vm._l((_vm.data),function(item){return _c('div',{key:item.label,class:['tab-item', { active: _vm.value === item.value }],on:{\"click\":function($event){_vm.onClickItem(item.value)}}},[_vm._v(_vm._s(item.label))])}))}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"tab\">\n    <div\n      :class=\"['tab-item', { active: value === item.value }]\"\n      :key=\"item.label\"\n      @click=\"onClickItem(item.value)\"\n      v-for=\"item in data\"\n    >{{item.label}}</div>\n  </div>\n</template>\n\n<script>\nexport default {\n  props: {\n    data: {\n      type: Array,\n      default: () => [{ label: 'test', value: 0 }, { label: 'test2', value: 1 }],\n      required: true\n    },\n    value: {\n      default: '',\n      required: true\n    }\n  },\n  methods: {\n    onClickItem(v) {\n      this.$emit('input', v);\n    }\n  }\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.tab {\n  display: flex;\n  flex-direction: row;\n}\n.tab-item {\n  cursor: pointer;\n  font-size: 14px;\n  margin-right: 25px;\n  &:last-child {\n    margin-right: 0;\n  }\n}\n.active {\n  color: #ff4f4f;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=5e44c4ee&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=5e44c4ee&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5e44c4ee\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}