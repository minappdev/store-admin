(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["custom-list"],{"0dc8":function(t,e,s){"use strict";var i=s("7bf9"),a=s.n(i);a.a},2147:function(t,e,s){"use strict";var i=s("3309"),a=s.n(i);a.a},3309:function(t,e,s){},"353e":function(t,e,s){"use strict";var i=s("3aef"),a=s.n(i);a.a},"3aef":function(t,e,s){},"471e":function(t,e,s){"use strict";var i=s("f870"),a=s.n(i);a.a},"56ee":function(t,e,s){"use strict";var i=s("bff6"),a=s.n(i);a.a},"6f31":function(t,e,s){"use strict";s.r(e);var i,a,r=s("80bf"),n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"container"},[s("el-row",{attrs:{gutter:"8"}},[s("el-col",{attrs:{span:"4"}},[s("el-input",{attrs:{placeholder:"输入手机号搜索","prefix-icon":"el-icon-search",size:"small"},model:{value:t.params.mobile,callback:function(e){t.$set(t.params,"mobile",e)},expression:"params.mobile"}})],1),s("el-col",{attrs:{span:"4"}},[s("el-button",{attrs:{size:"small"},on:{click:t.onSearch}},[t._v("搜索")])],1)],1)],1),s("div",{staticClass:"container"},[s("el-table",{staticStyle:{width:"100%"},attrs:{data:t.list,border:""}},[s("el-table-column",{attrs:{align:"center",label:"ID",prop:"id",width:"50"}}),s("el-table-column",{attrs:{label:"用户"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.row;return[s("div",{staticClass:"member"},[s("div",{staticClass:"member-avatar"},[s("img",{staticClass:"member-avatar",attrs:{src:i.avatar,alt:""}})]),s("div",[s("div",[t._v(t._s(i.nickname))]),2===i.isvip?s("div",{staticClass:"member-tag"},[t._v("会员")]):t._e()])])]}}])}),s("el-table-column",{attrs:{label:"手机号",prop:"mobile"}}),s("el-table-column",{attrs:{label:"性别"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.row;return[s("div",[t._v(t._s({0:"未知",1:"男",2:"女"}[i.gender]))])]}}])}),s("el-table-column",{attrs:{label:"地区"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.row;return[s("div",[t._v(t._s(i.province)+"/"+t._s(i.city))])]}}])}),s("el-table-column",{attrs:{label:"余额"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.row;return[0==i.balance?s("div",[t._v(t._s(i.balance/100)+"元")]):t._e(),i.balance>0?s("div",{staticStyle:{color:"#ff4f4f"}},[t._v(t._s(i.balance/100)+"元")]):t._e()]}}])}),s("el-table-column",{attrs:{align:"center",label:"操作",width:"150"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.row;return[s("el-button",{attrs:{size:"small",type:"text"},on:{click:function(e){t.onClickSearchByUser(i)}}},[t._v("查看最近订单")])]}}])})],1),s("div",{staticClass:"table-bottom"},[t.hasMore?s("el-button",{attrs:{loading:t.loadmore,size:"small",type:"primary"},on:{click:t.getUsers}},[t._v("加载更多")]):s("span",{staticStyle:{color:"#ccc","font-size":"12px"}},[t._v("已经加载全部，没有更多了")])],1)],1),s("el-dialog",{attrs:{visible:t.showDialog,title:"订单列表",width:"800px"},on:{"update:visible":function(e){t.showDialog=e}}},[t._l(t.orderlist,function(e){return s("div",{key:e.id,staticClass:"item"},[s("div",{staticClass:"order-detail"},[s("div",[s("span",{staticClass:"order-detail_text"},[t._v(t._s(e.id))]),e.groupuuid?s("span",{staticClass:"invoice m10"},[t._v("拼团")]):t._e(),e.needinvoice?s("span",{staticClass:"invoice m10"},[t._v("需要开发票")]):t._e()]),s("div",[s("span",{staticClass:"order-detail_text m10"},[t._v(t._s(e.user.nickname)+" "+t._s(e.user.mobile))]),2===e.user.isvip?s("span",{staticClass:"member-tag",staticStyle:{padding:"0 4px"}},[t._v("会员")]):t._e(),s("span",{staticClass:"order-detail_text m10"},[t._v(t._s(new Date(1e3*e.createdat).toLocaleString("zh-CN",{timeZone:"Asia/Shanghai"})))]),s("el-button",{attrs:{size:"small",type:"text"},on:{click:function(s){t.$router.push({name:"order-detail",query:{id:e.id}})}}},[t._v("查看详情")])],1)]),s("div",{staticClass:"table"},[s("div",{staticClass:"products"},t._l(e.orderproductsList,function(e){return s("div",{key:e.id,staticClass:"product"},[s("div",{staticClass:"product-info"},[s("div",{staticClass:"product-img"},[s("comp-imger",{attrs:{src:e.product.imagesList.length?e.product.imagesList[0]:""}})],1),s("div",[s("div",{staticClass:"product-name"},[t._v(t._s(e.product.name))]),s("div",{staticClass:"product-desc"},[t._v(t._s(e.optionname&&"("+Object.values(JSON.parse(e.optionname)).join(", ")+")"))])])]),s("div",{staticClass:"price"},[t._v(t._s(t.$amount1(e.amount))+" 元")]),s("div",{staticClass:"count"},[t._v(t._s(e.quantity)+" 个")])])})),s("div",{staticClass:"action"},[s("span",{staticClass:"action-text"},[t._v(t._s(t.map[e.status]||"非此类型商城该有状态"))])])])])}),t.orderlist.length?t._e():s("div",[t._v("该用户还未创建过订单")])],2)],1)},o=[],l=s("be94"),c=(s("7514"),s("ac6a"),s("96cf"),s("1da1")),u=(s("ab1c"),s("e8e1")),d=s("8e44"),v=s("73cd"),p={0:"等待买家支付",1:"拼团中",2:"待发货",3:"等待买家收货",4:"买家已收货",5:"团购失败",6:"买家已取消订单",7:"退货中",8:"已退款",9:"买家申请退货",10:"拒绝买家退货",11:"同意退货但拒绝退款",12:"买家申请退款"},m={data:function(){return{showDialog:!1,list:[],orderlist:[],params:{mobile:"",count:20,idlessthan:0},loadmore:!1,hasMore:!0,token:"",map:p}},created:function(){this.token=Object(v["e"])(),this.getUsers()},methods:{onClickSearchByUser:function(){var t=Object(c["a"])(regeneratorRuntime.mark(function t(e){var s,i,a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return this.orderlist=[],t.next=3,Object(d["b"])("StoreOrderService.GetOrderList",Object(u["a"])("OrderListQueryRequest",{token:Object(u["a"])("Token",{token:this.token}),userid:e.id,status:-1,count:5,sortby:1,sort:1}));case 3:if(s=t.sent,0!==s.orderlistList.length){t.next=7;break}return this.showDialog=!0,t.abrupt("return");case 7:return i=[],s.orderlistList.forEach(function(t){t.orderproductsList.forEach(function(t){i.push(t.productid)})}),t.next=11,Object(d["b"])("StoreProductService.GetProductList",Object(u["a"])("ProductListQueryRequest",{token:Object(u["a"])("Token",{token:this.token}),idlistList:i,sortby:1,sort:1,count:i.length}));case 11:a=t.sent,s.orderlistList.forEach(function(t){t.user=e,t.orderproductsList.forEach(function(t){t.product=a.productlistList.find(function(e){return e.id===t.productid})})}),this.orderlist=s.orderlistList,this.showDialog=!0;case 15:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}(),onSearch:function(){this.list=[],this.getUsers()},getUsers:function(){var t=Object(c["a"])(regeneratorRuntime.mark(function t(){var e,s,i;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return this.loadmore=!0,e=window,s=e.scrollY,this.params.idlessthan=this.list.length?this.list[this.list.length-1].id:0,t.next=5,Object(d["a"])("StoreUserService.GetUserList",Object(u["a"])("UserListQueryRequest",Object(l["a"])({token:Object(u["a"])("Token",{token:this.token})},this.params)));case 5:i=t.sent,this.list=this.list.concat(i.userlistList),this.hasMore=i.userlistList.length,0!==this.params.idlessthan&&window.scroll(0,s),this.loadmore=!1;case 10:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}()}},h=m,b=(s("c5aa"),s("2877")),_=Object(b["a"])(h,n,o,!1,null,null,null),f=_.exports,g=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"container"},[s("el-row",{attrs:{gutter:"8"}},[s("el-col",{attrs:{span:"4"}},[s("el-input",{attrs:{placeholder:"输入手机号搜索","prefix-icon":"el-icon-search",size:"small"},model:{value:t.params.mobile,callback:function(e){t.$set(t.params,"mobile",e)},expression:"params.mobile"}})],1),s("el-col",{attrs:{span:"4"}},[s("el-button",{attrs:{size:"small"},on:{click:t.onSearch}},[t._v("搜索")])],1)],1)],1),s("div",{staticClass:"container"},[s("el-table",{staticStyle:{width:"100%"},attrs:{data:t.list,border:""}},[s("el-table-column",{attrs:{align:"center",label:"ID",prop:"id",width:"50"}}),s("el-table-column",{attrs:{label:"用户"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.row;return[s("div",{staticClass:"member"},[s("div",{staticClass:"member-avatar"},[s("img",{staticClass:"member-avatar",attrs:{src:i.avatar,alt:""}})]),s("div",[s("div",[t._v(t._s(i.nickname))]),2===i.isvip?s("div",{staticClass:"member-tag"},[t._v("会员")]):t._e()])])]}}])}),s("el-table-column",{attrs:{label:"手机号",prop:"mobile"}}),s("el-table-column",{attrs:{label:"性别"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.row;return[s("div",[t._v(t._s({0:"未知",1:"男",2:"女"}[i.gender]))])]}}])}),s("el-table-column",{attrs:{label:"地区"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.row;return[s("div",[t._v(t._s(i.province)+"/"+t._s(i.city))])]}}])}),s("el-table-column",{attrs:{label:"余额"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.row;return[0==i.balance?s("div",[t._v(t._s(i.balance/100)+"元")]):t._e(),i.balance>0?s("div",{staticStyle:{color:"#ff4f4f"}},[t._v(t._s(i.balance/100)+"元")]):t._e()]}}])}),s("el-table-column",{attrs:{align:"center",label:"操作",width:"150"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.row;return[s("el-button",{attrs:{size:"small",type:"text"},on:{click:function(e){t.onClickSearchByUser(i)}}},[t._v("查看最近订单")])]}}])})],1),s("div",{staticClass:"table-bottom"},[t.hasMore?s("el-button",{attrs:{loading:t.loadmore,size:"small",type:"primary"},on:{click:t.getUsers}},[t._v("加载更多")]):s("span",{staticStyle:{color:"#ccc","font-size":"12px"}},[t._v("已经加载全部，没有更多了")])],1)],1),s("el-dialog",{attrs:{visible:t.showDialog,title:"订单列表",width:"800px"},on:{"update:visible":function(e){t.showDialog=e}}},[t._l(t.orderlist,function(e){return s("div",{key:e.id,staticClass:"item"},[s("div",{staticClass:"order-detail"},[s("div",[s("span",{staticClass:"order-detail_text"},[t._v(t._s(e.id))]),e.groupuuid?s("span",{staticClass:"invoice m10"},[t._v("拼团")]):t._e(),e.needinvoice?s("span",{staticClass:"invoice m10"},[t._v("需要开发票")]):t._e()]),s("div",[s("span",{staticClass:"order-detail_text m10"},[t._v(t._s(e.user.nickname)+" "+t._s(e.user.mobile))]),2===e.user.isvip?s("span",{staticClass:"member-tag",staticStyle:{padding:"0 4px"}},[t._v("会员")]):t._e(),s("span",{staticClass:"order-detail_text m10"},[t._v(t._s(new Date(1e3*e.createdat).toLocaleString("zh-CN",{timeZone:"Asia/Shanghai"})))]),s("el-button",{attrs:{size:"small",type:"text"},on:{click:function(s){t.$router.push({name:"order-detail",query:{id:e.id}})}}},[t._v("查看详情")])],1)]),s("div",{staticClass:"table"},[s("div",{staticClass:"products"},t._l(e.orderproductsList,function(i){return s("div",{key:i.id,staticClass:"product"},[s("div",{staticClass:"product-info"},[s("div",{staticClass:"product-img"},[s("comp-imger",{attrs:{src:i.product.imagesList.length?i.product.imagesList[0]:""}})],1),s("div",[s("div",{staticClass:"product-name"},[t._v(t._s(i.product.name))])])]),s("div",{staticClass:"price"},[t._v(t._s(t.$amount1(i.amount))+" 元")]),s("div",{staticClass:"count"},[t._v(t._s(i.quantity)+" 个")]),2==e.status?s("div",{staticClass:"count"},[1==i.confirmed?s("span",{staticClass:"action-text"},[t._v("未核销")]):t._e(),2==i.confirmed?s("span",{staticClass:"action-text"},[t._v("已核销")]):t._e()]):t._e(),2!=e.status?s("div",{staticClass:"count"},[s("span",{staticClass:"action-text"},[t._v("/")])]):t._e()])})),s("div",{staticClass:"action"},[s("span",{staticClass:"action-text"},[t._v(t._s(t.map[e.status]||"非此类型商城该有状态"))])])])])}),t.orderlist.length?t._e():s("div",[t._v("该用户还未创建过订单")])],2)],1)},k=[],w={0:"等待买家支付",1:"拼团中",2:"待核销",4:"已核销",5:"团购失败",6:"买家已取消订单",8:"已退款",12:"买家申请退款"},C={data:function(){return{map:w,showDialog:!1,list:[],orderlist:[],params:{mobile:"",count:20,idlessthan:0},loadmore:!1,hasMore:!0,token:""}},created:function(){this.token=Object(v["e"])(),this.getUsers()},methods:{onClickSearchByUser:function(){var t=Object(c["a"])(regeneratorRuntime.mark(function t(e){var s,i,a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return this.orderlist=[],t.next=3,Object(d["b"])("StoreOrderService.GetOrderList",Object(u["a"])("OrderListQueryRequest",{token:Object(u["a"])("Token",{token:this.token}),userid:e.id,status:-1,count:5,sortby:1,sort:1}));case 3:if(s=t.sent,0!==s.orderlistList.length){t.next=7;break}return this.showDialog=!0,t.abrupt("return");case 7:return i=[],s.orderlistList.forEach(function(t){t.orderproductsList.forEach(function(t){i.push(t.productid)})}),t.next=11,Object(d["b"])("StoreProductService.GetProductList",Object(u["a"])("ProductListQueryRequest",{token:Object(u["a"])("Token",{token:this.token}),idlistList:i,sortby:1,sort:1,count:i.length}));case 11:a=t.sent,s.orderlistList.forEach(function(t){t.user=e,t.orderproductsList.forEach(function(t){t.product=a.productlistList.find(function(e){return e.id===t.productid})})}),this.orderlist=s.orderlistList,this.showDialog=!0;case 15:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}(),onSearch:function(){this.list=[],this.getUsers()},getUsers:function(){var t=Object(c["a"])(regeneratorRuntime.mark(function t(){var e,s,i;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return this.loadmore=!0,e=window,s=e.scrollY,this.params.idlessthan=this.list.length?this.list[this.list.length-1].id:0,t.next=5,Object(d["a"])("StoreUserService.GetUserList",Object(u["a"])("UserListQueryRequest",Object(l["a"])({token:Object(u["a"])("Token",{token:this.token})},this.params)));case 5:i=t.sent,this.list=this.list.concat(i.userlistList),this.hasMore=i.userlistList.length,0!==this.params.idlessthan&&window.scroll(0,s),this.loadmore=!1;case 10:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}()}},y=C,S=(s("0dc8"),Object(b["a"])(y,g,k,!1,null,null,null)),x=S.exports,L=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"container"},[s("el-row",{attrs:{gutter:"8"}},[s("el-col",{attrs:{span:"4"}},[s("el-input",{attrs:{placeholder:"输入手机号搜索","prefix-icon":"el-icon-search",size:"small"},model:{value:t.params.mobile,callback:function(e){t.$set(t.params,"mobile",e)},expression:"params.mobile"}})],1),s("el-col",{attrs:{span:"4"}},[s("el-button",{attrs:{size:"small"},on:{click:t.onSearch}},[t._v("搜索")])],1)],1)],1),s("div",{staticClass:"container"},[s("el-table",{staticStyle:{width:"100%"},attrs:{data:t.list,border:""}},[s("el-table-column",{attrs:{align:"center",label:"ID",prop:"id",width:"50"}}),s("el-table-column",{attrs:{label:"用户"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.row;return[s("div",{staticClass:"member"},[s("div",{staticClass:"member-avatar"},[s("img",{staticClass:"member-avatar",attrs:{src:i.avatar,alt:""}})]),s("div",[s("div",[t._v(t._s(i.nickname))]),2===i.isvip?s("div",{staticClass:"member-tag"},[t._v("会员")]):t._e()])])]}}])}),s("el-table-column",{attrs:{label:"手机号",prop:"mobile"}}),s("el-table-column",{attrs:{label:"性别"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.row;return[s("div",[t._v(t._s({0:"未知",1:"男",2:"女"}[i.gender]))])]}}])}),s("el-table-column",{attrs:{label:"地区"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.row;return[s("div",[t._v(t._s(i.province)+"/"+t._s(i.city))])]}}])}),s("el-table-column",{attrs:{label:"余额"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.row;return[0==i.balance?s("div",[t._v(t._s(i.balance/100)+"元")]):t._e(),i.balance>0?s("div",{staticStyle:{color:"#ff4f4f"}},[t._v(t._s(i.balance/100)+"元")]):t._e()]}}])}),s("el-table-column",{attrs:{align:"center",label:"操作",width:"150"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.row;return[s("el-button",{attrs:{size:"small",type:"text"},on:{click:function(e){t.onClickSearchByUser(i)}}},[t._v("查看最近订单")])]}}])})],1),s("div",{staticClass:"table-bottom"},[t.hasMore?s("el-button",{attrs:{loading:t.loadmore,size:"small",type:"primary"},on:{click:t.getUsers}},[t._v("加载更多")]):s("span",{staticStyle:{color:"#ccc","font-size":"12px"}},[t._v("已经加载全部，没有更多了")])],1)],1),s("el-dialog",{attrs:{visible:t.showDialog,title:"订单列表",width:"800px"},on:{"update:visible":function(e){t.showDialog=e}}},[t._l(t.orderlist,function(e){return s("div",{key:e.id,staticClass:"item"},[s("div",{staticClass:"order-detail"},[s("div",[s("span",{staticClass:"order-detail_text"},[t._v(t._s(e.id))]),e.groupuuid?s("span",{staticClass:"invoice m10"},[t._v("拼团")]):t._e(),e.needinvoice?s("span",{staticClass:"invoice m10"},[t._v("需要开发票")]):t._e()]),s("div",[s("span",{staticClass:"order-detail_text m10"},[t._v(t._s(e.user.nickname)+" "+t._s(e.user.mobile))]),2===e.user.isvip?s("span",{staticClass:"member-tag",staticStyle:{padding:"0 4px"}},[t._v("会员")]):t._e(),s("span",{staticClass:"order-detail_text m10"},[t._v(t._s(new Date(1e3*e.createdat).toLocaleString("zh-CN",{timeZone:"Asia/Shanghai"})))]),s("el-button",{attrs:{size:"small",type:"text"},on:{click:function(s){t.$router.push({name:"order-detail",query:{id:e.id}})}}},[t._v("查看详情")])],1)]),s("div",{staticClass:"table"},[s("div",{staticClass:"products"},t._l(e.orderproductsList,function(e){return s("div",{key:e.id,staticClass:"product"},[s("div",{staticClass:"product-info"},[s("div",{staticClass:"product-img"},[s("comp-imger",{attrs:{src:e.product.imagesList.length?e.product.imagesList[0]:""}})],1),s("div",[s("div",{staticClass:"product-name"},[t._v(t._s(e.product.name))]),s("div",{staticClass:"product-desc"},[t._v(t._s(e.optionname&&"("+Object.values(JSON.parse(e.optionname)).join(", ")+")"))])])]),s("div",{staticClass:"price"},[t._v(t._s(t.$amount1(e.amount))+" 元")]),s("div",{staticClass:"count"},[t._v(t._s(e.quantity)+" 个")])])})),s("div",{staticClass:"action"},[s("span",{staticClass:"action-text"},[t._v(t._s(t.map[e.status]||"非此类型商城该有状态"))])])])])}),t.orderlist.length?t._e():s("div",[t._v("该用户还未创建过订单")])],2)],1)},O=[],j={0:"等待买家支付",1:"拼团中",2:"待发货",3:"等待买家收货",4:"买家已收货",5:"团购失败",6:"买家已取消订单",7:"退货中",8:"已退款",9:"买家申请退货",10:"拒绝买家退货",11:"同意退货但拒绝退款",12:"买家申请退款"},U={data:function(){return{showDialog:!1,list:[],orderlist:[],params:{mobile:"",count:20,idlessthan:0},loadmore:!1,hasMore:!0,token:"",map:j}},created:function(){this.token=Object(v["e"])(),this.getUsers()},methods:{onClickSearchByUser:function(){var t=Object(c["a"])(regeneratorRuntime.mark(function t(e){var s,i,a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return this.orderlist=[],t.next=3,Object(d["b"])("StoreOrderService.GetOrderList",Object(u["a"])("OrderListQueryRequest",{token:Object(u["a"])("Token",{token:this.token}),userid:e.id,status:-1,count:5,sortby:1,sort:1}));case 3:if(s=t.sent,0!==s.orderlistList.length){t.next=7;break}return this.showDialog=!0,t.abrupt("return");case 7:return i=[],s.orderlistList.forEach(function(t){t.orderproductsList.forEach(function(t){i.push(t.productid)})}),t.next=11,Object(d["b"])("StoreProductService.GetProductList",Object(u["a"])("ProductListQueryRequest",{token:Object(u["a"])("Token",{token:this.token}),idlistList:i,sortby:1,sort:1,count:i.length}));case 11:a=t.sent,s.orderlistList.forEach(function(t){t.user=e,t.orderproductsList.forEach(function(t){t.product=a.productlistList.find(function(e){return e.id===t.productid})})}),this.orderlist=s.orderlistList,this.showDialog=!0;case 15:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}(),onSearch:function(){this.list=[],this.getUsers()},getUsers:function(){var t=Object(c["a"])(regeneratorRuntime.mark(function t(){var e,s,i;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return this.loadmore=!0,e=window,s=e.scrollY,this.params.idlessthan=this.list.length?this.list[this.list.length-1].id:0,t.next=5,Object(d["a"])("StoreUserService.GetUserList",Object(u["a"])("UserListQueryRequest",Object(l["a"])({token:Object(u["a"])("Token",{token:this.token})},this.params)));case 5:i=t.sent,this.list=this.list.concat(i.userlistList),this.hasMore=i.userlistList.length,0!==this.params.idlessthan&&window.scroll(0,s),this.loadmore=!1;case 10:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}()}},D=U,z=(s("ddd5"),Object(b["a"])(D,L,O,!1,null,null,null)),R=z.exports,q=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"container"},[s("el-row",{attrs:{gutter:"8"}},[s("el-col",{attrs:{span:"4"}},[s("el-input",{attrs:{placeholder:"输入手机号搜索","prefix-icon":"el-icon-search",size:"small"},model:{value:t.params.mobile,callback:function(e){t.$set(t.params,"mobile",e)},expression:"params.mobile"}})],1),s("el-col",{attrs:{span:"4"}},[s("el-button",{attrs:{size:"small"},on:{click:t.onSearch}},[t._v("搜索")])],1)],1)],1),s("div",{staticClass:"container"},[s("el-table",{staticStyle:{width:"100%"},attrs:{data:t.list,border:""}},[s("el-table-column",{attrs:{align:"center",label:"ID",prop:"id",width:"50"}}),s("el-table-column",{attrs:{label:"用户"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.row;return[s("div",{staticClass:"member"},[s("div",{staticClass:"member-avatar"},[s("img",{staticClass:"member-avatar",attrs:{src:i.avatar,alt:""}})]),s("div",[s("div",[t._v(t._s(i.nickname))]),2===i.isvip?s("div",{staticClass:"member-tag"},[t._v("会员")]):t._e()])])]}}])}),s("el-table-column",{attrs:{label:"手机号",prop:"mobile"}}),s("el-table-column",{attrs:{label:"性别"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.row;return[s("div",[t._v(t._s({0:"未知",1:"男",2:"女"}[i.gender]))])]}}])}),s("el-table-column",{attrs:{label:"地区"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.row;return[s("div",[t._v(t._s(i.province)+"/"+t._s(i.city))])]}}])}),s("el-table-column",{attrs:{label:"余额"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.row;return[0==i.balance?s("div",[t._v(t._s(i.balance/100)+"元")]):t._e(),i.balance>0?s("div",{staticStyle:{color:"#ff4f4f"}},[t._v(t._s(i.balance/100)+"元")]):t._e()]}}])}),s("el-table-column",{attrs:{align:"center",label:"操作",width:"150"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.row;return[s("el-button",{attrs:{size:"small",type:"text"},on:{click:function(e){t.onClickSearchByUser(i)}}},[t._v("查看最近订单")])]}}])})],1),s("div",{staticClass:"table-bottom"},[t.hasMore?s("el-button",{attrs:{loading:t.loadmore,size:"small",type:"primary"},on:{click:t.getUsers}},[t._v("加载更多")]):s("span",{staticStyle:{color:"#ccc","font-size":"12px"}},[t._v("已经加载全部，没有更多了")])],1)],1),s("el-dialog",{attrs:{visible:t.showDialog,title:"订单列表",width:"800px"},on:{"update:visible":function(e){t.showDialog=e}}},[t._l(t.orderlist,function(e){return s("div",{key:e.id,staticClass:"item"},[s("div",{staticClass:"order-detail"},[s("div",[s("span",{staticClass:"order-detail_text"},[t._v(t._s(e.id))]),e.groupuuid?s("span",{staticClass:"invoice m10"},[t._v("拼团")]):t._e(),e.needinvoice?s("span",{staticClass:"invoice m10"},[t._v("需要开发票")]):t._e()]),s("div",[s("span",{staticClass:"order-detail_text m10"},[t._v(t._s(e.user.nickname)+" "+t._s(e.user.mobile))]),2===e.user.isvip?s("span",{staticClass:"member-tag",staticStyle:{padding:"0 4px"}},[t._v("会员")]):t._e(),s("span",{staticClass:"order-detail_text m10"},[t._v(t._s(new Date(1e3*e.createdat).toLocaleString("zh-CN",{timeZone:"Asia/Shanghai"})))]),s("el-button",{attrs:{size:"small",type:"text"},on:{click:function(s){t.$router.push({name:"order-detail",query:{id:e.id}})}}},[t._v("查看详情")])],1)]),s("div",{staticClass:"table"},[s("div",{staticClass:"products"},t._l(e.orderproductsList,function(i){return s("div",{key:i.id,staticClass:"product"},[s("div",{staticClass:"product-info"},[s("div",{staticClass:"product-img"},[s("comp-imger",{attrs:{src:i.product.imagesList.length?i.product.imagesList[0]:""}})],1),s("div",[s("div",{staticClass:"product-name"},[t._v(t._s(i.product.name))]),s("div",{staticClass:"product-desc"},[t._v(t._s(t.week[i.week])+" "+t._s(i.duration/60/60)+"小时 ("+t._s(i.begintime)+" - "+t._s(i.endtime.startsWith(":")?"次日"+i.endtime.slice(1):i.endtime)+")")])])]),s("div",{staticClass:"price"},[t._v(t._s(t.$amount1(i.amount))+" 元")]),s("div",{staticClass:"count"},[t._v(t._s(i.quantity)+" 个")]),2==e.status?s("div",{staticClass:"count"},[1==i.confirmed?s("span",{staticClass:"action-text"},[t._v("未核销")]):t._e(),2==i.confirmed?s("span",{staticClass:"action-text"},[t._v("已核销")]):t._e()]):t._e(),2!=e.status?s("div",{staticClass:"count"},[s("span",{staticClass:"action-text"},[t._v("/")])]):t._e()])})),s("div",{staticClass:"action"},[s("span",{staticClass:"action-text"},[t._v(t._s(t.map[e.status]||"非此类型商城该有状态"))])])])])}),t.orderlist.length?t._e():s("div",[t._v("该用户还未创建过订单")])],2)],1)},E=[],P={0:"等待买家支付",1:"拼团中",2:"待核销",4:"已核销",5:"团购失败",6:"买家已取消订单",8:"已退款",12:"买家申请退款"},T={1:"周一",2:"周二",3:"周三",4:"周四",5:"周五",6:"周六",7:"周日"},$={data:function(){return{showDialog:!1,list:[],orderlist:[],params:{mobile:"",count:20,idlessthan:0},loadmore:!1,hasMore:!0,token:"",map:P,week:T}},created:function(){this.token=Object(v["e"])(),this.getUsers()},methods:{onClickSearchByUser:function(){var t=Object(c["a"])(regeneratorRuntime.mark(function t(e){var s,i,a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return this.orderlist=[],t.next=3,Object(d["b"])("StoreOrderService.GetOrderList",Object(u["a"])("OrderListQueryRequest",{token:Object(u["a"])("Token",{token:this.token}),userid:e.id,status:-1,count:5,sortby:1,sort:1}));case 3:if(s=t.sent,0!==s.orderlistList.length){t.next=7;break}return this.showDialog=!0,t.abrupt("return");case 7:return i=[],s.orderlistList.forEach(function(t){t.orderproductsList.forEach(function(t){i.push(t.productid)})}),t.next=11,Object(d["b"])("StoreProductService.GetProductList",Object(u["a"])("ProductListQueryRequest",{token:Object(u["a"])("Token",{token:this.token}),idlistList:i,sortby:1,sort:1,count:i.length}));case 11:a=t.sent,s.orderlistList.forEach(function(t){t.user=e,t.orderproductsList.forEach(function(t){t.product=a.productlistList.find(function(e){return e.id===t.productid})})}),this.orderlist=s.orderlistList,this.showDialog=!0;case 15:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}(),onSearch:function(){this.list=[],this.getUsers()},getUsers:function(){var t=Object(c["a"])(regeneratorRuntime.mark(function t(){var e,s,i;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return this.loadmore=!0,e=window,s=e.scrollY,this.params.idlessthan=this.list.length?this.list[this.list.length-1].id:0,t.next=5,Object(d["a"])("StoreUserService.GetUserList",Object(u["a"])("UserListQueryRequest",Object(l["a"])({token:Object(u["a"])("Token",{token:this.token})},this.params)));case 5:i=t.sent,this.list=this.list.concat(i.userlistList),this.hasMore=i.userlistList.length,0!==this.params.idlessthan&&window.scroll(0,s),this.loadmore=!1;case 10:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}()}},G=$,M=(s("2147"),Object(b["a"])(G,q,E,!1,null,null,null)),Q=M.exports,N=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"container"},[s("el-row",{attrs:{gutter:"8"}},[s("el-col",{attrs:{span:"4"}},[s("el-input",{attrs:{placeholder:"输入手机号搜索","prefix-icon":"el-icon-search",size:"small"},model:{value:t.params.mobile,callback:function(e){t.$set(t.params,"mobile",e)},expression:"params.mobile"}})],1),s("el-col",{attrs:{span:"4"}},[s("el-button",{attrs:{size:"small"},on:{click:t.onSearch}},[t._v("搜索")])],1)],1)],1),s("div",{staticClass:"container"},[s("el-table",{staticStyle:{width:"100%"},attrs:{data:t.list,border:""}},[s("el-table-column",{attrs:{align:"center",label:"ID",prop:"id",width:"50"}}),s("el-table-column",{attrs:{label:"用户"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.row;return[s("div",{staticClass:"member"},[s("div",{staticClass:"member-avatar"},[s("img",{staticClass:"member-avatar",attrs:{src:i.avatar,alt:""}})]),s("div",[s("div",[t._v(t._s(i.nickname))]),2===i.isvip?s("div",{staticClass:"member-tag"},[t._v("会员")]):t._e()])])]}}])}),s("el-table-column",{attrs:{label:"手机号",prop:"mobile"}}),s("el-table-column",{attrs:{label:"性别"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.row;return[s("div",[t._v(t._s({0:"未知",1:"男",2:"女"}[i.gender]))])]}}])}),s("el-table-column",{attrs:{label:"地区"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.row;return[s("div",[t._v(t._s(i.province)+"/"+t._s(i.city))])]}}])}),s("el-table-column",{attrs:{label:"余额"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.row;return[0==i.balance?s("div",[t._v(t._s(i.balance/100)+"元")]):t._e(),i.balance>0?s("div",{staticStyle:{color:"#ff4f4f"}},[t._v(t._s(i.balance/100)+"元")]):t._e()]}}])}),s("el-table-column",{attrs:{align:"center",label:"操作",width:"150"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.row;return[s("el-button",{attrs:{size:"small",type:"text"},on:{click:function(e){t.onClickSearchByUser(i)}}},[t._v("查看最近订单")])]}}])})],1),s("div",{staticClass:"table-bottom"},[t.hasMore?s("el-button",{attrs:{loading:t.loadmore,size:"small",type:"primary"},on:{click:t.getUsers}},[t._v("加载更多")]):s("span",{staticStyle:{color:"#ccc","font-size":"12px"}},[t._v("已经加载全部，没有更多了")])],1)],1),s("el-dialog",{attrs:{visible:t.showDialog,title:"订单列表",width:"800px"},on:{"update:visible":function(e){t.showDialog=e}}},[t._l(t.orderlist,function(e){return s("div",{key:e.id,staticClass:"item"},[s("div",{staticClass:"order-detail"},[s("div",[s("span",{staticClass:"order-detail_text"},[t._v(t._s(e.id))]),e.groupuuid?s("span",{staticClass:"invoice m10"},[t._v("拼团")]):t._e(),e.subscriptionid>0?s("span",{staticClass:"invoice m10"},[t._v("周期购")]):t._e(),e.needinvoice?s("span",{staticClass:"invoice m10"},[t._v("需要开发票")]):t._e()]),s("div",[s("span",{staticClass:"order-detail_text m10"},[t._v(t._s(e.user.nickname)+" "+t._s(e.user.mobile))]),2===e.user.isvip?s("span",{staticClass:"member-tag",staticStyle:{padding:"0 4px"}},[t._v("会员")]):t._e(),s("span",{staticClass:"order-detail_text m10"},[t._v(t._s(new Date(1e3*e.createdat).toLocaleString("zh-CN",{timeZone:"Asia/Shanghai"})))]),s("el-button",{attrs:{size:"small",type:"text"},on:{click:function(s){t.$router.push({name:"order-detail",query:{id:e.id}})}}},[t._v("查看详情")])],1)]),s("div",{staticClass:"table"},[s("div",{staticClass:"products"},t._l(e.orderproductsList,function(i,a){return s("div",{key:i.id,staticClass:"product"},[s("div",{staticClass:"product-info"},[s("div",{staticClass:"product-img"},[s("comp-imger",{attrs:{src:i.product.imagesList.length?i.product.imagesList[0]:""}})],1),s("div",[s("div",{staticClass:"product-name"},[t._v(t._s(i.product.name))]),s("div",{staticClass:"product-desc"},[t._v(t._s(i.optionname&&"("+Object.values(JSON.parse(i.optionname)).join(", ")+")"))]),e.subscriptionid>0?s("div",{staticClass:"product-desc"},[t._v("第"+t._s(a+1)+"期 送达时间: "+t._s(new Date(1e3*e.createdat).toLocaleString("zh-CN",{timeZone:"Asia/Shanghai"})))]):t._e()])]),s("div",{staticClass:"price"},[t._v(t._s(t.$amount1(i.amount))+" 元")]),s("div",{staticClass:"count"},[t._v(t._s(i.quantity)+" 个")])])})),s("div",{staticClass:"action"},[s("span",{staticClass:"action-text"},[t._v(t._s(t.map[e.status]||"非此类型商城该有状态"))])])])])}),t.orderlist.length?t._e():s("div",[t._v("该用户还未创建过订单")])],2)],1)},B=[],A={0:"等待买家支付",1:"拼团中",2:"待发货",3:"等待买家收货",4:"买家已收货",5:"团购失败",6:"买家已取消订单",8:"已退款",12:"买家申请退款"},I={data:function(){return{showDialog:!1,list:[],orderlist:[],params:{mobile:"",count:20,idlessthan:0},loadmore:!1,hasMore:!0,token:"",map:A}},created:function(){this.token=Object(v["e"])(),this.getUsers()},methods:{onClickSearchByUser:function(){var t=Object(c["a"])(regeneratorRuntime.mark(function t(e){var s,i,a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return this.orderlist=[],t.next=3,Object(d["b"])("StoreOrderService.GetOrderList",Object(u["a"])("OrderListQueryRequest",{token:Object(u["a"])("Token",{token:this.token}),userid:e.id,status:-1,count:5,sortby:1,sort:1}));case 3:if(s=t.sent,0!==s.orderlistList.length){t.next=7;break}return this.showDialog=!0,t.abrupt("return");case 7:return i=[],s.orderlistList.forEach(function(t){t.orderproductsList.forEach(function(t){i.push(t.productid)})}),t.next=11,Object(d["b"])("StoreProductService.GetProductList",Object(u["a"])("ProductListQueryRequest",{token:Object(u["a"])("Token",{token:this.token}),idlistList:i,sortby:1,sort:1,count:i.length}));case 11:a=t.sent,s.orderlistList.forEach(function(t){t.user=e,t.orderproductsList.forEach(function(t){t.product=a.productlistList.find(function(e){return e.id===t.productid})})}),this.orderlist=s.orderlistList,this.showDialog=!0;case 15:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}(),onSearch:function(){this.list=[],this.getUsers()},getUsers:function(){var t=Object(c["a"])(regeneratorRuntime.mark(function t(){var e,s,i;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return this.loadmore=!0,e=window,s=e.scrollY,this.params.idlessthan=this.list.length?this.list[this.list.length-1].id:0,t.next=5,Object(d["a"])("StoreUserService.GetUserList",Object(u["a"])("UserListQueryRequest",Object(l["a"])({token:Object(u["a"])("Token",{token:this.token})},this.params)));case 5:i=t.sent,this.list=this.list.concat(i.userlistList),this.hasMore=i.userlistList.length,0!==this.params.idlessthan&&window.scroll(0,s),this.loadmore=!1;case 10:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}()}},Z=I,J=(s("c69b"),Object(b["a"])(Z,N,B,!1,null,null,null)),Y=J.exports,W=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"container"},[s("el-row",{attrs:{gutter:"8"}},[s("el-col",{attrs:{span:"4"}},[s("el-input",{attrs:{placeholder:"输入手机号搜索","prefix-icon":"el-icon-search",size:"small"},model:{value:t.params.mobile,callback:function(e){t.$set(t.params,"mobile",e)},expression:"params.mobile"}})],1),s("el-col",{attrs:{span:"4"}},[s("el-button",{attrs:{size:"small"},on:{click:t.onSearch}},[t._v("搜索")])],1)],1)],1),s("div",{staticClass:"container"},[s("el-table",{staticStyle:{width:"100%"},attrs:{data:t.list,border:""}},[s("el-table-column",{attrs:{align:"center",label:"ID",prop:"id",width:"50"}}),s("el-table-column",{attrs:{label:"用户"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.row;return[s("div",{staticClass:"member"},[s("div",{staticClass:"member-avatar"},[s("img",{staticClass:"member-avatar",attrs:{src:i.avatar,alt:""}})]),s("div",[s("div",[t._v(t._s(i.nickname))]),2===i.isvip?s("div",{staticClass:"member-tag"},[t._v("会员")]):t._e()])])]}}])}),s("el-table-column",{attrs:{label:"手机号",prop:"mobile"}}),s("el-table-column",{attrs:{label:"性别"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.row;return[s("div",[t._v(t._s({0:"未知",1:"男",2:"女"}[i.gender]))])]}}])}),s("el-table-column",{attrs:{label:"地区"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.row;return[s("div",[t._v(t._s(i.province)+"/"+t._s(i.city))])]}}])}),s("el-table-column",{attrs:{label:"余额"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.row;return[0==i.balance?s("div",[t._v(t._s(i.balance/100)+"元")]):t._e(),i.balance>0?s("div",{staticStyle:{color:"#ff4f4f"}},[t._v(t._s(i.balance/100)+"元")]):t._e()]}}])}),s("el-table-column",{attrs:{align:"center",label:"操作",width:"150"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.row;return[s("el-button",{attrs:{size:"small",type:"text"},on:{click:function(e){t.onClickSearchByUser(i)}}},[t._v("查看最近订单")])]}}])})],1),s("div",{staticClass:"table-bottom"},[t.hasMore?s("el-button",{attrs:{loading:t.loadmore,size:"small",type:"primary"},on:{click:t.getUsers}},[t._v("加载更多")]):s("span",{staticStyle:{color:"#ccc","font-size":"12px"}},[t._v("已经加载全部，没有更多了")])],1)],1),s("el-dialog",{attrs:{visible:t.showDialog,title:"订单列表",width:"1000px"},on:{"update:visible":function(e){t.showDialog=e}}},[t._l(t.orderlist,function(e){return s("div",{key:e.id,staticClass:"product-card"},[s("div",{staticClass:"product-card-head"},[s("span",{staticClass:"product-id"},[t._v(t._s(e.id))]),s("span",{directives:[{name:"show",rawName:"v-show",value:1==e.needinvoice,expression:"item.needinvoice == 1"}],staticClass:"product-need-voice"},[t._v("需要开发票")]),s("div",{staticClass:"product-other-info"},[s("el-button",{attrs:{size:"small",type:"text"},on:{click:function(s){t.$router.push({name:"order-detail",query:{id:e.id}})}}},[t._v("\n            查看详情\n          ")])],1)]),s("table",{staticClass:"product-card-table"},[s("tr",[s("td",{attrs:{width:"100px"}},[s("span",{staticClass:"product-deliver-type",style:{backgroundColor:t.getProductDeliverTypeColor(e.deliverkind)}},[t._v("\n              "+t._s(t.getProductDeliverType(e.deliverkind))+" ")]),s("br"),1==e.deliverkind?s("span",{staticClass:"product-deliver-time"},[t._v(t._s(new Date(1e3*e.delivertime).toLocaleString("zh-CN",{timeZone:"Asia/Shanghai"}))+" ")]):t._e(),s("br"),1==e.deliverkind&&e.delivertime<parseInt(Date.now()/1e3)&&3==e.status?s("span",{staticClass:"product-out-time"},[t._v("已超时")]):t._e(),2==e.deliverkind?s("span",{staticClass:"product-deliver-time"},[t._v("#"+t._s(e.daynumber)+" ")]):t._e()]),s("td",{staticStyle:{"text-align":"left","vertical-align":"top"},attrs:{width:"240px"}},t._l(e.orderproductsList,function(e){return s("span",{key:e.productid},[t._v(" "+t._s(e.product.name)+" "+t._s(e.optionname&&"("+Object.values(JSON.parse(e.optionname)).join(", ")+")")+" × "+t._s(e.quantity)),s("br")])})),s("td",{attrs:{width:"120px"}},[t._v("\n            "+t._s(e.user.nickname)),s("br"),t._v("\n            "+t._s(e.user.mobile)),s("br"),2===e.user.isvip?s("span",{staticClass:"product-member-tag"},[t._v("会员")]):t._e()]),s("td",{attrs:{width:"80px"}},[t._v("\n            "+t._s(new Date(1e3*e.createdat).toLocaleString("zh-CN",{timeZone:"Asia/Shanghai"}))+"\n          ")]),s("td",{attrs:{width:"80px"}},[t._v("￥"+t._s((e.actualamount+e.freight)/1e3))]),s("td",{staticStyle:{"text-align":"left","vertical-align":"top","min-width":"80px"}},[t._v("\n            "+t._s(e.note)+"\n          ")]),s("td",{attrs:{width:"100px"}},[t._v("\n            "+t._s(t.getOrderStatus(e.status,e.deliverkind))+"\n            "),s("tr")])])])])}),t.orderlist.length?t._e():s("div",[t._v("该用户还未创建过订单")])],2)],1)},F=[],H={0:"等待顾客支付","2_1":"等待商家备货","2_2":"等待商家发货","3_1":"等待顾客取货","3_2":"已接单待收货",4:"已完成",6:"顾客已取消订单",8:"已退款",12:"顾客请求退款"},K=function(t,e){return H[t]||H["".concat(t,"_").concat(e)]},V={data:function(){return{showDialog:!1,list:[],orderlist:[],params:{mobile:"",count:20,idlessthan:0},loadmore:!1,hasMore:!0,token:""}},created:function(){this.token=Object(v["e"])(),this.getUsers()},methods:{onClickSearchByUser:function(){var t=Object(c["a"])(regeneratorRuntime.mark(function t(e){var s,i,a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return this.orderlist=[],t.next=3,Object(d["b"])("StoreOrderService.GetOrderList",Object(u["a"])("OrderListQueryRequest",{token:Object(u["a"])("Token",{token:this.token}),userid:e.id,status:-1,count:5,sortby:1,sort:1}));case 3:if(s=t.sent,0!==s.orderlistList.length){t.next=7;break}return this.showDialog=!0,t.abrupt("return");case 7:return i=[],s.orderlistList.forEach(function(t){t.orderproductsList.forEach(function(t){i.push(t.productid)})}),t.next=11,Object(d["b"])("StoreProductService.GetProductList",Object(u["a"])("ProductListQueryRequest",{token:Object(u["a"])("Token",{token:this.token}),idlistList:i,sortby:1,sort:1,count:i.length}));case 11:a=t.sent,s.orderlistList.forEach(function(t){t.user=e,t.orderproductsList.forEach(function(t){t.product=a.productlistList.find(function(e){return e.id===t.productid})})}),this.orderlist=s.orderlistList,this.showDialog=!0;case 15:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}(),onSearch:function(){this.list=[],this.getUsers()},getUsers:function(){var t=Object(c["a"])(regeneratorRuntime.mark(function t(){var e,s,i;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return this.loadmore=!0,e=window,s=e.scrollY,this.params.idlessthan=this.list.length?this.list[this.list.length-1].id:0,t.next=5,Object(d["a"])("StoreUserService.GetUserList",Object(u["a"])("UserListQueryRequest",Object(l["a"])({token:Object(u["a"])("Token",{token:this.token})},this.params)));case 5:i=t.sent,this.list=this.list.concat(i.userlistList),this.hasMore=i.userlistList.length,0!==this.params.idlessthan&&window.scroll(0,s),this.loadmore=!1;case 10:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),getProductDeliverType:function(t){return 1===t?"自提":2===t?"外卖":""},getOrderStatus:K,getProductDeliverTypeColor:function(t){return 1===t?"#549f44":2===t?"#559cda":""}}},X=V,tt=(s("471e"),Object(b["a"])(X,W,F,!1,null,null,null)),et=tt.exports,st=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"container"},[s("el-row",{attrs:{gutter:"8"}},[s("el-col",{attrs:{span:"4"}},[s("el-input",{attrs:{placeholder:"输入手机号搜索","prefix-icon":"el-icon-search",size:"small"},model:{value:t.params.mobile,callback:function(e){t.$set(t.params,"mobile",e)},expression:"params.mobile"}})],1),s("el-col",{attrs:{span:"4"}},[s("el-button",{attrs:{size:"small"},on:{click:t.onSearch}},[t._v("搜索")])],1)],1)],1),s("div",{staticClass:"container"},[s("el-table",{staticStyle:{width:"100%"},attrs:{data:t.list,border:""}},[s("el-table-column",{attrs:{align:"center",label:"ID",prop:"id",width:"50"}}),s("el-table-column",{attrs:{label:"用户"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.row;return[s("div",{staticClass:"member"},[s("div",{staticClass:"member-avatar"},[s("img",{staticClass:"member-avatar",attrs:{src:i.avatar,alt:""}})]),s("div",[s("div",[t._v(t._s(i.nickname))]),2===i.isvip?s("div",{staticClass:"member-tag"},[t._v("会员")]):t._e()])])]}}])}),s("el-table-column",{attrs:{label:"手机号",prop:"mobile"}}),s("el-table-column",{attrs:{label:"性别"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.row;return[s("div",[t._v(t._s({0:"未知",1:"男",2:"女"}[i.gender]))])]}}])}),s("el-table-column",{attrs:{label:"地区"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.row;return[s("div",[t._v(t._s(i.province)+"/"+t._s(i.city))])]}}])}),s("el-table-column",{attrs:{label:"余额"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.row;return[0==i.balance?s("div",[t._v(t._s(i.balance/100)+"元")]):t._e(),i.balance>0?s("div",{staticStyle:{color:"#ff4f4f"}},[t._v(t._s(i.balance/100)+"元")]):t._e()]}}])}),s("el-table-column",{attrs:{align:"center",label:"操作",width:"150"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.row;return[s("el-button",{attrs:{size:"small",type:"text"},on:{click:function(e){t.onClickSearchByUser(i)}}},[t._v("查看最近订单")])]}}])})],1),s("div",{staticClass:"table-bottom"},[t.hasMore?s("el-button",{attrs:{loading:t.loadmore,size:"small",type:"primary"},on:{click:t.getUsers}},[t._v("加载更多")]):s("span",{staticStyle:{color:"#ccc","font-size":"12px"}},[t._v("已经加载全部，没有更多了")])],1)],1),s("el-dialog",{attrs:{visible:t.showDialog,title:"订单列表",width:"1000px"},on:{"update:visible":function(e){t.showDialog=e}}},[t._l(t.orderlist,function(e){return s("div",{key:e.id,staticClass:"product-card"},[s("div",{staticClass:"product-card-head"},[s("span",{staticClass:"product-id"},[t._v(t._s(e.id))]),s("span",{directives:[{name:"show",rawName:"v-show",value:1==e.needinvoice,expression:"item.needinvoice == 1"}],staticClass:"product-need-voice"},[t._v("需要开发票")]),s("div",{staticClass:"product-other-info"},[s("el-button",{attrs:{size:"small",type:"text"},on:{click:function(s){t.$router.push({name:"order-detail",query:{id:e.id}})}}},[t._v("\n            查看详情\n          ")])],1)]),s("table",{staticClass:"product-card-table"},[s("tr",[s("td",{attrs:{width:"100px"}},[s("span",{staticClass:"product-deliver-type",style:{backgroundColor:t.getProductDeliverTypeColor(e.deliverkind)}},[t._v("\n              "+t._s(t.getProductDeliverType(e.deliverkind))+" ")]),s("br"),1==e.deliverkind?s("span",{staticClass:"product-deliver-time"},[t._v(t._s(new Date(1e3*e.delivertime).toLocaleString("zh-CN",{timeZone:"Asia/Shanghai"}))+" ")]):t._e(),s("br"),1==e.deliverkind&&e.delivertime<parseInt(Date.now()/1e3)&&3==e.status?s("span",{staticClass:"product-out-time"},[t._v("已超时")]):t._e(),2==e.deliverkind?s("span",{staticClass:"product-deliver-time"},[t._v("#"+t._s(e.daynumber)+" ")]):t._e(),3==e.deliverkind?s("span",{staticClass:"product-deliver-time"},[t._v("#"+t._s(e.desk)+" ")]):t._e(),4==e.deliverkind?s("span",{staticClass:"product-deliver-time"},[t._v("#"+t._s(e.daynumber)+" ")]):t._e()]),s("td",{staticStyle:{"text-align":"left","vertical-align":"top"},attrs:{width:"240px"}},t._l(e.orderproductsList,function(e){return s("span",{key:e.productid},[t._v(" "+t._s(e.product.name)+" "+t._s(e.optionname&&"("+Object.values(JSON.parse(e.optionname)).join(", ")+")")+" × "+t._s(e.quantity)),s("br")])})),s("td",{attrs:{width:"120px"}},[t._v("\n            "+t._s(e.user.nickname)),s("br"),t._v("\n            "+t._s(e.user.mobile)),s("br"),2===e.user.isvip?s("span",{staticClass:"product-member-tag"},[t._v("会员")]):t._e()]),s("td",{attrs:{width:"80px"}},[t._v("\n            "+t._s(new Date(1e3*e.createdat).toLocaleString("zh-CN",{timeZone:"Asia/Shanghai"}))+"\n          ")]),s("td",{attrs:{width:"80px"}},[t._v("￥"+t._s((e.actualamount+e.freight)/1e3))]),s("td",{staticStyle:{"text-align":"left","vertical-align":"top","min-width":"80px"}},[t._v("\n            "+t._s(e.note)+"\n          ")]),s("td",{attrs:{width:"100px"}},[t._v("\n            "+t._s(t.getOrderStatus(e.status,e.deliverkind))+"\n            "),s("tr")])])])])}),t.orderlist.length?t._e():s("div",[t._v("该用户还未创建过订单")])],2)],1)},it=[],at={0:"等待顾客支付","2_1":"等待商家备货","2_2":"等待商家发货","2_3":"等待商家上菜","2_4":"等待商家备菜","3_1":"等待顾客取货","3_2":"已接单待收货","3_3":"已接单待收货","3_4":"已接单待收货",4:"已完成",6:"顾客已取消订单",8:"已退款",12:"顾客请求退款"},rt=function(t,e){return at[t]||at["".concat(t,"_").concat(e)]},nt={data:function(){return{showDialog:!1,list:[],orderlist:[],params:{mobile:"",count:20,idlessthan:0},loadmore:!1,hasMore:!0,token:""}},created:function(){this.token=Object(v["e"])(),this.getUsers()},methods:{onClickSearchByUser:function(){var t=Object(c["a"])(regeneratorRuntime.mark(function t(e){var s,i,a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return this.orderlist=[],t.next=3,Object(d["b"])("StoreOrderService.GetOrderList",Object(u["a"])("OrderListQueryRequest",{token:Object(u["a"])("Token",{token:this.token}),userid:e.id,status:-1,count:5,sortby:1,sort:1}));case 3:if(s=t.sent,0!==s.orderlistList.length){t.next=7;break}return this.showDialog=!0,t.abrupt("return");case 7:return i=[],s.orderlistList.forEach(function(t){t.orderproductsList.forEach(function(t){i.push(t.productid)})}),t.next=11,Object(d["b"])("StoreProductService.GetProductList",Object(u["a"])("ProductListQueryRequest",{token:Object(u["a"])("Token",{token:this.token}),idlistList:i,sortby:1,sort:1,count:i.length}));case 11:a=t.sent,s.orderlistList.forEach(function(t){t.user=e,t.orderproductsList.forEach(function(t){t.product=a.productlistList.find(function(e){return e.id===t.productid})})}),this.orderlist=s.orderlistList,this.showDialog=!0;case 15:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}(),onSearch:function(){this.list=[],this.getUsers()},getUsers:function(){var t=Object(c["a"])(regeneratorRuntime.mark(function t(){var e,s,i;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return this.loadmore=!0,e=window,s=e.scrollY,this.params.idlessthan=this.list.length?this.list[this.list.length-1].id:0,t.next=5,Object(d["a"])("StoreUserService.GetUserList",Object(u["a"])("UserListQueryRequest",Object(l["a"])({token:Object(u["a"])("Token",{token:this.token})},this.params)));case 5:i=t.sent,this.list=this.list.concat(i.userlistList),this.hasMore=i.userlistList.length,0!==this.params.idlessthan&&window.scroll(0,s),this.loadmore=!1;case 10:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),getProductDeliverType:function(t){return 1===t?"自提":2===t?"外卖":3===t?"桌号堂食":4===t?"叫号堂食":""},getProductDeliverTypeColor:function(t){return 1===t?"#549f44":2===t?"#559cda":3===t||4===t?"#cd4a58":""},getOrderStatus:rt}},ot=nt,lt=(s("353e"),Object(b["a"])(ot,st,it,!1,null,null,null)),ct=lt.exports,ut={_0:f,_1:x,_2:R,_3:Q,_4:Y,_6:et,_7:ct},dt={0:"_0",1:"_1",2:"_2",3:"_3",4:"_4",6:"_6",7:"_7"},vt=Object(r["a"])({name:"customer-list-entry",components:ut,map:dt}),pt=vt,mt=Object(b["a"])(pt,i,a,!1,null,null,null);e["default"]=mt.exports},"750b":function(t,e,s){},"7bf9":function(t,e,s){},"80bf":function(t,e,s){"use strict";s("96cf");var i=s("1da1"),a=(s("7f7f"),s("a3fb"));e["a"]=function(t){var e=t.name,s=t.components,r=t.map;return{name:e,components:s,data:function(){return{store:{}}},created:function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(a["b"])();case 2:this.store=t.sent;case 3:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),render:function(t){return t(r[this.store.kind])}}}},ab1c:function(t,e,s){"use strict";var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"tab"},t._l(t.data,function(e){return s("div",{key:e.label,class:["tab-item",{active:t.value===e.value}],on:{click:function(s){t.onClickItem(e.value)}}},[t._v(t._s(e.label))])}))},a=[],r={props:{data:{type:Array,default:function(){return[{label:"test",value:0},{label:"test2",value:1}]},required:!0},value:{default:"",required:!0}},methods:{onClickItem:function(t){this.$emit("input",t)}}},n=r,o=(s("56ee"),s("2877")),l=Object(o["a"])(n,i,a,!1,null,"5e44c4ee",null);e["a"]=l.exports},bff6:function(t,e,s){},c5aa:function(t,e,s){"use strict";var i=s("cb84"),a=s.n(i);a.a},c69b:function(t,e,s){"use strict";var i=s("750b"),a=s.n(i);a.a},cb84:function(t,e,s){},d7f2:function(t,e,s){},ddd5:function(t,e,s){"use strict";var i=s("d7f2"),a=s.n(i);a.a},f870:function(t,e,s){}}]);
//# sourceMappingURL=custom-list.4921d559.js.map