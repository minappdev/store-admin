(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["setting-employee-edit"],{"12e0":function(e,t,r){},"272a":function(e,t,r){"use strict";var n=r("12e0"),i=r.n(n);i.a},"3a8e":function(e,t,r){"use strict";r.r(t);var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("div",{staticClass:"navigator-bar"},[e._v("\n    "+e._s(1===this.form.id?"编辑员工":"添加员工")+"\n    "),r("el-button",{attrs:{size:"small"},on:{click:function(t){e.$router.back()}}},[e._v("返回")])],1),r("div",{staticClass:"container"},[r("el-form",{ref:"form",staticStyle:{width:"360px"},attrs:{model:e.form,rules:e.rules,"label-position":"right","label-width":"80px"}},[r("el-form-item",{attrs:{label:"员工名"}},[r("el-input",{attrs:{placeholder:"请输入员工名"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),r("el-form-item",{attrs:{label:"手机号"}},[r("el-input",{attrs:{placeholder:"请输入员工手机号"},model:{value:e.form.mobile,callback:function(t){e.$set(e.form,"mobile",t)},expression:"form.mobile"}})],1),r("el-form-item",{attrs:{label:"选择角色"}},[r("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择",size:"large"},model:{value:e.form.storeroleid,callback:function(t){e.$set(e.form,"storeroleid",t)},expression:"form.storeroleid"}},e._l(e.roleOptions,function(e){return r("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}))],1),r("el-form-item",{attrs:{label:"具备权限"}},e._l(e.rolePermissions,function(t){return r("div",{key:t},[e._v(e._s(t))])}))],1)],1),r("div",{staticStyle:{"text-align":"right",padding:"24px"}},[this.form.id?r("el-button",{attrs:{size:"small",type:"primary"},on:{click:e.update}},[e._v("更新")]):e._e(),this.form.id?e._e():r("el-button",{attrs:{size:"small",type:"primary"},on:{click:e.create}},[e._v("添加")])],1)])},i=[],o=(r("96cf"),r("1da1")),a=(r("7514"),r("ab1c"),r("e8e1")),s=r("8e44"),l=r("73cd"),c={name:"EmployeeEdit",data:function(){return{form:{id:0,name:"",mobile:"",storeroleid:0},roleOptions:[],rolePermissions:[],rules:{name:[{required:!0,message:"请输入员工名",trigger:"blur"}],mobile:[{required:!0,message:"请输入员工联系方式",trigger:"blur"}],storeroleid:[{required:!0}]}}},watch:{"form.storeroleid":function(e){var t=this.roleOptions.find(function(t){return t.id===e});this.rolePermissions=t.cansList}},mounted:function(){var e=Object(o["a"])(regeneratorRuntime.mark(function e(){var t,r=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return this.token=Object(l["e"])(),e.next=3,Object(s["a"])("StoreStoreRoleService.GetStoreRoleList",Object(a["a"])("StoreRoleListQueryRequest",{token:Object(a["a"])("Token",{token:this.token}),count:100}));case 3:t=e.sent,this.roleOptions=t.storerolelistList,t.storerolelistList.length&&(this.form.storeroleid=t.storerolelistList[0].id),this.$route.query.id&&Object(s["a"])("StoreStoreAdminService.GetStoreAdmin",Object(a["a"])("IDWithTokenRequest",{token:Object(a["a"])("Token",{token:this.token}),id:this.$route.query.id})).then(function(e){r.form=e});case 7:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),methods:{create:function(){var e=this;this.$refs.form.validate(function(){var t=Object(o["a"])(regeneratorRuntime.mark(function t(r){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(!r){t.next=6;break}return t.next=3,Object(s["a"])("StoreStoreAdminService.CreateStoreAdmin",Object(a["a"])("StoreAdminWithTokenRequest",{token:Object(a["a"])("Token",{token:e.token}),storeadmin:Object(a["a"])("StoreAdmin",e.form)}));case 3:t.sent,e.$router.back(),e.$message({message:"保存成功",type:"success"});case 6:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}())},update:function(){var e=this;this.$refs.form.validate(function(){var t=Object(o["a"])(regeneratorRuntime.mark(function t(r){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(!r){t.next=6;break}return t.next=3,Object(s["a"])("StoreStoreAdminService.UpdateStoreAdmin",Object(a["a"])("StoreAdminWithTokenRequest",{token:Object(a["a"])("Token",{token:e.token}),storeadmin:Object(a["a"])("StoreAdmin",e.form)}));case 3:t.sent,e.$router.back(),e.$message({message:"保存成功",type:"success"});case 6:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}())}}},u=c,m=(r("272a"),r("2877")),f=Object(m["a"])(u,n,i,!1,null,"99408436",null);t["default"]=f.exports},"56ee":function(e,t,r){"use strict";var n=r("bff6"),i=r.n(n);i.a},ab1c:function(e,t,r){"use strict";var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"tab"},e._l(e.data,function(t){return r("div",{key:t.label,class:["tab-item",{active:e.value===t.value}],on:{click:function(r){e.onClickItem(t.value)}}},[e._v(e._s(t.label))])}))},i=[],o={props:{data:{type:Array,default:function(){return[{label:"test",value:0},{label:"test2",value:1}]},required:!0},value:{default:"",required:!0}},methods:{onClickItem:function(e){this.$emit("input",e)}}},a=o,s=(r("56ee"),r("2877")),l=Object(s["a"])(a,n,i,!1,null,"5e44c4ee",null);t["a"]=l.exports},bff6:function(e,t,r){}}]);
//# sourceMappingURL=setting-employee-edit.8a3c31bc.js.map